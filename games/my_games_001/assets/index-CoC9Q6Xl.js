(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const d of f.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(u){if(u.ep)return;u.ep=!0;const f=i(u);fetch(u.href,f)}})();function wT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Dh={exports:{}},Kl={};var yy;function RT(){if(yy)return Kl;yy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,u,f){var d=null;if(f!==void 0&&(d=""+f),u.key!==void 0&&(d=""+u.key),"key"in u){f={};for(var y in u)y!=="key"&&(f[y]=u[y])}else f=u;return u=f.ref,{$$typeof:r,type:s,key:d,ref:u!==void 0?u:null,props:f}}return Kl.Fragment=e,Kl.jsx=i,Kl.jsxs=i,Kl}var _y;function CT(){return _y||(_y=1,Dh.exports=RT()),Dh.exports}var k=CT(),xh={exports:{}},Dt={};var vy;function DT(){if(vy)return Dt;vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function K(N){return N===null||typeof N!="object"?null:(N=M&&N[M]||N["@@iterator"],typeof N=="function"?N:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,nt={};function ht(N,F,$){this.props=N,this.context=F,this.refs=nt,this.updater=$||W}ht.prototype.isReactComponent={},ht.prototype.setState=function(N,F){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,F,"setState")},ht.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function yt(){}yt.prototype=ht.prototype;function dt(N,F,$){this.props=N,this.context=F,this.refs=nt,this.updater=$||W}var bt=dt.prototype=new yt;bt.constructor=dt,et(bt,ht.prototype),bt.isPureReactComponent=!0;var Ot=Array.isArray;function Ct(){}var R={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(N,F,$){var at=$.ref;return{$$typeof:r,type:N,key:F,ref:at!==void 0?at:null,props:$}}function V(N,F){return C(N.type,F,N.props)}function x(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function O(N){var F={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function($){return F[$]})}var S=/\/+/g;function Ut(N,F){return typeof N=="object"&&N!==null&&N.key!=null?O(""+N.key):F.toString(36)}function Wt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(Ct,Ct):(N.status="pending",N.then(function(F){N.status==="pending"&&(N.status="fulfilled",N.value=F)},function(F){N.status==="pending"&&(N.status="rejected",N.reason=F)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function H(N,F,$,at,_t){var St=typeof N;(St==="undefined"||St==="boolean")&&(N=null);var zt=!1;if(N===null)zt=!0;else switch(St){case"bigint":case"string":case"number":zt=!0;break;case"object":switch(N.$$typeof){case r:case e:zt=!0;break;case A:return zt=N._init,H(zt(N._payload),F,$,at,_t)}}if(zt)return _t=_t(N),zt=at===""?"."+Ut(N,0):at,Ot(_t)?($="",zt!=null&&($=zt.replace(S,"$&/")+"/"),H(_t,F,$,"",function(ei){return ei})):_t!=null&&(x(_t)&&(_t=V(_t,$+(_t.key==null||N&&N.key===_t.key?"":(""+_t.key).replace(S,"$&/")+"/")+zt)),F.push(_t)),1;zt=0;var ge=at===""?".":at+":";if(Ot(N))for(var ae=0;ae<N.length;ae++)at=N[ae],St=ge+Ut(at,ae),zt+=H(at,F,$,St,_t);else if(ae=K(N),typeof ae=="function")for(N=ae.call(N),ae=0;!(at=N.next()).done;)at=at.value,St=ge+Ut(at,ae++),zt+=H(at,F,$,St,_t);else if(St==="object"){if(typeof N.then=="function")return H(Wt(N),F,$,at,_t);throw F=String(N),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return zt}function tt(N,F,$){if(N==null)return N;var at=[],_t=0;return H(N,at,"","",function(St){return F.call($,St,_t++)}),at}function rt(N){if(N._status===-1){var F=N._result;F=F(),F.then(function($){(N._status===0||N._status===-1)&&(N._status=1,N._result=$)},function($){(N._status===0||N._status===-1)&&(N._status=2,N._result=$)}),N._status===-1&&(N._status=0,N._result=F)}if(N._status===1)return N._result.default;throw N._result}var wt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Mt={map:tt,forEach:function(N,F,$){tt(N,function(){F.apply(this,arguments)},$)},count:function(N){var F=0;return tt(N,function(){F++}),F},toArray:function(N){return tt(N,function(F){return F})||[]},only:function(N){if(!x(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return Dt.Activity=w,Dt.Children=Mt,Dt.Component=ht,Dt.Fragment=i,Dt.Profiler=u,Dt.PureComponent=dt,Dt.StrictMode=s,Dt.Suspense=v,Dt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Dt.__COMPILER_RUNTIME={__proto__:null,c:function(N){return R.H.useMemoCache(N)}},Dt.cache=function(N){return function(){return N.apply(null,arguments)}},Dt.cacheSignal=function(){return null},Dt.cloneElement=function(N,F,$){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=et({},N.props),_t=N.key;if(F!=null)for(St in F.key!==void 0&&(_t=""+F.key),F)!b.call(F,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&F.ref===void 0||(at[St]=F[St]);var St=arguments.length-2;if(St===1)at.children=$;else if(1<St){for(var zt=Array(St),ge=0;ge<St;ge++)zt[ge]=arguments[ge+2];at.children=zt}return C(N.type,_t,at)},Dt.createContext=function(N){return N={$$typeof:d,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},Dt.createElement=function(N,F,$){var at,_t={},St=null;if(F!=null)for(at in F.key!==void 0&&(St=""+F.key),F)b.call(F,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=F[at]);var zt=arguments.length-2;if(zt===1)_t.children=$;else if(1<zt){for(var ge=Array(zt),ae=0;ae<zt;ae++)ge[ae]=arguments[ae+2];_t.children=ge}if(N&&N.defaultProps)for(at in zt=N.defaultProps,zt)_t[at]===void 0&&(_t[at]=zt[at]);return C(N,St,_t)},Dt.createRef=function(){return{current:null}},Dt.forwardRef=function(N){return{$$typeof:y,render:N}},Dt.isValidElement=x,Dt.lazy=function(N){return{$$typeof:A,_payload:{_status:-1,_result:N},_init:rt}},Dt.memo=function(N,F){return{$$typeof:_,type:N,compare:F===void 0?null:F}},Dt.startTransition=function(N){var F=R.T,$={};R.T=$;try{var at=N(),_t=R.S;_t!==null&&_t($,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(Ct,wt)}catch(St){wt(St)}finally{F!==null&&$.types!==null&&(F.types=$.types),R.T=F}},Dt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Dt.use=function(N){return R.H.use(N)},Dt.useActionState=function(N,F,$){return R.H.useActionState(N,F,$)},Dt.useCallback=function(N,F){return R.H.useCallback(N,F)},Dt.useContext=function(N){return R.H.useContext(N)},Dt.useDebugValue=function(){},Dt.useDeferredValue=function(N,F){return R.H.useDeferredValue(N,F)},Dt.useEffect=function(N,F){return R.H.useEffect(N,F)},Dt.useEffectEvent=function(N){return R.H.useEffectEvent(N)},Dt.useId=function(){return R.H.useId()},Dt.useImperativeHandle=function(N,F,$){return R.H.useImperativeHandle(N,F,$)},Dt.useInsertionEffect=function(N,F){return R.H.useInsertionEffect(N,F)},Dt.useLayoutEffect=function(N,F){return R.H.useLayoutEffect(N,F)},Dt.useMemo=function(N,F){return R.H.useMemo(N,F)},Dt.useOptimistic=function(N,F){return R.H.useOptimistic(N,F)},Dt.useReducer=function(N,F,$){return R.H.useReducer(N,F,$)},Dt.useRef=function(N){return R.H.useRef(N)},Dt.useState=function(N){return R.H.useState(N)},Dt.useSyncExternalStore=function(N,F,$){return R.H.useSyncExternalStore(N,F,$)},Dt.useTransition=function(){return R.H.useTransition()},Dt.version="19.2.3",Dt}var Ey;function dd(){return Ey||(Ey=1,xh.exports=DT()),xh.exports}var Q=dd();const jn=wT(Q);var Nh={exports:{}},Xl={},Ih={exports:{}},Vh={};var Ty;function xT(){return Ty||(Ty=1,(function(r){function e(H,tt){var rt=H.length;H.push(tt);t:for(;0<rt;){var wt=rt-1>>>1,Mt=H[wt];if(0<u(Mt,tt))H[wt]=tt,H[rt]=Mt,rt=wt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var tt=H[0],rt=H.pop();if(rt!==tt){H[0]=rt;t:for(var wt=0,Mt=H.length,N=Mt>>>1;wt<N;){var F=2*(wt+1)-1,$=H[F],at=F+1,_t=H[at];if(0>u($,rt))at<Mt&&0>u(_t,$)?(H[wt]=_t,H[at]=rt,wt=at):(H[wt]=$,H[F]=rt,wt=F);else if(at<Mt&&0>u(_t,rt))H[wt]=_t,H[at]=rt,wt=at;else break t}}return tt}function u(H,tt){var rt=H.sortIndex-tt.sortIndex;return rt!==0?rt:H.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var v=[],_=[],A=1,w=null,M=3,K=!1,W=!1,et=!1,nt=!1,ht=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function bt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)s(_);else if(tt.startTime<=H)s(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function Ot(H){if(et=!1,bt(H),!W)if(i(v)!==null)W=!0,Ct||(Ct=!0,O());else{var tt=i(_);tt!==null&&Wt(Ot,tt.startTime-H)}}var Ct=!1,R=-1,b=5,C=-1;function V(){return nt?!0:!(r.unstable_now()-C<b)}function x(){if(nt=!1,Ct){var H=r.unstable_now();C=H;var tt=!0;try{t:{W=!1,et&&(et=!1,yt(R),R=-1),K=!0;var rt=M;try{e:{for(bt(H),w=i(v);w!==null&&!(w.expirationTime>H&&V());){var wt=w.callback;if(typeof wt=="function"){w.callback=null,M=w.priorityLevel;var Mt=wt(w.expirationTime<=H);if(H=r.unstable_now(),typeof Mt=="function"){w.callback=Mt,bt(H),tt=!0;break e}w===i(v)&&s(v),bt(H)}else s(v);w=i(v)}if(w!==null)tt=!0;else{var N=i(_);N!==null&&Wt(Ot,N.startTime-H),tt=!1}}break t}finally{w=null,M=rt,K=!1}tt=void 0}}finally{tt?O():Ct=!1}}}var O;if(typeof dt=="function")O=function(){dt(x)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Ut=S.port2;S.port1.onmessage=x,O=function(){Ut.postMessage(null)}}else O=function(){ht(x,0)};function Wt(H,tt){R=ht(function(){H(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var tt=3;break;default:tt=M}var rt=M;M=tt;try{return H()}finally{M=rt}},r.unstable_requestPaint=function(){nt=!0},r.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var rt=M;M=H;try{return tt()}finally{M=rt}},r.unstable_scheduleCallback=function(H,tt,rt){var wt=r.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?wt+rt:wt):rt=wt,H){case 1:var Mt=-1;break;case 2:Mt=250;break;case 5:Mt=1073741823;break;case 4:Mt=1e4;break;default:Mt=5e3}return Mt=rt+Mt,H={id:A++,callback:tt,priorityLevel:H,startTime:rt,expirationTime:Mt,sortIndex:-1},rt>wt?(H.sortIndex=rt,e(_,H),i(v)===null&&H===i(_)&&(et?(yt(R),R=-1):et=!0,Wt(Ot,rt-wt))):(H.sortIndex=Mt,e(v,H),W||K||(W=!0,Ct||(Ct=!0,O()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var tt=M;return function(){var rt=M;M=tt;try{return H.apply(this,arguments)}finally{M=rt}}}})(Vh)),Vh}var Ay;function NT(){return Ay||(Ay=1,Ih.exports=xT()),Ih.exports}var Oh={exports:{}},fn={};var by;function IT(){if(by)return fn;by=1;var r=dd();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(v,_,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:w==null?null:""+w,children:v,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return fn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,fn.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return f(v,_,null,A)},fn.flushSync=function(v){var _=d.T,A=s.p;try{if(d.T=null,s.p=2,v)return v()}finally{d.T=_,s.p=A,s.d.f()}},fn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(v,_))},fn.prefetchDNS=function(v){typeof v=="string"&&s.d.D(v)},fn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,K=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?s.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:K}):A==="script"&&s.d.X(v,{crossOrigin:w,integrity:M,fetchPriority:K,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},fn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=y(_.as,_.crossOrigin);s.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(v)},fn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,w=y(A,_.crossOrigin);s.d.L(v,A,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},fn.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=y(_.as,_.crossOrigin);s.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(v)},fn.requestFormReset=function(v){s.d.r(v)},fn.unstable_batchedUpdates=function(v,_){return v(_)},fn.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},fn.useFormStatus=function(){return d.H.useHostTransitionStatus()},fn.version="19.2.3",fn}var Sy;function VT(){if(Sy)return Oh.exports;Sy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Oh.exports=IT(),Oh.exports}var wy;function OT(){if(wy)return Xl;wy=1;var r=NT(),e=dd(),i=VT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function y(t){if(t.tag===31){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(f(t)!==t)throw Error(s(188))}function _(t){var n=t.alternate;if(!n){if(n=f(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var c=a.return;if(c===null)break;var h=c.alternate;if(h===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===a)return v(c),t;if(h===l)return v(c),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=c,l=h;else{for(var g=!1,E=c.child;E;){if(E===a){g=!0,a=c,l=h;break}if(E===l){g=!0,l=c,a=h;break}E=E.sibling}if(!g){for(E=h.child;E;){if(E===a){g=!0,a=h,l=c;break}if(E===l){g=!0,l=h,a=c;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function A(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=A(t),n!==null)return n;t=t.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),K=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function O(t){return t===null||typeof t!="object"?null:(t=x&&t[x]||t["@@iterator"],typeof t=="function"?t:null)}var S=Symbol.for("react.client.reference");function Ut(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===S?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case et:return"Fragment";case ht:return"Profiler";case nt:return"StrictMode";case Ot:return"Suspense";case Ct:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case dt:return t.displayName||"Context";case yt:return(t._context.displayName||"Context")+".Consumer";case bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R:return n=t.displayName||null,n!==null?n:Ut(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Ut(t(n))}catch{}}return null}var Wt=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},wt=[],Mt=-1;function N(t){return{current:t}}function F(t){0>Mt||(t.current=wt[Mt],wt[Mt]=null,Mt--)}function $(t,n){Mt++,wt[Mt]=t.current,t.current=n}var at=N(null),_t=N(null),St=N(null),zt=N(null);function ge(t,n){switch($(St,n),$(_t,t),$(at,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?kp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=kp(n),t=Pp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}F(at),$(at,t)}function ae(){F(at),F(_t),F(St)}function ei(t){t.memoizedState!==null&&$(zt,t);var n=at.current,a=Pp(n,t.type);n!==a&&($(_t,t),$(at,a))}function gn(t){_t.current===t&&(F(at),F(_t)),zt.current===t&&(F(zt),Gl._currentValue=rt)}var ln,pi;function Ke(t){if(ln===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ln=n&&n[1]||"",pi=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ln+t+pi}var vn=!1;function pn(t,n){if(!t||vn)return"";vn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var B=q}Reflect.construct(t,[],X)}else{try{X.call()}catch(q){B=q}t.call(X.prototype)}}else{try{throw Error()}catch(q){B=q}(X=t())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),g=h[0],E=h[1];if(g&&E){var D=g.split(`
`),j=E.split(`
`);for(c=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;c<j.length&&!j[c].includes("DetermineComponentFrameRoot");)c++;if(l===D.length||c===j.length)for(l=D.length-1,c=j.length-1;1<=l&&0<=c&&D[l]!==j[c];)c--;for(;1<=l&&0<=c;l--,c--)if(D[l]!==j[c]){if(l!==1||c!==1)do if(l--,c--,0>c||D[l]!==j[c]){var G=`
`+D[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{vn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ke(a):""}function lt(t,n){switch(t.tag){case 26:case 27:case 5:return Ke(t.type);case 16:return Ke("Lazy");case 13:return t.child!==n&&n!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return pn(t.type,!1);case 11:return pn(t.type.render,!1);case 1:return pn(t.type,!0);case 31:return Ke("Activity");default:return""}}function vt(t){try{var n="",a=null;do n+=lt(t,a),a=t,t=t.return;while(t);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ct=Object.prototype.hasOwnProperty,Et=r.unstable_scheduleCallback,Qt=r.unstable_cancelCallback,fe=r.unstable_shouldYield,Xe=r.unstable_requestPaint,pe=r.unstable_now,ye=r.unstable_getCurrentPriorityLevel,un=r.unstable_ImmediatePriority,yi=r.unstable_UserBlockingPriority,on=r.unstable_NormalPriority,Bn=r.unstable_LowPriority,is=r.unstable_IdlePriority,fa=r.log,ha=r.unstable_setDisableYieldValue,En=null,be=null;function cn(t){if(typeof fa=="function"&&ha(t),be&&typeof be.setStrictMode=="function")try{be.setStrictMode(En,t)}catch{}}var Te=Math.clz32?Math.clz32:Bs,js=Math.log,ki=Math.LN2;function Bs(t){return t>>>=0,t===0?32:31-(js(t)/ki|0)|0}var pt=256,Lt=262144,kt=4194304;function Se(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _e(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,h=t.suspendedLanes,g=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?c=Se(l):(g&=E,g!==0?c=Se(g):a||(a=E&~t,a!==0&&(c=Se(a))))):(E=l&~h,E!==0?c=Se(E):g!==0?c=Se(g):a||(a=l&~t,a!==0&&(c=Se(a)))),c===0?0:n!==0&&n!==c&&(n&h)===0&&(h=c&-c,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:c}function Ze(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Kr(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kn(){var t=kt;return kt<<=1,(kt&62914560)===0&&(kt=4194304),t}function Je(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function ni(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vc(t,n,a,l,c,h){var g=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,D=t.expirationTimes,j=t.hiddenUpdates;for(a=g&~a;0<a;){var G=31-Te(a),X=1<<G;E[G]=0,D[G]=-1;var B=j[G];if(B!==null)for(j[G]=null,G=0;G<B.length;G++){var q=B[G];q!==null&&(q.lane&=-536870913)}a&=~X}l!==0&&as(t,l,0),h!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=h&~(g&~n))}function as(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-Te(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Xr(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-Te(a),c=1<<l;c&n|t[l]&n&&(t[l]|=n),a&=~c}}function Zr(t,n){var a=n&-n;return a=(a&42)!==0?1:ss(a),(a&(t.suspendedLanes|n))!==0?0:a}function ss(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Pi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Tu(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:cy(t.type))}function ii(t,n){var a=tt.p;try{return tt.p=t,n()}finally{tt.p=a}}var ai=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ai,He="__reactProps$"+ai,_i="__reactContainer$"+ai,ks="__reactEvents$"+ai,Oc="__reactListeners$"+ai,Au="__reactHandles$"+ai,bu="__reactResources$"+ai,vi="__reactMarker$"+ai;function Ps(t){delete t[Ie],delete t[He],delete t[ks],delete t[Oc],delete t[Au]}function Ei(t){var n=t[Ie];if(n)return n;for(var a=t.parentNode;a;){if(n=a[_i]||a[Ie]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=Kp(t);t!==null;){if(a=t[Ie])return a;t=Kp(t)}return n}t=a,a=t.parentNode}return null}function Pn(t){if(t=t[Ie]||t[_i]){var n=t.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return t}return null}function xn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ti(t){var n=t[bu];return n||(n=t[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ve(t){t[vi]=!0}var Jr=new Set,$r={};function Ai(t,n){bi(t,n),bi(t+"Capture",n)}function bi(t,n){for($r[t]=n,t=0;t<n.length;t++)Jr.add(n[t])}var Wr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tl={},el={};function Su(t){return ct.call(el,t)?!0:ct.call(tl,t)?!1:Wr.test(t)?el[t]=!0:(tl[t]=!0,!1)}function qs(t,n,a){if(Su(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Nn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Ge(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function da(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function nl(t,n,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,n);if(!t.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,h=l.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,h.call(this,g)}}),Object.defineProperty(t,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ee(t){if(!t._valueTracker){var n=da(t)?"checked":"value";t._valueTracker=nl(t,n,""+t[n])}}function rs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=da(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ls=/[\n"\\]/g;function Tn(t){return t.replace(ls,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Hs(t,n,a,l,c,h,g,E){t.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?t.type=g:t.removeAttribute("type"),n!=null?g==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ge(n)):t.value!==""+Ge(n)&&(t.value=""+Ge(n)):g!=="submit"&&g!=="reset"||t.removeAttribute("value"),n!=null?il(t,g,Ge(n)):a!=null?il(t,g,Ge(a)):l!=null&&t.removeAttribute("value"),c==null&&h!=null&&(t.defaultChecked=!!h),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ge(E):t.removeAttribute("name")}function wu(t,n,a,l,c,h,g,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){ee(t);return}a=a!=null?""+Ge(a):"",n=n!=null?""+Ge(n):a,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.name=g),ee(t)}function il(t,n,a){n==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ma(t,n,a,l){if(t=t.options,n){n={};for(var c=0;c<a.length;c++)n["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=n.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ge(a),n=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Ru(t,n,a){if(n!=null&&(n=""+Ge(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ge(a):""}function ga(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(Wt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ge(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),ee(t)}function An(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function al(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Cu.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function sl(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&a[c]!==l&&al(t,c,l)}else for(var h in n)n.hasOwnProperty(h)&&al(t,h,n[h])}function Gs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Fs(t){return pa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function si(){}var rl=null;function qn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ya=null,wi=null;function us(t){var n=Pn(t);if(n&&(t=n.stateNode)){var a=t[He]||null;t:switch(t=n.stateNode,n.type){case"input":if(Hs(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tn(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var c=l[He]||null;if(!c)throw Error(s(90));Hs(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&rs(l)}break t;case"textarea":Ru(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&ma(t,!!a.multiple,n,!1)}}}var Qs=!1;function _a(t,n,a){if(Qs)return t(n,a);Qs=!0;try{var l=t(n);return l}finally{if(Qs=!1,(ya!==null||wi!==null)&&(Ao(),ya&&(n=ya,t=wi,wi=ya=null,us(n),t)))for(n=0;n<t.length;n++)us(t[n])}}function ri(t,n){var a=t.stateNode;if(a===null)return null;var l=a[He]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),os=!1;if(Hn)try{var se={};Object.defineProperty(se,"passive",{get:function(){os=!0}}),window.addEventListener("test",se,se),window.removeEventListener("test",se,se)}catch{os=!1}var Ri=null,ll=null,cs=null;function ul(){if(cs)return cs;var t,n=ll,a=n.length,l,c="value"in Ri?Ri.value:Ri.textContent,h=c.length;for(t=0;t<a&&n[t]===c[t];t++);var g=a-t;for(l=1;l<=g&&n[a-l]===c[h-l];l++);return cs=c.slice(t,1<l?1-l:void 0)}function fs(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function li(){return!1}function $e(t){function n(a,l,c,h,g){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=h,this.target=g,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?qi:li,this.isPropagationStopped=li,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),n}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=$e(Hi),va=w({},Hi,{view:0,detail:0}),ol=$e(va),Ea,Ys,Di,Ks=w({},va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Di&&(Di&&t.type==="mousemove"?(Ea=t.screenX-Di.screenX,Ys=t.screenY-Di.screenY):Ys=Ea=0,Di=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ys}}),cl=$e(Ks),hs=w({},Ks,{dataTransfer:0}),xu=$e(hs),Nu=w({},va,{relatedTarget:0}),ds=$e(Nu),fl=w({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Iu=$e(fl),Xs=w({},Hi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vu=$e(Xs),Ou=w({},Hi,{data:0}),xi=$e(Ou),Mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=zu[t])?!!n[t]:!1}function Ta(){return Uu}var yn=w({},va,{key:function(t){if(t.key){var n=Mu[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=fs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(t){return t.type==="keypress"?fs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ju=$e(yn),Bu=w({},Ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=$e(Bu),o=w({},va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),m=$e(o),p=w({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=$e(p),z=w({},Ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),P=$e(z),it=w({},Hi,{newState:0,oldState:0}),Nt=$e(it),Ce=[9,13,27,32],Jt=Hn&&"CompositionEvent"in window,ve=null;Hn&&"documentMode"in document&&(ve=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!ve,Ni=Hn&&(!Jt||ve&&8<ve&&11>=ve),ui=" ",oi=!1;function ms(t,n){switch(t){case"keyup":return Ce.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zs(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Js=!1;function X0(t,n){switch(t){case"compositionend":return Zs(n);case"keypress":return n.which!==32?null:(oi=!0,ui);case"textInput":return t=n.data,t===ui&&oi?null:t;default:return null}}function Z0(t,n){if(Js)return t==="compositionend"||!Jt&&ms(t,n)?(t=ul(),cs=ll=Ri=null,Js=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ni&&n.locale!=="ko"?null:n.data;default:return null}}var J0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jd(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!J0[t.type]:n==="textarea"}function $d(t,n,a,l){ya?wi?wi.push(l):wi=[l]:ya=l,n=xo(n,"onChange"),0<n.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var hl=null,dl=null;function $0(t){Mp(t,0)}function ku(t){var n=xn(t);if(rs(n))return t}function Wd(t,n){if(t==="change")return n}var tm=!1;if(Hn){var Mc;if(Hn){var Lc="oninput"in document;if(!Lc){var em=document.createElement("div");em.setAttribute("oninput","return;"),Lc=typeof em.oninput=="function"}Mc=Lc}else Mc=!1;tm=Mc&&(!document.documentMode||9<document.documentMode)}function nm(){hl&&(hl.detachEvent("onpropertychange",im),dl=hl=null)}function im(t){if(t.propertyName==="value"&&ku(dl)){var n=[];$d(n,dl,t,qn(t)),_a($0,n)}}function W0(t,n,a){t==="focusin"?(nm(),hl=n,dl=a,hl.attachEvent("onpropertychange",im)):t==="focusout"&&nm()}function tE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ku(dl)}function eE(t,n){if(t==="click")return ku(n)}function nE(t,n){if(t==="input"||t==="change")return ku(n)}function iE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var In=typeof Object.is=="function"?Object.is:iE;function ml(t,n){if(In(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ct.call(n,c)||!In(t[c],n[c]))return!1}return!0}function am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sm(t,n){var a=am(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=am(a)}}function rm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?rm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function lm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Si(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Si(t.document)}return n}function zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var aE=Hn&&"documentMode"in document&&11>=document.documentMode,$s=null,Uc=null,gl=null,jc=!1;function um(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jc||$s==null||$s!==Si(l)||(l=$s,"selectionStart"in l&&zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),gl&&ml(gl,l)||(gl=l,l=xo(Uc,"onSelect"),0<l.length&&(n=new Ci("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=$s)))}function gs(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ws={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Bc={},om={};Hn&&(om=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function ps(t){if(Bc[t])return Bc[t];if(!Ws[t])return t;var n=Ws[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in om)return Bc[t]=n[a];return t}var cm=ps("animationend"),fm=ps("animationiteration"),hm=ps("animationstart"),sE=ps("transitionrun"),rE=ps("transitionstart"),lE=ps("transitioncancel"),dm=ps("transitionend"),mm=new Map,kc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");kc.push("scrollEnd");function ci(t,n){mm.set(t,n),Ai(n,[t])}var Pu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Fn=[],tr=0,Pc=0;function qu(){for(var t=tr,n=Pc=tr=0;n<t;){var a=Fn[n];Fn[n++]=null;var l=Fn[n];Fn[n++]=null;var c=Fn[n];Fn[n++]=null;var h=Fn[n];if(Fn[n++]=null,l!==null&&c!==null){var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}h!==0&&gm(a,c,h)}}function Hu(t,n,a,l){Fn[tr++]=t,Fn[tr++]=n,Fn[tr++]=a,Fn[tr++]=l,Pc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function qc(t,n,a,l){return Hu(t,n,a,l),Gu(t)}function ys(t,n){return Hu(t,null,null,n),Gu(t)}function gm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(c=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,c&&n!==null&&(c=31-Te(a),t=h.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=a|536870912),h):null}function Gu(t){if(50<Ul)throw Ul=0,$f=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var er={};function uE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,n,a,l){return new uE(t,n,a,l)}function Hc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,n){var a=t.alternate;return a===null?(a=Vn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function pm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Fu(t,n,a,l,c,h){var g=0;if(l=t,typeof t=="function")Hc(t)&&(g=1);else if(typeof t=="string")g=dT(t,a,at.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=Vn(31,a,n,c),t.elementType=C,t.lanes=h,t;case et:return _s(a.children,c,h,n);case nt:g=8,c|=24;break;case ht:return t=Vn(12,a,n,c|2),t.elementType=ht,t.lanes=h,t;case Ot:return t=Vn(13,a,n,c),t.elementType=Ot,t.lanes=h,t;case Ct:return t=Vn(19,a,n,c),t.elementType=Ct,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case dt:g=10;break t;case yt:g=9;break t;case bt:g=11;break t;case R:g=14;break t;case b:g=16,l=null;break t}g=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=Vn(g,a,n,c),n.elementType=t,n.type=l,n.lanes=h,n}function _s(t,n,a,l){return t=Vn(7,t,l,n),t.lanes=a,t}function Gc(t,n,a){return t=Vn(6,t,null,n),t.lanes=a,t}function ym(t){var n=Vn(18,null,null,0);return n.stateNode=t,n}function Fc(t,n,a){return n=Vn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var _m=new WeakMap;function Qn(t,n){if(typeof t=="object"&&t!==null){var a=_m.get(t);return a!==void 0?a:(n={value:t,source:n,stack:vt(n)},_m.set(t,n),n)}return{value:t,source:n,stack:vt(n)}}var nr=[],ir=0,Qu=null,pl=0,Yn=[],Kn=0,Aa=null,Ii=1,Vi="";function Qi(t,n){nr[ir++]=pl,nr[ir++]=Qu,Qu=t,pl=n}function vm(t,n,a){Yn[Kn++]=Ii,Yn[Kn++]=Vi,Yn[Kn++]=Aa,Aa=t;var l=Ii;t=Vi;var c=32-Te(l)-1;l&=~(1<<c),a+=1;var h=32-Te(n)+c;if(30<h){var g=c-c%5;h=(l&(1<<g)-1).toString(32),l>>=g,c-=g,Ii=1<<32-Te(n)+c|a<<c|l,Vi=h+t}else Ii=1<<h|a<<c|l,Vi=t}function Qc(t){t.return!==null&&(Qi(t,1),vm(t,1,0))}function Yc(t){for(;t===Qu;)Qu=nr[--ir],nr[ir]=null,pl=nr[--ir],nr[ir]=null;for(;t===Aa;)Aa=Yn[--Kn],Yn[Kn]=null,Vi=Yn[--Kn],Yn[Kn]=null,Ii=Yn[--Kn],Yn[Kn]=null}function Em(t,n){Yn[Kn++]=Ii,Yn[Kn++]=Vi,Yn[Kn++]=Aa,Ii=n.id,Vi=n.overflow,Aa=t}var We=null,he=null,Ft=!1,ba=null,Xn=!1,Kc=Error(s(519));function Sa(t){var n=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw yl(Qn(n,t)),Kc}function Tm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ie]=t,n[He]=l,a){case"dialog":Bt("cancel",n),Bt("close",n);break;case"iframe":case"object":case"embed":Bt("load",n);break;case"video":case"audio":for(a=0;a<Bl.length;a++)Bt(Bl[a],n);break;case"source":Bt("error",n);break;case"img":case"image":case"link":Bt("error",n),Bt("load",n);break;case"details":Bt("toggle",n);break;case"input":Bt("invalid",n),wu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Bt("invalid",n);break;case"textarea":Bt("invalid",n),ga(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||jp(n.textContent,a)?(l.popover!=null&&(Bt("beforetoggle",n),Bt("toggle",n)),l.onScroll!=null&&Bt("scroll",n),l.onScrollEnd!=null&&Bt("scrollend",n),l.onClick!=null&&(n.onclick=si),n=!0):n=!1,n||Sa(t,!0)}function Am(t){for(We=t.return;We;)switch(We.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:We=We.return}}function ar(t){if(t!==We)return!1;if(!Ft)return Am(t),Ft=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||dh(t.type,t.memoizedProps)),a=!a),a&&he&&Sa(t),Am(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));he=Yp(t)}else if(n===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));he=Yp(t)}else n===27?(n=he,ja(t.type)?(t=_h,_h=null,he=t):he=n):he=We?Jn(t.stateNode.nextSibling):null;return!0}function vs(){he=We=null,Ft=!1}function Xc(){var t=ba;return t!==null&&(Rn===null?Rn=t:Rn.push.apply(Rn,t),ba=null),t}function yl(t){ba===null?ba=[t]:ba.push(t)}var Zc=N(null),Es=null,Yi=null;function wa(t,n,a){$(Zc,n._currentValue),n._currentValue=a}function Ki(t){t._currentValue=Zc.current,F(Zc)}function Jc(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function $c(t,n,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var h=c.dependencies;if(h!==null){var g=c.child;h=h.firstContext;t:for(;h!==null;){var E=h;h=c;for(var D=0;D<n.length;D++)if(E.context===n[D]){h.lanes|=a,E=h.alternate,E!==null&&(E.lanes|=a),Jc(h.return,a,t),l||(g=null);break t}h=E.next}}else if(c.tag===18){if(g=c.return,g===null)throw Error(s(341));g.lanes|=a,h=g.alternate,h!==null&&(h.lanes|=a),Jc(g,a,t),g=null}else g=c.child;if(g!==null)g.return=c;else for(g=c;g!==null;){if(g===t){g=null;break}if(c=g.sibling,c!==null){c.return=g.return,g=c;break}g=g.return}c=g}}function sr(t,n,a,l){t=null;for(var c=n,h=!1;c!==null;){if(!h){if((c.flags&524288)!==0)h=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var g=c.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=c.type;In(c.pendingProps.value,g.value)||(t!==null?t.push(E):t=[E])}}else if(c===zt.current){if(g=c.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Gl):t=[Gl])}c=c.return}t!==null&&$c(n,t,a,l),n.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!In(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ts(t){Es=t,Yi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function tn(t){return bm(Es,t)}function Ku(t,n){return Es===null&&Ts(t),bm(t,n)}function bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Yi===null){if(t===null)throw Error(s(308));Yi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Yi=Yi.next=n;return a}var oE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},cE=r.unstable_scheduleCallback,fE=r.unstable_NormalPriority,Me={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wc(){return{controller:new oE,data:new Map,refCount:0}}function _l(t){t.refCount--,t.refCount===0&&cE(fE,function(){t.controller.abort()})}var vl=null,tf=0,rr=0,lr=null;function hE(t,n){if(vl===null){var a=vl=[];tf=0,rr=ah(),lr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return tf++,n.then(Sm,Sm),n}function Sm(){if(--tf===0&&vl!==null){lr!==null&&(lr.status="fulfilled");var t=vl;vl=null,rr=0,lr=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function dE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<a.length;c++)(0,a[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var wm=H.S;H.S=function(t,n){up=pe(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hE(t,n),wm!==null&&wm(t,n)};var As=N(null);function ef(){var t=As.current;return t!==null?t:oe.pooledCache}function Xu(t,n){n===null?$(As,As.current):$(As,n.pool)}function Rm(){var t=ef();return t===null?null:{parent:Me._currentValue,pool:t}}var ur=Error(s(460)),nf=Error(s(474)),Zu=Error(s(542)),Ju={then:function(){}};function Cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Dm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(si,si),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t;default:if(typeof n.status=="string")n.then(si,si);else{if(t=oe,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Nm(t),t}throw Ss=n,ur}}function bs(t){try{var n=t._init;return n(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Ss=a,ur):a}}var Ss=null;function xm(){if(Ss===null)throw Error(s(459));var t=Ss;return Ss=null,t}function Nm(t){if(t===ur||t===Zu)throw Error(s(483))}var or=null,El=0;function $u(t){var n=El;return El+=1,or===null&&(or=[]),Dm(or,t,n)}function Tl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Wu(t,n){throw n.$$typeof===M?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Im(t){function n(L,I){if(t){var U=L.deletions;U===null?(L.deletions=[I],L.flags|=16):U.push(I)}}function a(L,I){if(!t)return null;for(;I!==null;)n(L,I),I=I.sibling;return null}function l(L){for(var I=new Map;L!==null;)L.key!==null?I.set(L.key,L):I.set(L.index,L),L=L.sibling;return I}function c(L,I){return L=Fi(L,I),L.index=0,L.sibling=null,L}function h(L,I,U){return L.index=U,t?(U=L.alternate,U!==null?(U=U.index,U<I?(L.flags|=67108866,I):U):(L.flags|=67108866,I)):(L.flags|=1048576,I)}function g(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function E(L,I,U,Y){return I===null||I.tag!==6?(I=Gc(U,L.mode,Y),I.return=L,I):(I=c(I,U),I.return=L,I)}function D(L,I,U,Y){var mt=U.type;return mt===et?G(L,I,U.props.children,Y,U.key):I!==null&&(I.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&bs(mt)===I.type)?(I=c(I,U.props),Tl(I,U),I.return=L,I):(I=Fu(U.type,U.key,U.props,null,L.mode,Y),Tl(I,U),I.return=L,I)}function j(L,I,U,Y){return I===null||I.tag!==4||I.stateNode.containerInfo!==U.containerInfo||I.stateNode.implementation!==U.implementation?(I=Fc(U,L.mode,Y),I.return=L,I):(I=c(I,U.children||[]),I.return=L,I)}function G(L,I,U,Y,mt){return I===null||I.tag!==7?(I=_s(U,L.mode,Y,mt),I.return=L,I):(I=c(I,U),I.return=L,I)}function X(L,I,U){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Gc(""+I,L.mode,U),I.return=L,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case K:return U=Fu(I.type,I.key,I.props,null,L.mode,U),Tl(U,I),U.return=L,U;case W:return I=Fc(I,L.mode,U),I.return=L,I;case b:return I=bs(I),X(L,I,U)}if(Wt(I)||O(I))return I=_s(I,L.mode,U,null),I.return=L,I;if(typeof I.then=="function")return X(L,$u(I),U);if(I.$$typeof===dt)return X(L,Ku(L,I),U);Wu(L,I)}return null}function B(L,I,U,Y){var mt=I!==null?I.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return mt!==null?null:E(L,I,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case K:return U.key===mt?D(L,I,U,Y):null;case W:return U.key===mt?j(L,I,U,Y):null;case b:return U=bs(U),B(L,I,U,Y)}if(Wt(U)||O(U))return mt!==null?null:G(L,I,U,Y,null);if(typeof U.then=="function")return B(L,I,$u(U),Y);if(U.$$typeof===dt)return B(L,I,Ku(L,U),Y);Wu(L,U)}return null}function q(L,I,U,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(U)||null,E(I,L,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case K:return L=L.get(Y.key===null?U:Y.key)||null,D(I,L,Y,mt);case W:return L=L.get(Y.key===null?U:Y.key)||null,j(I,L,Y,mt);case b:return Y=bs(Y),q(L,I,U,Y,mt)}if(Wt(Y)||O(Y))return L=L.get(U)||null,G(I,L,Y,mt,null);if(typeof Y.then=="function")return q(L,I,U,$u(Y),mt);if(Y.$$typeof===dt)return q(L,I,U,Ku(I,Y),mt);Wu(I,Y)}return null}function ot(L,I,U,Y){for(var mt=null,Xt=null,ft=I,Vt=I=0,qt=null;ft!==null&&Vt<U.length;Vt++){ft.index>Vt?(qt=ft,ft=null):qt=ft.sibling;var Zt=B(L,ft,U[Vt],Y);if(Zt===null){ft===null&&(ft=qt);break}t&&ft&&Zt.alternate===null&&n(L,ft),I=h(Zt,I,Vt),Xt===null?mt=Zt:Xt.sibling=Zt,Xt=Zt,ft=qt}if(Vt===U.length)return a(L,ft),Ft&&Qi(L,Vt),mt;if(ft===null){for(;Vt<U.length;Vt++)ft=X(L,U[Vt],Y),ft!==null&&(I=h(ft,I,Vt),Xt===null?mt=ft:Xt.sibling=ft,Xt=ft);return Ft&&Qi(L,Vt),mt}for(ft=l(ft);Vt<U.length;Vt++)qt=q(ft,L,Vt,U[Vt],Y),qt!==null&&(t&&qt.alternate!==null&&ft.delete(qt.key===null?Vt:qt.key),I=h(qt,I,Vt),Xt===null?mt=qt:Xt.sibling=qt,Xt=qt);return t&&ft.forEach(function(Ha){return n(L,Ha)}),Ft&&Qi(L,Vt),mt}function Tt(L,I,U,Y){if(U==null)throw Error(s(151));for(var mt=null,Xt=null,ft=I,Vt=I=0,qt=null,Zt=U.next();ft!==null&&!Zt.done;Vt++,Zt=U.next()){ft.index>Vt?(qt=ft,ft=null):qt=ft.sibling;var Ha=B(L,ft,Zt.value,Y);if(Ha===null){ft===null&&(ft=qt);break}t&&ft&&Ha.alternate===null&&n(L,ft),I=h(Ha,I,Vt),Xt===null?mt=Ha:Xt.sibling=Ha,Xt=Ha,ft=qt}if(Zt.done)return a(L,ft),Ft&&Qi(L,Vt),mt;if(ft===null){for(;!Zt.done;Vt++,Zt=U.next())Zt=X(L,Zt.value,Y),Zt!==null&&(I=h(Zt,I,Vt),Xt===null?mt=Zt:Xt.sibling=Zt,Xt=Zt);return Ft&&Qi(L,Vt),mt}for(ft=l(ft);!Zt.done;Vt++,Zt=U.next())Zt=q(ft,L,Vt,Zt.value,Y),Zt!==null&&(t&&Zt.alternate!==null&&ft.delete(Zt.key===null?Vt:Zt.key),I=h(Zt,I,Vt),Xt===null?mt=Zt:Xt.sibling=Zt,Xt=Zt);return t&&ft.forEach(function(ST){return n(L,ST)}),Ft&&Qi(L,Vt),mt}function ue(L,I,U,Y){if(typeof U=="object"&&U!==null&&U.type===et&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case K:t:{for(var mt=U.key;I!==null;){if(I.key===mt){if(mt=U.type,mt===et){if(I.tag===7){a(L,I.sibling),Y=c(I,U.props.children),Y.return=L,L=Y;break t}}else if(I.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===b&&bs(mt)===I.type){a(L,I.sibling),Y=c(I,U.props),Tl(Y,U),Y.return=L,L=Y;break t}a(L,I);break}else n(L,I);I=I.sibling}U.type===et?(Y=_s(U.props.children,L.mode,Y,U.key),Y.return=L,L=Y):(Y=Fu(U.type,U.key,U.props,null,L.mode,Y),Tl(Y,U),Y.return=L,L=Y)}return g(L);case W:t:{for(mt=U.key;I!==null;){if(I.key===mt)if(I.tag===4&&I.stateNode.containerInfo===U.containerInfo&&I.stateNode.implementation===U.implementation){a(L,I.sibling),Y=c(I,U.children||[]),Y.return=L,L=Y;break t}else{a(L,I);break}else n(L,I);I=I.sibling}Y=Fc(U,L.mode,Y),Y.return=L,L=Y}return g(L);case b:return U=bs(U),ue(L,I,U,Y)}if(Wt(U))return ot(L,I,U,Y);if(O(U)){if(mt=O(U),typeof mt!="function")throw Error(s(150));return U=mt.call(U),Tt(L,I,U,Y)}if(typeof U.then=="function")return ue(L,I,$u(U),Y);if(U.$$typeof===dt)return ue(L,I,Ku(L,U),Y);Wu(L,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,I!==null&&I.tag===6?(a(L,I.sibling),Y=c(I,U),Y.return=L,L=Y):(a(L,I),Y=Gc(U,L.mode,Y),Y.return=L,L=Y),g(L)):a(L,I)}return function(L,I,U,Y){try{El=0;var mt=ue(L,I,U,Y);return or=null,mt}catch(ft){if(ft===ur||ft===Zu)throw ft;var Xt=Vn(29,ft,null,L.mode);return Xt.lanes=Y,Xt.return=L,Xt}}}var ws=Im(!0),Vm=Im(!1),Ra=!1;function af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ca(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Da(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Gu(t),gm(t,null,a),n}return Hu(t,l,n,a),Gu(t)}function Al(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xr(t,a)}}function rf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?c=h=g:h=h.next=g,a=a.next}while(a!==null);h===null?c=h=n:h=h.next=n}else c=h=n;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var lf=!1;function bl(){if(lf){var t=lr;if(t!==null)throw t}}function Sl(t,n,a,l){lf=!1;var c=t.updateQueue;Ra=!1;var h=c.firstBaseUpdate,g=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var D=E,j=D.next;D.next=null,g===null?h=j:g.next=j,g=D;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=D))}if(h!==null){var X=c.baseState;g=0,G=j=D=null,E=h;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(Pt&B)===B:(l&B)===B){B!==0&&B===rr&&(lf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=t,Tt=E;B=n;var ue=a;switch(Tt.tag){case 1:if(ot=Tt.payload,typeof ot=="function"){X=ot.call(ue,X,B);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Tt.payload,B=typeof ot=="function"?ot.call(ue,X,B):ot,B==null)break t;X=w({},X,B);break t;case 2:Ra=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,D=X):G=G.next=q,g|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);G===null&&(D=X),c.baseState=D,c.firstBaseUpdate=j,c.lastBaseUpdate=G,h===null&&(c.shared.lanes=0),Oa|=g,t.lanes=g,t.memoizedState=X}}function Om(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Mm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Om(a[t],n)}var cr=N(null),to=N(0);function Lm(t,n){t=ia,$(to,t),$(cr,n),ia=t|n.baseLanes}function uf(){$(to,ia),$(cr,cr.current)}function of(){ia=to.current,F(cr),F(to)}var On=N(null),Zn=null;function xa(t){var n=t.alternate;$(De,De.current&1),$(On,t),Zn===null&&(n===null||cr.current!==null||n.memoizedState!==null)&&(Zn=t)}function cf(t){$(De,De.current),$(On,t),Zn===null&&(Zn=t)}function zm(t){t.tag===22?($(De,De.current),$(On,t),Zn===null&&(Zn=t)):Na()}function Na(){$(De,De.current),$(On,On.current)}function Mn(t){F(On),Zn===t&&(Zn=null),F(De)}var De=N(0);function eo(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ph(a)||yh(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xi=0,It=null,re=null,Le=null,no=!1,fr=!1,Rs=!1,io=0,wl=0,hr=null,mE=0;function we(){throw Error(s(321))}function ff(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!In(t[a],n[a]))return!1;return!0}function hf(t,n,a,l,c,h){return Xi=h,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?vg:Cf,Rs=!1,h=a(l,c),Rs=!1,fr&&(h=jm(n,a,l,c)),Um(t),h}function Um(t){H.H=Dl;var n=re!==null&&re.next!==null;if(Xi=0,Le=re=It=null,no=!1,wl=0,hr=null,n)throw Error(s(300));t===null||ze||(t=t.dependencies,t!==null&&Yu(t)&&(ze=!0))}function jm(t,n,a,l){It=t;var c=0;do{if(fr&&(hr=null),wl=0,fr=!1,25<=c)throw Error(s(301));if(c+=1,Le=re=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}H.H=Eg,h=n(a,l)}while(fr);return h}function gE(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?Rl(n):n,t=t.useState()[0],(re!==null?re.memoizedState:null)!==t&&(It.flags|=1024),n}function df(){var t=io!==0;return io=0,t}function mf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function gf(t){if(no){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}no=!1}Xi=0,Le=re=It=null,fr=!1,wl=io=0,hr=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?It.memoizedState=Le=t:Le=Le.next=t,Le}function xe(){if(re===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var n=Le===null?It.memoizedState:Le.next;if(n!==null)Le=n,re=t;else{if(t===null)throw It.alternate===null?Error(s(467)):Error(s(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},Le===null?It.memoizedState=Le=t:Le=Le.next=t}return Le}function ao(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Rl(t){var n=wl;return wl+=1,hr===null&&(hr=[]),t=Dm(hr,t,n),n=It,(Le===null?n.memoizedState:Le.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?vg:Cf),t}function so(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Rl(t);if(t.$$typeof===dt)return tn(t)}throw Error(s(438,String(t)))}function pf(t){var n=null,a=It.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=ao(),It.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=V;return n.index++,a}function Zi(t,n){return typeof n=="function"?n(t):n}function ro(t){var n=xe();return yf(n,re,t)}function yf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var c=t.baseQueue,h=l.pending;if(h!==null){if(c!==null){var g=c.next;c.next=h.next,h.next=g}n.baseQueue=c=h,l.pending=null}if(h=t.baseState,c===null)t.memoizedState=h;else{n=c.next;var E=g=null,D=null,j=n,G=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Pt&X)===X:(Xi&X)===X){var B=j.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===rr&&(G=!0);else if((Xi&B)===B){j=j.next,B===rr&&(G=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(E=D=X,g=h):D=D.next=X,It.lanes|=B,Oa|=B;X=j.action,Rs&&a(h,X),h=j.hasEagerState?j.eagerState:a(h,X)}else B={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},D===null?(E=D=B,g=h):D=D.next=B,It.lanes|=X,Oa|=X;j=j.next}while(j!==null&&j!==n);if(D===null?g=h:D.next=E,!In(h,t.memoizedState)&&(ze=!0,G&&(a=lr,a!==null)))throw a;t.memoizedState=h,t.baseState=g,t.baseQueue=D,l.lastRenderedState=h}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function _f(t){var n=xe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,h=n.memoizedState;if(c!==null){a.pending=null;var g=c=c.next;do h=t(h,g.action),g=g.next;while(g!==c);In(h,n.memoizedState)||(ze=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function Bm(t,n,a){var l=It,c=xe(),h=Ft;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var g=!In((re||c).memoizedState,a);if(g&&(c.memoizedState=a,ze=!0),c=c.queue,Tf(qm.bind(null,l,c,t),[t]),c.getSnapshot!==n||g||Le!==null&&Le.memoizedState.tag&1){if(l.flags|=2048,dr(9,{destroy:void 0},Pm.bind(null,l,c,a,n),null),oe===null)throw Error(s(349));h||(Xi&127)!==0||km(l,n,a)}return a}function km(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=It.updateQueue,n===null?(n=ao(),It.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Pm(t,n,a,l){n.value=a,n.getSnapshot=l,Hm(n)&&Gm(t)}function qm(t,n,a){return a(function(){Hm(n)&&Gm(t)})}function Hm(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!In(t,a)}catch{return!0}}function Gm(t){var n=ys(t,2);n!==null&&Cn(n,t,2)}function vf(t){var n=_n();if(typeof t=="function"){var a=t;if(t=a(),Rs){cn(!0);try{a()}finally{cn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:t},n}function Fm(t,n,a,l){return t.baseState=a,yf(t,re,typeof l=="function"?l:Zi)}function pE(t,n,a,l,c){if(oo(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){h.listeners.push(g)}};H.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,Qm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function Qm(t,n){var a=n.action,l=n.payload,c=t.state;if(n.isTransition){var h=H.T,g={};H.T=g;try{var E=a(c,l),D=H.S;D!==null&&D(g,E),Ym(t,n,E)}catch(j){Ef(t,n,j)}finally{h!==null&&g.types!==null&&(h.types=g.types),H.T=h}}else try{h=a(c,l),Ym(t,n,h)}catch(j){Ef(t,n,j)}}function Ym(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Km(t,n,l)},function(l){return Ef(t,n,l)}):Km(t,n,a)}function Km(t,n,a){n.status="fulfilled",n.value=a,Xm(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Qm(t,a)))}function Ef(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Xm(n),n=n.next;while(n!==l)}t.action=null}function Xm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Zm(t,n){return n}function Jm(t,n){if(Ft){var a=oe.formState;if(a!==null){t:{var l=It;if(Ft){if(he){e:{for(var c=he,h=Xn;c.nodeType!==8;){if(!h){c=null;break e}if(c=Jn(c.nextSibling),c===null){c=null;break e}}h=c.data,c=h==="F!"||h==="F"?c:null}if(c){he=Jn(c.nextSibling),l=c.data==="F!";break t}}Sa(l)}l=!1}l&&(n=a[0])}}return a=_n(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zm,lastRenderedState:n},a.queue=l,a=pg.bind(null,It,l),l.dispatch=a,l=vf(!1),h=Rf.bind(null,It,!1,l.queue),l=_n(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,a=pE.bind(null,It,c,h,a),c.dispatch=a,l.memoizedState=t,[n,a,!1]}function $m(t){var n=xe();return Wm(n,re,t)}function Wm(t,n,a){if(n=yf(t,n,Zm)[0],t=ro(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Rl(n)}catch(g){throw g===ur?Zu:g}else l=n;n=xe();var c=n.queue,h=c.dispatch;return a!==n.memoizedState&&(It.flags|=2048,dr(9,{destroy:void 0},yE.bind(null,c,a),null)),[l,h,t]}function yE(t,n){t.action=n}function tg(t){var n=xe(),a=re;if(a!==null)return Wm(n,a,t);xe(),n=n.memoizedState,a=xe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function dr(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=ao(),It.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function eg(){return xe().memoizedState}function lo(t,n,a,l){var c=_n();It.flags|=t,c.memoizedState=dr(1|n,{destroy:void 0},a,l===void 0?null:l)}function uo(t,n,a,l){var c=xe();l=l===void 0?null:l;var h=c.memoizedState.inst;re!==null&&l!==null&&ff(l,re.memoizedState.deps)?c.memoizedState=dr(n,h,a,l):(It.flags|=t,c.memoizedState=dr(1|n,h,a,l))}function ng(t,n){lo(8390656,8,t,n)}function Tf(t,n){uo(2048,8,t,n)}function _E(t){It.flags|=4;var n=It.updateQueue;if(n===null)n=ao(),It.updateQueue=n,n.events=[t];else{var a=n.events;a===null?n.events=[t]:a.push(t)}}function ig(t){var n=xe().memoizedState;return _E({ref:n,nextImpl:t}),function(){if(($t&2)!==0)throw Error(s(440));return n.impl.apply(void 0,arguments)}}function ag(t,n){return uo(4,2,t,n)}function sg(t,n){return uo(4,4,t,n)}function rg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function lg(t,n,a){a=a!=null?a.concat([t]):null,uo(4,4,rg.bind(null,n,t),a)}function Af(){}function ug(t,n){var a=xe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&ff(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function og(t,n){var a=xe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&ff(n,l[1]))return l[0];if(l=t(),Rs){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,n],l}function bf(t,n,a){return a===void 0||(Xi&1073741824)!==0&&(Pt&261930)===0?t.memoizedState=n:(t.memoizedState=a,t=cp(),It.lanes|=t,Oa|=t,a)}function cg(t,n,a,l){return In(a,n)?a:cr.current!==null?(t=bf(t,a,l),In(t,n)||(ze=!0),t):(Xi&42)===0||(Xi&1073741824)!==0&&(Pt&261930)===0?(ze=!0,t.memoizedState=a):(t=cp(),It.lanes|=t,Oa|=t,n)}function fg(t,n,a,l,c){var h=tt.p;tt.p=h!==0&&8>h?h:8;var g=H.T,E={};H.T=E,Rf(t,!1,n,a);try{var D=c(),j=H.S;if(j!==null&&j(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var G=dE(D,l);Cl(t,n,G,Un(t))}else Cl(t,n,l,Un(t))}catch(X){Cl(t,n,{then:function(){},status:"rejected",reason:X},Un())}finally{tt.p=h,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function vE(){}function Sf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var c=hg(t).queue;fg(t,c,n,rt,a===null?vE:function(){return dg(t),a(l)})}function hg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:rt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function dg(t){var n=hg(t);n.next===null&&(n=t.alternate.memoizedState),Cl(t,n.next.queue,{},Un())}function wf(){return tn(Gl)}function mg(){return xe().memoizedState}function gg(){return xe().memoizedState}function EE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=Un();t=Ca(a);var l=Da(n,t,a);l!==null&&(Cn(l,n,a),Al(l,n,a)),n={cache:Wc()},t.payload=n;return}n=n.return}}function TE(t,n,a){var l=Un();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},oo(t)?yg(n,a):(a=qc(t,n,a,l),a!==null&&(Cn(a,t,l),_g(a,n,l)))}function pg(t,n,a){var l=Un();Cl(t,n,a,l)}function Cl(t,n,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(oo(t))yg(n,c);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var g=n.lastRenderedState,E=h(g,a);if(c.hasEagerState=!0,c.eagerState=E,In(E,g))return Hu(t,n,c,0),oe===null&&qu(),!1}catch{}if(a=qc(t,n,c,l),a!==null)return Cn(a,t,l),_g(a,n,l),!0}return!1}function Rf(t,n,a,l){if(l={lane:2,revertLane:ah(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},oo(t)){if(n)throw Error(s(479))}else n=qc(t,a,l,2),n!==null&&Cn(n,t,2)}function oo(t){var n=t.alternate;return t===It||n!==null&&n===It}function yg(t,n){fr=no=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function _g(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Xr(t,a)}}var Dl={readContext:tn,use:so,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Dl.useEffectEvent=we;var vg={readContext:tn,use:so,useCallback:function(t,n){return _n().memoizedState=[t,n===void 0?null:n],t},useContext:tn,useEffect:ng,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,lo(4194308,4,rg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return lo(4194308,4,t,n)},useInsertionEffect:function(t,n){lo(4,2,t,n)},useMemo:function(t,n){var a=_n();n=n===void 0?null:n;var l=t();if(Rs){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=_n();if(a!==void 0){var c=a(n);if(Rs){cn(!0);try{a(n)}finally{cn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=TE.bind(null,It,t),[l.memoizedState,t]},useRef:function(t){var n=_n();return t={current:t},n.memoizedState=t},useState:function(t){t=vf(t);var n=t.queue,a=pg.bind(null,It,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Af,useDeferredValue:function(t,n){var a=_n();return bf(a,t,n)},useTransition:function(){var t=vf(!1);return t=fg.bind(null,It,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=It,c=_n();if(Ft){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),oe===null)throw Error(s(349));(Pt&127)!==0||km(l,n,a)}c.memoizedState=a;var h={value:a,getSnapshot:n};return c.queue=h,ng(qm.bind(null,l,h,t),[t]),l.flags|=2048,dr(9,{destroy:void 0},Pm.bind(null,l,h,a,n),null),a},useId:function(){var t=_n(),n=oe.identifierPrefix;if(Ft){var a=Vi,l=Ii;a=(l&~(1<<32-Te(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=io++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=mE++,n="_"+n+"r_"+a.toString(32)+"_";return t.memoizedState=n},useHostTransitionStatus:wf,useFormState:Jm,useActionState:Jm,useOptimistic:function(t){var n=_n();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Rf.bind(null,It,!0,a),a.dispatch=n,[t,n]},useMemoCache:pf,useCacheRefresh:function(){return _n().memoizedState=EE.bind(null,It)},useEffectEvent:function(t){var n=_n(),a={impl:t};return n.memoizedState=a,function(){if(($t&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Cf={readContext:tn,use:so,useCallback:ug,useContext:tn,useEffect:Tf,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:ro,useRef:eg,useState:function(){return ro(Zi)},useDebugValue:Af,useDeferredValue:function(t,n){var a=xe();return cg(a,re.memoizedState,t,n)},useTransition:function(){var t=ro(Zi)[0],n=xe().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:wf,useFormState:$m,useActionState:$m,useOptimistic:function(t,n){var a=xe();return Fm(a,re,t,n)},useMemoCache:pf,useCacheRefresh:gg};Cf.useEffectEvent=ig;var Eg={readContext:tn,use:so,useCallback:ug,useContext:tn,useEffect:Tf,useImperativeHandle:lg,useInsertionEffect:ag,useLayoutEffect:sg,useMemo:og,useReducer:_f,useRef:eg,useState:function(){return _f(Zi)},useDebugValue:Af,useDeferredValue:function(t,n){var a=xe();return re===null?bf(a,t,n):cg(a,re.memoizedState,t,n)},useTransition:function(){var t=_f(Zi)[0],n=xe().memoizedState;return[typeof t=="boolean"?t:Rl(t),n]},useSyncExternalStore:Bm,useId:mg,useHostTransitionStatus:wf,useFormState:tg,useActionState:tg,useOptimistic:function(t,n){var a=xe();return re!==null?Fm(a,re,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:pf,useCacheRefresh:gg};Eg.useEffectEvent=ig;function Df(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:w({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=Un(),c=Ca(l);c.payload=n,a!=null&&(c.callback=a),n=Da(t,c,l),n!==null&&(Cn(n,t,l),Al(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=Un(),c=Ca(l);c.tag=1,c.payload=n,a!=null&&(c.callback=a),n=Da(t,c,l),n!==null&&(Cn(n,t,l),Al(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=Un(),l=Ca(a);l.tag=2,n!=null&&(l.callback=n),n=Da(t,l,a),n!==null&&(Cn(n,t,a),Al(n,t,a))}};function Tg(t,n,a,l,c,h,g){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,g):n.prototype&&n.prototype.isPureReactComponent?!ml(a,l)||!ml(c,h):!0}function Ag(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&xf.enqueueReplaceState(n,n.state,null)}function Cs(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=w({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function bg(t){Pu(t)}function Sg(t){console.error(t)}function wg(t){Pu(t)}function co(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Rg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Nf(t,n,a){return a=Ca(a),a.tag=3,a.payload={element:null},a.callback=function(){co(t,n)},a}function Cg(t){return t=Ca(t),t.tag=3,t}function Dg(t,n,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var h=l.value;t.payload=function(){return c(h)},t.callback=function(){Rg(n,a,l)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(t.callback=function(){Rg(n,a,l),typeof c!="function"&&(Ma===null?Ma=new Set([this]):Ma.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function AE(t,n,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&sr(n,a,c,!0),a=On.current,a!==null){switch(a.tag){case 31:case 13:return Zn===null?bo():a.alternate===null&&Re===0&&(Re=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===Ju?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),eh(t,l,c)),!1;case 22:return a.flags|=65536,l===Ju?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),eh(t,l,c)),!1}throw Error(s(435,a.tag))}return eh(t,l,c),bo(),!1}if(Ft)return n=On.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Kc&&(t=Error(s(422),{cause:l}),yl(Qn(t,a)))):(l!==Kc&&(n=Error(s(423),{cause:l}),yl(Qn(n,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Qn(l,a),c=Nf(t.stateNode,l,c),rf(t,c),Re!==4&&(Re=2)),!1;var h=Error(s(520),{cause:l});if(h=Qn(h,a),zl===null?zl=[h]:zl.push(h),Re!==4&&(Re=2),n===null)return!0;l=Qn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=Nf(a.stateNode,l,t),rf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Ma===null||!Ma.has(h))))return a.flags|=65536,c&=-c,a.lanes|=c,c=Cg(c),Dg(c,t,a,l),rf(a,c),!1}a=a.return}while(a!==null);return!1}var If=Error(s(461)),ze=!1;function en(t,n,a,l){n.child=t===null?Vm(n,null,a,l):ws(n,t.child,a,l)}function xg(t,n,a,l,c){a=a.render;var h=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ts(n),l=hf(t,n,a,g,h,c),E=df(),t!==null&&!ze?(mf(t,n,c),Ji(t,n,c)):(Ft&&E&&Qc(n),n.flags|=1,en(t,n,l,c),n.child)}function Ng(t,n,a,l,c){if(t===null){var h=a.type;return typeof h=="function"&&!Hc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Ig(t,n,h,l,c)):(t=Fu(a.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Bf(t,c)){var g=h.memoizedProps;if(a=a.compare,a=a!==null?a:ml,a(g,l)&&t.ref===n.ref)return Ji(t,n,c)}return n.flags|=1,t=Fi(h,l),t.ref=n.ref,t.return=n,n.child=t}function Ig(t,n,a,l,c){if(t!==null){var h=t.memoizedProps;if(ml(h,l)&&t.ref===n.ref)if(ze=!1,n.pendingProps=l=h,Bf(t,c))(t.flags&131072)!==0&&(ze=!0);else return n.lanes=t.lanes,Ji(t,n,c)}return Vf(t,n,a,l,c)}function Vg(t,n,a,l){var c=l.children,h=t!==null?t.memoizedState:null;if(t===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,t!==null){for(l=n.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~h}else l=0,n.child=null;return Og(t,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(n,h!==null?h.cachePool:null),h!==null?Lm(n,h):uf(),zm(n);else return l=n.lanes=536870912,Og(t,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(Xu(n,h.cachePool),Lm(n,h),Na(),n.memoizedState=null):(t!==null&&Xu(n,null),uf(),Na());return en(t,n,c,a),n.child}function xl(t,n){return t!==null&&t.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Og(t,n,a,l,c){var h=ef();return h=h===null?null:{parent:Me._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&Xu(n,null),uf(),zm(n),t!==null&&sr(t,n,l,!0),n.childLanes=c,null}function fo(t,n){return n=mo({mode:n.mode,children:n.children},t.mode),n.ref=t.ref,t.child=n,n.return=t,n}function Mg(t,n,a){return ws(n,t.child,null,a),t=fo(n,n.pendingProps),t.flags|=2,Mn(n),n.memoizedState=null,t}function bE(t,n,a){var l=n.pendingProps,c=(n.flags&128)!==0;if(n.flags&=-129,t===null){if(Ft){if(l.mode==="hidden")return t=fo(n,l),n.lanes=536870912,xl(null,t);if(cf(n),(t=he)?(t=Qp(t,Xn),t=t!==null&&t.data==="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Aa!==null?{id:Ii,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=ym(t),a.return=n,n.child=a,We=n,he=null)):t=null,t===null)throw Sa(n);return n.lanes=536870912,null}return fo(n,l)}var h=t.memoizedState;if(h!==null){var g=h.dehydrated;if(cf(n),c)if(n.flags&256)n.flags&=-257,n=Mg(t,n,a);else if(n.memoizedState!==null)n.child=t.child,n.flags|=128,n=null;else throw Error(s(558));else if(ze||sr(t,n,a,!1),c=(a&t.childLanes)!==0,ze||c){if(l=oe,l!==null&&(g=Zr(l,a),g!==0&&g!==h.retryLane))throw h.retryLane=g,ys(t,g),Cn(l,t,g),If;bo(),n=Mg(t,n,a)}else t=h.treeContext,he=Jn(g.nextSibling),We=n,Ft=!0,ba=null,Xn=!1,t!==null&&Em(n,t),n=fo(n,l),n.flags|=4096;return n}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=n.ref,n.child=t,t.return=n,t}function ho(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Vf(t,n,a,l,c){return Ts(n),a=hf(t,n,a,l,void 0,c),l=df(),t!==null&&!ze?(mf(t,n,c),Ji(t,n,c)):(Ft&&l&&Qc(n),n.flags|=1,en(t,n,a,c),n.child)}function Lg(t,n,a,l,c,h){return Ts(n),n.updateQueue=null,a=jm(n,l,a,c),Um(t),l=df(),t!==null&&!ze?(mf(t,n,h),Ji(t,n,h)):(Ft&&l&&Qc(n),n.flags|=1,en(t,n,a,h),n.child)}function zg(t,n,a,l,c){if(Ts(n),n.stateNode===null){var h=er,g=a.contextType;typeof g=="object"&&g!==null&&(h=tn(g)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=xf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},af(n),g=a.contextType,h.context=typeof g=="object"&&g!==null?tn(g):er,h.state=n.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Df(n,a,g,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(g=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),g!==h.state&&xf.enqueueReplaceState(h,h.state,null),Sl(n,l,h,c),bl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var E=n.memoizedProps,D=Cs(a,E);h.props=D;var j=h.context,G=a.contextType;g=er,typeof G=="object"&&G!==null&&(g=tn(G));var X=a.getDerivedStateFromProps;G=typeof X=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||j!==g)&&Ag(n,h,l,g),Ra=!1;var B=n.memoizedState;h.state=B,Sl(n,l,h,c),bl(),j=n.memoizedState,E||B!==j||Ra?(typeof X=="function"&&(Df(n,a,X,l),j=n.memoizedState),(D=Ra||Tg(n,a,D,l,B,j,g))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),h.props=l,h.state=j,h.context=g,l=D):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,sf(t,n),g=n.memoizedProps,G=Cs(a,g),h.props=G,X=n.pendingProps,B=h.context,j=a.contextType,D=er,typeof j=="object"&&j!==null&&(D=tn(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==X||B!==D)&&Ag(n,h,l,D),Ra=!1,B=n.memoizedState,h.state=B,Sl(n,l,h,c),bl();var q=n.memoizedState;g!==X||B!==q||Ra||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof E=="function"&&(Df(n,a,E,l),q=n.memoizedState),(G=Ra||Tg(n,a,G,l,B,q,D)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(j||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,D),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,D)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=D,l=G):(typeof h.componentDidUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,ho(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ws(n,t.child,null,c),n.child=ws(n,null,a,c)):en(t,n,a,c),n.memoizedState=h.state,t=n.child):t=Ji(t,n,c),t}function Ug(t,n,a,l){return vs(),n.flags|=256,en(t,n,a,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(t){return{baseLanes:t,cachePool:Rm()}}function Lf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=zn),t}function jg(t,n,a){var l=n.pendingProps,c=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=t!==null&&t.memoizedState===null?!1:(De.current&2)!==0),g&&(c=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,t===null){if(Ft){if(c?xa(n):Na(),(t=he)?(t=Qp(t,Xn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(n.memoizedState={dehydrated:t,treeContext:Aa!==null?{id:Ii,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=ym(t),a.return=n,n.child=a,We=n,he=null)):t=null,t===null)throw Sa(n);return yh(t)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,c?(Na(),c=n.mode,E=mo({mode:"hidden",children:E},c),l=_s(l,c,a,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(a),l.childLanes=Lf(t,g,a),n.memoizedState=Of,xl(null,l)):(xa(n),zf(n,E))}var D=t.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(h)n.flags&256?(xa(n),n.flags&=-257,n=Uf(t,n,a)):n.memoizedState!==null?(Na(),n.child=t.child,n.flags|=128,n=null):(Na(),E=l.fallback,c=n.mode,l=mo({mode:"visible",children:l.children},c),E=_s(E,c,a,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,ws(n,t.child,null,a),l=n.child,l.memoizedState=Mf(a),l.childLanes=Lf(t,g,a),n.memoizedState=Of,n=xl(null,l));else if(xa(n),yh(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(s(419)),l.stack="",l.digest=g,yl({value:l,source:null,stack:null}),n=Uf(t,n,a)}else if(ze||sr(t,n,a,!1),g=(a&t.childLanes)!==0,ze||g){if(g=oe,g!==null&&(l=Zr(g,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,ys(t,l),Cn(g,t,l),If;ph(E)||bo(),n=Uf(t,n,a)}else ph(E)?(n.flags|=192,n.child=t.child,n=null):(t=D.treeContext,he=Jn(E.nextSibling),We=n,Ft=!0,ba=null,Xn=!1,t!==null&&Em(n,t),n=zf(n,l.children),n.flags|=4096);return n}return c?(Na(),E=l.fallback,c=n.mode,D=t.child,j=D.sibling,l=Fi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,j!==null?E=Fi(j,E):(E=_s(E,c,a,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,xl(null,l),l=n.child,E=t.child.memoizedState,E===null?E=Mf(a):(c=E.cachePool,c!==null?(D=Me._currentValue,c=c.parent!==D?{parent:D,pool:D}:c):c=Rm(),E={baseLanes:E.baseLanes|a,cachePool:c}),l.memoizedState=E,l.childLanes=Lf(t,g,a),n.memoizedState=Of,xl(t.child,l)):(xa(n),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(g=n.deletions,g===null?(n.deletions=[t],n.flags|=16):g.push(t)),n.child=a,n.memoizedState=null,a)}function zf(t,n){return n=mo({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function mo(t,n){return t=Vn(22,t,null,n),t.lanes=0,t}function Uf(t,n,a){return ws(n,t.child,null,a),t=zf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Bg(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Jc(t.return,n,a)}function jf(t,n,a,l,c,h){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:h}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=a,g.tailMode=c,g.treeForkCount=h)}function kg(t,n,a){var l=n.pendingProps,c=l.revealOrder,h=l.tail;l=l.children;var g=De.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,$(De,g),en(t,n,l,a),l=Ft?pl:0,!E&&t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Bg(t,a,n);else if(t.tag===19)Bg(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=n.child,c=null;a!==null;)t=a.alternate,t!==null&&eo(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=n.child,n.child=null):(c=a.sibling,a.sibling=null),jf(n,!1,c,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&eo(t)===null){n.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}jf(n,!0,a,null,h,l);break;case"together":jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Ji(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),Oa|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(sr(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Fi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Bf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function SE(t,n,a){switch(n.tag){case 3:ge(n,n.stateNode.containerInfo),wa(n,Me,t.memoizedState.cache),vs();break;case 27:case 5:ei(n);break;case 4:ge(n,n.stateNode.containerInfo);break;case 10:wa(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(xa(n),n.flags|=128,null):(a&n.child.childLanes)!==0?jg(t,n,a):(xa(n),t=Ji(t,n,a),t!==null?t.sibling:null);xa(n);break;case 19:var c=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(sr(t,n,a,!1),l=(a&n.childLanes)!==0),c){if(l)return kg(t,n,a);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(De,De.current),l)break;return null;case 22:return n.lanes=0,Vg(t,n,a,n.pendingProps);case 24:wa(n,Me,t.memoizedState.cache)}return Ji(t,n,a)}function Pg(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)ze=!0;else{if(!Bf(t,a)&&(n.flags&128)===0)return ze=!1,SE(t,n,a);ze=(t.flags&131072)!==0}else ze=!1,Ft&&(n.flags&1048576)!==0&&vm(n,pl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(t=bs(n.elementType),n.type=t,typeof t=="function")Hc(t)?(l=Cs(t,l),n.tag=1,n=zg(null,n,t,l,a)):(n.tag=0,n=Vf(null,n,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===bt){n.tag=11,n=xg(null,n,t,l,a);break t}else if(c===R){n.tag=14,n=Ng(null,n,t,l,a);break t}}throw n=Ut(t)||t,Error(s(306,n,""))}}return n;case 0:return Vf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,c=Cs(l,n.pendingProps),zg(t,n,l,c,a);case 3:t:{if(ge(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;c=h.element,sf(t,n),Sl(n,l,null,a);var g=n.memoizedState;if(l=g.cache,wa(n,Me,l),l!==h.cache&&$c(n,[Me],a,!0),bl(),l=g.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=Ug(t,n,l,a);break t}else if(l!==c){c=Qn(Error(s(424)),n),yl(c),n=Ug(t,n,l,a);break t}else for(t=n.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,he=Jn(t.firstChild),We=n,Ft=!0,ba=null,Xn=!0,a=Vm(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vs(),l===c){n=Ji(t,n,a);break t}en(t,n,l,a)}n=n.child}return n;case 26:return ho(t,n),t===null?(a=$p(n.type,null,n.pendingProps,null))?n.memoizedState=a:Ft||(a=n.type,t=n.pendingProps,l=No(St.current).createElement(a),l[Ie]=n,l[He]=t,nn(l,a,t),Ve(l),n.stateNode=l):n.memoizedState=$p(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return ei(n),t===null&&Ft&&(l=n.stateNode=Xp(n.type,n.pendingProps,St.current),We=n,Xn=!0,c=he,ja(n.type)?(_h=c,he=Jn(l.firstChild)):he=c),en(t,n,n.pendingProps.children,a),ho(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Ft&&((c=l=he)&&(l=tT(l,n.type,n.pendingProps,Xn),l!==null?(n.stateNode=l,We=n,he=Jn(l.firstChild),Xn=!1,c=!0):c=!1),c||Sa(n)),ei(n),c=n.type,h=n.pendingProps,g=t!==null?t.memoizedProps:null,l=h.children,dh(c,h)?l=null:g!==null&&dh(c,g)&&(n.flags|=32),n.memoizedState!==null&&(c=hf(t,n,gE,null,null,a),Gl._currentValue=c),ho(t,n),en(t,n,l,a),n.child;case 6:return t===null&&Ft&&((t=a=he)&&(a=eT(a,n.pendingProps,Xn),a!==null?(n.stateNode=a,We=n,he=null,t=!0):t=!1),t||Sa(n)),null;case 13:return jg(t,n,a);case 4:return ge(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ws(n,null,l,a):en(t,n,l,a),n.child;case 11:return xg(t,n,n.type,n.pendingProps,a);case 7:return en(t,n,n.pendingProps,a),n.child;case 8:return en(t,n,n.pendingProps.children,a),n.child;case 12:return en(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,wa(n,n.type,l.value),en(t,n,l.children,a),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,Ts(n),c=tn(c),l=l(c),n.flags|=1,en(t,n,l,a),n.child;case 14:return Ng(t,n,n.type,n.pendingProps,a);case 15:return Ig(t,n,n.type,n.pendingProps,a);case 19:return kg(t,n,a);case 31:return bE(t,n,a);case 22:return Vg(t,n,a,n.pendingProps);case 24:return Ts(n),l=tn(Me),t===null?(c=ef(),c===null&&(c=oe,h=Wc(),c.pooledCache=h,h.refCount++,h!==null&&(c.pooledCacheLanes|=a),c=h),n.memoizedState={parent:l,cache:c},af(n),wa(n,Me,c)):((t.lanes&a)!==0&&(sf(t,n),Sl(n,null,null,a),bl()),c=t.memoizedState,h=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),wa(n,Me,l)):(l=h.cache,wa(n,Me,l),l!==c.cache&&$c(n,[Me],a,!0))),en(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function $i(t){t.flags|=4}function kf(t,n,a,l,c){if((n=(t.mode&32)!==0)&&(n=!1),n){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(mp())t.flags|=8192;else throw Ss=Ju,nf}else t.flags&=-16777217}function qg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!iy(n))if(mp())t.flags|=8192;else throw Ss=Ju,nf}function go(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?kn():536870912,t.lanes|=n,yr|=n)}function Nl(t,n){if(!Ft)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function de(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function wE(t,n,a){var l=n.pendingProps;switch(Yc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(n),null;case 1:return de(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ki(Me),ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ar(n)?$i(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xc())),de(n),null;case 26:var c=n.type,h=n.memoizedState;return t===null?($i(n),h!==null?(de(n),qg(n,h)):(de(n),kf(n,c,null,l,a))):h?h!==t.memoizedState?($i(n),de(n),qg(n,h)):(de(n),n.flags&=-16777217):(t=t.memoizedProps,t!==l&&$i(n),de(n),kf(n,c,t,l,a)),null;case 27:if(gn(n),a=St.current,c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return de(n),null}t=at.current,ar(n)?Tm(n):(t=Xp(c,l,a),n.stateNode=t,$i(n))}return de(n),null;case 5:if(gn(n),c=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return de(n),null}if(h=at.current,ar(n))Tm(n);else{var g=No(St.current);switch(h){case 1:h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":h=g.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":h=g.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":h=g.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?g.createElement(c,{is:l.is}):g.createElement(c)}}h[Ie]=n,h[He]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)h.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=h;t:switch(nn(h,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(n)}}return de(n),kf(n,n.type,t===null?null:t.memoizedProps,n.pendingProps,a),null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=St.current,ar(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,c=We,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[Ie]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jp(t.nodeValue,a)),t||Sa(n,!0)}else t=No(t).createTextNode(l),t[Ie]=n,n.stateNode=t}return de(n),null;case 31:if(a=n.memoizedState,t===null||t.memoizedState!==null){if(l=ar(n),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=n.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Ie]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),t=!1}else a=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(s(558))}return de(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=ar(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[Ie]=n}else vs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;de(n),c=!1}else c=Xc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==c&&(l.flags|=2048)),a!==t&&a&&(n.child.flags|=8192),go(n,n.updateQueue),de(n),null);case 4:return ae(),t===null&&uh(n.stateNode.containerInfo),de(n),null;case 10:return Ki(n.type),de(n),null;case 19:if(F(De),l=n.memoizedState,l===null)return de(n),null;if(c=(n.flags&128)!==0,h=l.rendering,h===null)if(c)Nl(l,!1);else{if(Re!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=eo(t),h!==null){for(n.flags|=128,Nl(l,!1),t=h.updateQueue,n.updateQueue=t,go(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)pm(a,t),a=a.sibling;return $(De,De.current&1|2),Ft&&Qi(n,l.treeForkCount),n.child}t=t.sibling}l.tail!==null&&pe()>Eo&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304)}else{if(!c)if(t=eo(h),t!==null){if(n.flags|=128,c=!0,t=t.updateQueue,n.updateQueue=t,go(n,t),Nl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Ft)return de(n),null}else 2*pe()-l.renderingStartTime>Eo&&a!==536870912&&(n.flags|=128,c=!0,Nl(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(t=l.last,t!==null?t.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=pe(),t.sibling=null,a=De.current,$(De,c?a&1|2:a&1),Ft&&Qi(n,l.treeForkCount),t):(de(n),null);case 22:case 23:return Mn(n),of(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(de(n),n.subtreeFlags&6&&(n.flags|=8192)):de(n),a=n.updateQueue,a!==null&&go(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&F(As),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ki(Me),de(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function RE(t,n){switch(Yc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ki(Me),ae(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return gn(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(s(340));vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 13:if(Mn(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));vs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return F(De),null;case 4:return ae(),null;case 10:return Ki(n.type),null;case 22:case 23:return Mn(n),of(),t!==null&&F(As),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ki(Me),null;case 25:return null;default:return null}}function Hg(t,n){switch(Yc(n),n.tag){case 3:Ki(Me),ae();break;case 26:case 27:case 5:gn(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:F(De);break;case 10:Ki(n.type);break;case 22:case 23:Mn(n),of(),t!==null&&F(As);break;case 24:Ki(Me)}}function Il(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var h=a.create,g=a.inst;l=h(),g.destroy=l}a=a.next}while(a!==c)}}catch(E){ie(n,n.return,E)}}function Ia(t,n,a){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var h=c.next;l=h;do{if((l.tag&t)===t){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,c=n;var D=a,j=E;try{j()}catch(G){ie(c,D,G)}}}l=l.next}while(l!==h)}}catch(G){ie(n,n.return,G)}}function Gg(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Mm(n,a)}catch(l){ie(t,t.return,l)}}}function Fg(t,n,a){a.props=Cs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){ie(t,n,l)}}function Vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){ie(t,n,c)}}function Oi(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){ie(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){ie(t,n,c)}else a.current=null}function Qg(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){ie(t,t.return,c)}}function Pf(t,n,a){try{var l=t.stateNode;KE(l,t.type,a,n),l[He]=n}catch(c){ie(t,t.return,c)}}function Yg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&ja(t.type)||t.tag===4}function qf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Yg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&ja(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=si));else if(l!==4&&(l===27&&ja(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Hf(t,n,a),t=t.sibling;t!==null;)Hf(t,n,a),t=t.sibling}function po(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&ja(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(po(t,n,a),t=t.sibling;t!==null;)po(t,n,a),t=t.sibling}function Kg(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);nn(n,l,a),n[Ie]=t,n[He]=a}catch(h){ie(t,t.return,h)}}var Wi=!1,Ue=!1,Gf=!1,Xg=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function CE(t,n){if(t=t.containerInfo,fh=Uo,t=lm(t),zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var g=0,E=-1,D=-1,j=0,G=0,X=t,B=null;e:for(;;){for(var q;X!==a||c!==0&&X.nodeType!==3||(E=g+c),X!==h||l!==0&&X.nodeType!==3||(D=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)B=X,X=q;for(;;){if(X===t)break e;if(B===a&&++j===c&&(E=g),B===h&&++G===l&&(D=g),(q=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=q}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(hh={focusedElem:t,selectionRange:a},Uo=!1,Fe=n;Fe!==null;)if(n=Fe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Fe=t;else for(;Fe!==null;){switch(n=Fe,h=n.alternate,t=n.flags,n.tag){case 0:if((t&4)!==0&&(t=n.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,c=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var ot=Cs(a.type,c);t=l.getSnapshotBeforeUpdate(ot,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){ie(a,a.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)gh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":gh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Fe=t;break}Fe=n.return}}function Zg(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ea(t,a),l&4&&Il(5,a);break;case 1:if(ea(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(g){ie(a,a.return,g)}else{var c=Cs(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(g){ie(a,a.return,g)}}l&64&&Gg(a),l&512&&Vl(a,a.return);break;case 3:if(ea(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Mm(t,n)}catch(g){ie(a,a.return,g)}}break;case 27:n===null&&l&4&&Kg(a);case 26:case 5:ea(t,a),n===null&&l&4&&Qg(a),l&512&&Vl(a,a.return);break;case 12:ea(t,a);break;case 31:ea(t,a),l&4&&Wg(t,a);break;case 13:ea(t,a),l&4&&tp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=zE.bind(null,a),nT(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){n=n!==null&&n.memoizedState!==null||Ue,c=Wi;var h=Ue;Wi=l,(Ue=n)&&!h?na(t,a,(a.subtreeFlags&8772)!==0):ea(t,a),Wi=c,Ue=h}break;case 30:break;default:ea(t,a)}}function Jg(t){var n=t.alternate;n!==null&&(t.alternate=null,Jg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Ps(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Ee=null,bn=!1;function ta(t,n,a){for(a=a.child;a!==null;)$g(t,n,a),a=a.sibling}function $g(t,n,a){if(be&&typeof be.onCommitFiberUnmount=="function")try{be.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 26:Ue||Oi(a,n),ta(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ue||Oi(a,n);var l=Ee,c=bn;ja(a.type)&&(Ee=a.stateNode,bn=!1),ta(t,n,a),Pl(a.stateNode),Ee=l,bn=c;break;case 5:Ue||Oi(a,n);case 6:if(l=Ee,c=bn,Ee=null,ta(t,n,a),Ee=l,bn=c,Ee!==null)if(bn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(a.stateNode)}catch(h){ie(a,n,h)}else try{Ee.removeChild(a.stateNode)}catch(h){ie(a,n,h)}break;case 18:Ee!==null&&(bn?(t=Ee,Gp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),wr(t)):Gp(Ee,a.stateNode));break;case 4:l=Ee,c=bn,Ee=a.stateNode.containerInfo,bn=!0,ta(t,n,a),Ee=l,bn=c;break;case 0:case 11:case 14:case 15:Ia(2,a,n),Ue||Ia(4,a,n),ta(t,n,a);break;case 1:Ue||(Oi(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Fg(a,n,l)),ta(t,n,a);break;case 21:ta(t,n,a);break;case 22:Ue=(l=Ue)||a.memoizedState!==null,ta(t,n,a),Ue=l;break;default:ta(t,n,a)}}function Wg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{wr(t)}catch(a){ie(n,n.return,a)}}}function tp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{wr(t)}catch(a){ie(n,n.return,a)}}function DE(t){switch(t.tag){case 31:case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Xg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Xg),n;default:throw Error(s(435,t.tag))}}function yo(t,n){var a=DE(t);n.forEach(function(l){if(!a.has(l)){a.add(l);var c=UE.bind(null,t,l);l.then(c,c)}})}function Sn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],h=t,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(ja(E.type)){Ee=E.stateNode,bn=!1;break t}break;case 5:Ee=E.stateNode,bn=!1;break t;case 3:case 4:Ee=E.stateNode.containerInfo,bn=!0;break t}E=E.return}if(Ee===null)throw Error(s(160));$g(h,g,c),Ee=null,bn=!1,h=c.alternate,h!==null&&(h.return=null),c.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)ep(n,t),n=n.sibling}var fi=null;function ep(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(n,t),wn(t),l&4&&(Ia(3,t,t.return),Il(3,t),Ia(5,t,t.return));break;case 1:Sn(n,t),wn(t),l&512&&(Ue||a===null||Oi(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=fi;if(Sn(n,t),wn(t),l&512&&(Ue||a===null||Oi(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":h=c.getElementsByTagName("title")[0],(!h||h[vi]||h[Ie]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=c.createElement(l),c.head.insertBefore(h,c.querySelector("head > title"))),nn(h,l,a),h[Ie]=t,Ve(h),l=h;break t;case"link":var g=ey("link","href",c).get(l+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(h=g[E],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}h=c.createElement(l),nn(h,l,a),c.head.appendChild(h);break;case"meta":if(g=ey("meta","content",c).get(l+(a.content||""))){for(E=0;E<g.length;E++)if(h=g[E],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}h=c.createElement(l),nn(h,l,a),c.head.appendChild(h);break;default:throw Error(s(468,l))}h[Ie]=t,Ve(h),l=h}t.stateNode=l}else ny(c,t.type,t.stateNode);else t.stateNode=ty(c,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?ny(c,t.type,t.stateNode):ty(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pf(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(n,t),wn(t),l&512&&(Ue||a===null||Oi(a,a.return)),a!==null&&l&4&&Pf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(n,t),wn(t),l&512&&(Ue||a===null||Oi(a,a.return)),t.flags&32){c=t.stateNode;try{An(c,"")}catch(ot){ie(t,t.return,ot)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Pf(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Gf=!0);break;case 6:if(Sn(n,t),wn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ot){ie(t,t.return,ot)}}break;case 3:if(Oo=null,c=fi,fi=Io(n.containerInfo),Sn(n,t),fi=c,wn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{wr(n.containerInfo)}catch(ot){ie(t,t.return,ot)}Gf&&(Gf=!1,np(t));break;case 4:l=fi,fi=Io(t.stateNode.containerInfo),Sn(n,t),wn(t),fi=l;break;case 12:Sn(n,t),wn(t);break;case 31:Sn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yo(t,l)));break;case 13:Sn(n,t),wn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(vo=pe()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yo(t,l)));break;case 22:c=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,j=Wi,G=Ue;if(Wi=j||c,Ue=G||D,Sn(n,t),Ue=G,Wi=j,wn(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(a===null||D||Wi||Ue||Ds(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){D=a=n;try{if(h=D.stateNode,c)g=h.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=D.stateNode;var X=D.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){ie(D,D.return,ot)}}}else if(n.tag===6){if(a===null){D=n;try{D.stateNode.nodeValue=c?"":D.memoizedProps}catch(ot){ie(D,D.return,ot)}}}else if(n.tag===18){if(a===null){D=n;try{var q=D.stateNode;c?Fp(q,!0):Fp(D.stateNode,!1)}catch(ot){ie(D,D.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,yo(t,a))));break;case 19:Sn(n,t),wn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,yo(t,l)));break;case 30:break;case 21:break;default:Sn(n,t),wn(t)}}function wn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(Yg(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var c=a.stateNode,h=qf(t);po(t,h,c);break;case 5:var g=a.stateNode;a.flags&32&&(An(g,""),a.flags&=-33);var E=qf(t);po(t,E,g);break;case 3:case 4:var D=a.stateNode.containerInfo,j=qf(t);Hf(t,j,D);break;default:throw Error(s(161))}}catch(G){ie(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function np(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ea(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Zg(t,n.alternate,n),n=n.sibling}function Ds(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Ia(4,n,n.return),Ds(n);break;case 1:Oi(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Fg(n,n.return,a),Ds(n);break;case 27:Pl(n.stateNode);case 26:case 5:Oi(n,n.return),Ds(n);break;case 22:n.memoizedState===null&&Ds(n);break;case 30:Ds(n);break;default:Ds(n)}t=t.sibling}}function na(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,h=n,g=h.flags;switch(h.tag){case 0:case 11:case 15:na(c,h,a),Il(4,h);break;case 1:if(na(c,h,a),l=h,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(j){ie(l,l.return,j)}if(l=h,c=l.updateQueue,c!==null){var E=l.stateNode;try{var D=c.shared.hiddenCallbacks;if(D!==null)for(c.shared.hiddenCallbacks=null,c=0;c<D.length;c++)Om(D[c],E)}catch(j){ie(l,l.return,j)}}a&&g&64&&Gg(h),Vl(h,h.return);break;case 27:Kg(h);case 26:case 5:na(c,h,a),a&&l===null&&g&4&&Qg(h),Vl(h,h.return);break;case 12:na(c,h,a);break;case 31:na(c,h,a),a&&g&4&&Wg(c,h);break;case 13:na(c,h,a),a&&g&4&&tp(c,h);break;case 22:h.memoizedState===null&&na(c,h,a),Vl(h,h.return);break;case 30:break;default:na(c,h,a)}n=n.sibling}}function Ff(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_l(a))}function Qf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t))}function hi(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)ip(t,n,a,l),n=n.sibling}function ip(t,n,a,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:hi(t,n,a,l),c&2048&&Il(9,n);break;case 1:hi(t,n,a,l);break;case 3:hi(t,n,a,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&_l(t)));break;case 12:if(c&2048){hi(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,g=h.id,E=h.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){ie(n,n.return,D)}}else hi(t,n,a,l);break;case 31:hi(t,n,a,l);break;case 13:hi(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,g=n.alternate,n.memoizedState!==null?h._visibility&2?hi(t,n,a,l):Ol(t,n):h._visibility&2?hi(t,n,a,l):(h._visibility|=2,mr(t,n,a,l,(n.subtreeFlags&10256)!==0||!1)),c&2048&&Ff(g,n);break;case 24:hi(t,n,a,l),c&2048&&Qf(n.alternate,n);break;default:hi(t,n,a,l)}}function mr(t,n,a,l,c){for(c=c&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=t,g=n,E=a,D=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:mr(h,g,E,D,c),Il(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?mr(h,g,E,D,c):Ol(h,g):(G._visibility|=2,mr(h,g,E,D,c)),c&&j&2048&&Ff(g.alternate,g);break;case 24:mr(h,g,E,D,c),c&&j&2048&&Qf(g.alternate,g);break;default:mr(h,g,E,D,c)}n=n.sibling}}function Ol(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,c=l.flags;switch(l.tag){case 22:Ol(a,l),c&2048&&Ff(l.alternate,l);break;case 24:Ol(a,l),c&2048&&Qf(l.alternate,l);break;default:Ol(a,l)}n=n.sibling}}var Ml=8192;function gr(t,n,a){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)ap(t,n,a),t=t.sibling}function ap(t,n,a){switch(t.tag){case 26:gr(t,n,a),t.flags&Ml&&t.memoizedState!==null&&mT(a,fi,t.memoizedState,t.memoizedProps);break;case 5:gr(t,n,a);break;case 3:case 4:var l=fi;fi=Io(t.stateNode.containerInfo),gr(t,n,a),fi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Ml,Ml=16777216,gr(t,n,a),Ml=l):gr(t,n,a));break;default:gr(t,n,a)}}function sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Ll(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,lp(l,t)}sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)rp(t),t=t.sibling}function rp(t){switch(t.tag){case 0:case 11:case 15:Ll(t),t.flags&2048&&Ia(9,t,t.return);break;case 3:Ll(t);break;case 12:Ll(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_o(t)):Ll(t);break;default:Ll(t)}}function _o(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Fe=l,lp(l,t)}sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Ia(8,n,n.return),_o(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,_o(n));break;default:_o(n)}t=t.sibling}}function lp(t,n){for(;Fe!==null;){var a=Fe;switch(a.tag){case 0:case 11:case 15:Ia(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_l(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Fe=l;else t:for(a=t;Fe!==null;){l=Fe;var c=l.sibling,h=l.return;if(Jg(l),l===a){Fe=null;break t}if(c!==null){c.return=h,Fe=c;break t}Fe=h}}}var xE={getCacheForType:function(t){var n=tn(Me),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a},cacheSignal:function(){return tn(Me).controller.signal}},NE=typeof WeakMap=="function"?WeakMap:Map,$t=0,oe=null,jt=null,Pt=0,ne=0,Ln=null,Va=!1,pr=!1,Yf=!1,ia=0,Re=0,Oa=0,xs=0,Kf=0,zn=0,yr=0,zl=null,Rn=null,Xf=!1,vo=0,up=0,Eo=1/0,To=null,Ma=null,Pe=0,La=null,_r=null,aa=0,Zf=0,Jf=null,op=null,Ul=0,$f=null;function Un(){return($t&2)!==0&&Pt!==0?Pt&-Pt:H.T!==null?ah():Tu()}function cp(){if(zn===0)if((Pt&536870912)===0||Ft){var t=Lt;Lt<<=1,(Lt&3932160)===0&&(Lt=262144),zn=t}else zn=536870912;return t=On.current,t!==null&&(t.flags|=32),zn}function Cn(t,n,a){(t===oe&&(ne===2||ne===9)||t.cancelPendingCommit!==null)&&(vr(t,0),za(t,Pt,zn,!1)),ni(t,a),(($t&2)===0||t!==oe)&&(t===oe&&(($t&2)===0&&(xs|=a),Re===4&&za(t,Pt,zn,!1)),Mi(t))}function fp(t,n,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(n&127)===0&&(n&t.expiredLanes)===0||Ze(t,n),c=l?OE(t,n):th(t,n,!0),h=l;do{if(c===0){pr&&!l&&za(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!IE(a)){c=th(t,n,!1),h=!1;continue}if(c===2){if(h=n,t.errorRecoveryDisabledLanes&h)var g=0;else g=t.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=t;c=zl;var D=E.current.memoizedState.isDehydrated;if(D&&(vr(E,g).flags|=256),g=th(E,g,!1),g!==2){if(Yf&&!D){E.errorRecoveryDisabledLanes|=h,xs|=h,c=4;break t}h=Rn,Rn=c,h!==null&&(Rn===null?Rn=h:Rn.push.apply(Rn,h))}c=g}if(h=!1,c!==2)continue}}if(c===1){vr(t,0),za(t,n,0,!0);break}t:{switch(l=t,h=c,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:za(l,n,zn,!Va);break t;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(c=vo+300-pe(),10<c)){if(za(l,n,zn,!Va),_e(l,0,!0)!==0)break t;aa=n,l.timeoutHandle=qp(hp.bind(null,l,a,Rn,To,Xf,n,zn,xs,yr,Va,h,"Throttled",-0,0),c);break t}hp(l,a,Rn,To,Xf,n,zn,xs,yr,Va,h,null,-0,0)}}break}while(!0);Mi(t)}function hp(t,n,a,l,c,h,g,E,D,j,G,X,B,q){if(t.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:si},ap(n,h,X);var ot=(h&62914560)===h?vo-pe():(h&4194048)===h?up-pe():0;if(ot=gT(X,ot),ot!==null){aa=h,t.cancelPendingCommit=ot(Ep.bind(null,t,n,h,a,l,c,g,E,D,G,X,null,B,q)),za(t,h,g,!j);return}}Ep(t,n,h,a,l,c,g,E,D)}function IE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],h=c.getSnapshot;c=c.value;try{if(!In(h(),c))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function za(t,n,a,l){n&=~Kf,n&=~xs,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var h=31-Te(c),g=1<<h;l[h]=-1,c&=~g}a!==0&&as(t,a,n)}function Ao(){return($t&6)===0?(jl(0),!1):!0}function Wf(){if(jt!==null){if(ne===0)var t=jt.return;else t=jt,Yi=Es=null,gf(t),or=null,El=0,t=jt;for(;t!==null;)Hg(t.alternate,t),t=t.return;jt=null}}function vr(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,JE(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),aa=0,Wf(),oe=t,jt=a=Fi(t.current,null),Pt=n,ne=0,Ln=null,Va=!1,pr=Ze(t,n),Yf=!1,yr=zn=Kf=xs=Oa=Re=0,Rn=zl=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-Te(l),h=1<<c;n|=t[c],l&=~h}return ia=n,qu(),a}function dp(t,n){It=null,H.H=Dl,n===ur||n===Zu?(n=xm(),ne=3):n===nf?(n=xm(),ne=4):ne=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Ln=n,jt===null&&(Re=1,co(t,Qn(n,t.current)))}function mp(){var t=On.current;return t===null?!0:(Pt&4194048)===Pt?Zn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?t===Zn:!1}function gp(){var t=H.H;return H.H=Dl,t===null?Dl:t}function pp(){var t=H.A;return H.A=xE,t}function bo(){Re=4,Va||(Pt&4194048)!==Pt&&On.current!==null||(pr=!0),(Oa&134217727)===0&&(xs&134217727)===0||oe===null||za(oe,Pt,zn,!1)}function th(t,n,a){var l=$t;$t|=2;var c=gp(),h=pp();(oe!==t||Pt!==n)&&(To=null,vr(t,n)),n=!1;var g=Re;t:do try{if(ne!==0&&jt!==null){var E=jt,D=Ln;switch(ne){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:On.current===null&&(n=!0);var j=ne;if(ne=0,Ln=null,Er(t,E,D,j),a&&pr){g=0;break t}break;default:j=ne,ne=0,Ln=null,Er(t,E,D,j)}}VE(),g=Re;break}catch(G){dp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Yi=Es=null,$t=l,H.H=c,H.A=h,jt===null&&(oe=null,Pt=0,qu()),g}function VE(){for(;jt!==null;)yp(jt)}function OE(t,n){var a=$t;$t|=2;var l=gp(),c=pp();oe!==t||Pt!==n?(To=null,Eo=pe()+500,vr(t,n)):pr=Ze(t,n);t:do try{if(ne!==0&&jt!==null){n=jt;var h=Ln;e:switch(ne){case 1:ne=0,Ln=null,Er(t,n,h,1);break;case 2:case 9:if(Cm(h)){ne=0,Ln=null,_p(n);break}n=function(){ne!==2&&ne!==9||oe!==t||(ne=7),Mi(t)},h.then(n,n);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:Cm(h)?(ne=0,Ln=null,_p(n)):(ne=0,Ln=null,Er(t,n,h,7));break;case 5:var g=null;switch(jt.tag){case 26:g=jt.memoizedState;case 5:case 27:var E=jt;if(g?iy(g):E.stateNode.complete){ne=0,Ln=null;var D=E.sibling;if(D!==null)jt=D;else{var j=E.return;j!==null?(jt=j,So(j)):jt=null}break e}}ne=0,Ln=null,Er(t,n,h,5);break;case 6:ne=0,Ln=null,Er(t,n,h,6);break;case 8:Wf(),Re=6;break t;default:throw Error(s(462))}}ME();break}catch(G){dp(t,G)}while(!0);return Yi=Es=null,H.H=l,H.A=c,$t=a,jt!==null?0:(oe=null,Pt=0,qu(),Re)}function ME(){for(;jt!==null&&!fe();)yp(jt)}function yp(t){var n=Pg(t.alternate,t,ia);t.memoizedProps=t.pendingProps,n===null?So(t):jt=n}function _p(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=Lg(a,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=Lg(a,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:gf(n);default:Hg(a,n),n=jt=pm(n,ia),n=Pg(a,n,ia)}t.memoizedProps=t.pendingProps,n===null?So(t):jt=n}function Er(t,n,a,l){Yi=Es=null,gf(n),or=null,El=0;var c=n.return;try{if(AE(t,c,n,a,Pt)){Re=1,co(t,Qn(a,t.current)),jt=null;return}}catch(h){if(c!==null)throw jt=c,h;Re=1,co(t,Qn(a,t.current)),jt=null;return}n.flags&32768?(Ft||l===1?t=!0:pr||(Pt&536870912)!==0?t=!1:(Va=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),vp(n,t)):So(n)}function So(t){var n=t;do{if((n.flags&32768)!==0){vp(n,Va);return}t=n.return;var a=wE(n.alternate,n,ia);if(a!==null){jt=a;return}if(n=n.sibling,n!==null){jt=n;return}jt=n=t}while(n!==null);Re===0&&(Re=5)}function vp(t,n){do{var a=RE(t.alternate,t);if(a!==null){a.flags&=32767,jt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){jt=t;return}jt=t=a}while(t!==null);Re=6,jt=null}function Ep(t,n,a,l,c,h,g,E,D){t.cancelPendingCommit=null;do wo();while(Pe!==0);if(($t&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=Pc,Vc(t,a,h,g,E,D),t===oe&&(jt=oe=null,Pt=0),_r=n,La=t,aa=a,Zf=h,Jf=c,op=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,jE(on,function(){return wp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,g=$t,$t|=4;try{CE(t,n,a)}finally{$t=g,tt.p=c,H.T=l}}Pe=1,Tp(),Ap(),bp()}}function Tp(){if(Pe===1){Pe=0;var t=La,n=_r,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=$t;$t|=4;try{ep(n,t);var h=hh,g=lm(t.containerInfo),E=h.focusedElem,D=h.selectionRange;if(g!==E&&E&&E.ownerDocument&&rm(E.ownerDocument.documentElement,E)){if(D!==null&&zc(E)){var j=D.start,G=D.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var q=B.getSelection(),ot=E.textContent.length,Tt=Math.min(D.start,ot),ue=D.end===void 0?Tt:Math.min(D.end,ot);!q.extend&&Tt>ue&&(g=ue,ue=Tt,Tt=g);var L=sm(E,Tt),I=sm(E,ue);if(L&&I&&(q.rangeCount!==1||q.anchorNode!==L.node||q.anchorOffset!==L.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var U=X.createRange();U.setStart(L.node,L.offset),q.removeAllRanges(),Tt>ue?(q.addRange(U),q.extend(I.node,I.offset)):(U.setEnd(I.node,I.offset),q.addRange(U))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Uo=!!fh,hh=fh=null}finally{$t=c,tt.p=l,H.T=a}}t.current=n,Pe=2}}function Ap(){if(Pe===2){Pe=0;var t=La,n=_r,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var l=tt.p;tt.p=2;var c=$t;$t|=4;try{Zg(t,n.alternate,n)}finally{$t=c,tt.p=l,H.T=a}}Pe=3}}function bp(){if(Pe===4||Pe===3){Pe=0,Xe();var t=La,n=_r,a=aa,l=op;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Pe=5:(Pe=0,_r=La=null,Sp(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ma=null),Pi(a),n=n.stateNode,be&&typeof be.onCommitFiberRoot=="function")try{be.onCommitFiberRoot(En,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var h=t.onRecoverableError,g=0;g<l.length;g++){var E=l[g];h(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(aa&3)!==0&&wo(),Mi(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===$f?Ul++:(Ul=0,$f=t):Ul=0,jl(0)}}function Sp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,_l(n)))}function wo(){return Tp(),Ap(),bp(),wp()}function wp(){if(Pe!==5)return!1;var t=La,n=Zf;Zf=0;var a=Pi(aa),l=H.T,c=tt.p;try{tt.p=32>a?32:a,H.T=null,a=Jf,Jf=null;var h=La,g=aa;if(Pe=0,_r=La=null,aa=0,($t&6)!==0)throw Error(s(331));var E=$t;if($t|=4,rp(h.current),ip(h,h.current,g,a),$t=E,jl(0,!1),be&&typeof be.onPostCommitFiberRoot=="function")try{be.onPostCommitFiberRoot(En,h)}catch{}return!0}finally{tt.p=c,H.T=l,Sp(t,n)}}function Rp(t,n,a){n=Qn(a,n),n=Nf(t.stateNode,n,2),t=Da(t,n,2),t!==null&&(ni(t,2),Mi(t))}function ie(t,n,a){if(t.tag===3)Rp(t,t,a);else for(;n!==null;){if(n.tag===3){Rp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ma===null||!Ma.has(l))){t=Qn(a,t),a=Cg(2),l=Da(n,a,2),l!==null&&(Dg(a,l,n,t),ni(l,2),Mi(l));break}}n=n.return}}function eh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new NE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(a)||(Yf=!0,c.add(a),t=LE.bind(null,t,n,a),n.then(t,t))}function LE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,oe===t&&(Pt&a)===a&&(Re===4||Re===3&&(Pt&62914560)===Pt&&300>pe()-vo?($t&2)===0&&vr(t,0):Kf|=a,yr===Pt&&(yr=0)),Mi(t)}function Cp(t,n){n===0&&(n=kn()),t=ys(t,n),t!==null&&(ni(t,n),Mi(t))}function zE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Cp(t,a)}function UE(t,n){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),Cp(t,a)}function jE(t,n){return Et(t,n)}var Ro=null,Tr=null,nh=!1,Co=!1,ih=!1,Ua=0;function Mi(t){t!==Tr&&t.next===null&&(Tr===null?Ro=Tr=t:Tr=Tr.next=t),Co=!0,nh||(nh=!0,kE())}function jl(t,n){if(!ih&&Co){ih=!0;do for(var a=!1,l=Ro;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var h=0;else{var g=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Te(42|t)+1)-1,h&=c&~(g&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Ip(l,h))}else h=Pt,h=_e(l,l===oe?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Ze(l,h)||(a=!0,Ip(l,h));l=l.next}while(a);ih=!1}}function BE(){Dp()}function Dp(){Co=nh=!1;var t=0;Ua!==0&&ZE()&&(t=Ua);for(var n=pe(),a=null,l=Ro;l!==null;){var c=l.next,h=xp(l,n);h===0?(l.next=null,a===null?Ro=c:a.next=c,c===null&&(Tr=a)):(a=l,(t!==0||(h&3)!==0)&&(Co=!0)),l=c}Pe!==0&&Pe!==5||jl(t),Ua!==0&&(Ua=0)}function xp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var g=31-Te(h),E=1<<g,D=c[g];D===-1?((E&a)===0||(E&l)!==0)&&(c[g]=Kr(E,n)):D<=n&&(t.expiredLanes|=E),h&=~E}if(n=oe,a=Pt,a=_e(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(ne===2||ne===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Qt(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ze(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Qt(l),Pi(a)){case 2:case 8:a=yi;break;case 32:a=on;break;case 268435456:a=is;break;default:a=on}return l=Np.bind(null,t),a=Et(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Qt(l),t.callbackPriority=2,t.callbackNode=null,2}function Np(t,n){if(Pe!==0&&Pe!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(wo()&&t.callbackNode!==a)return null;var l=Pt;return l=_e(t,t===oe?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(fp(t,l,n),xp(t,pe()),t.callbackNode!=null&&t.callbackNode===a?Np.bind(null,t):null)}function Ip(t,n){if(wo())return null;fp(t,n,!0)}function kE(){$E(function(){($t&6)!==0?Et(un,BE):Dp()})}function ah(){if(Ua===0){var t=rr;t===0&&(t=pt,pt<<=1,(pt&261888)===0&&(pt=256)),Ua=t}return Ua}function Vp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Fs(""+t)}function Op(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function PE(t,n,a,l,c){if(n==="submit"&&a&&a.stateNode===c){var h=Vp((c[He]||null).action),g=l.submitter;g&&(n=(n=g[He]||null)?Vp(n.formAction):g.getAttribute("formAction"),n!==null&&(h=n,g=null));var E=new Ci("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ua!==0){var D=g?Op(c,g):new FormData(c);Sf(a,{pending:!0,data:D,method:c.method,action:h},null,D)}}else typeof h=="function"&&(E.preventDefault(),D=g?Op(c,g):new FormData(c),Sf(a,{pending:!0,data:D,method:c.method,action:h},h,D))},currentTarget:c}]})}}for(var sh=0;sh<kc.length;sh++){var rh=kc[sh],qE=rh.toLowerCase(),HE=rh[0].toUpperCase()+rh.slice(1);ci(qE,"on"+HE)}ci(cm,"onAnimationEnd"),ci(fm,"onAnimationIteration"),ci(hm,"onAnimationStart"),ci("dblclick","onDoubleClick"),ci("focusin","onFocus"),ci("focusout","onBlur"),ci(sE,"onTransitionRun"),ci(rE,"onTransitionStart"),ci(lE,"onTransitionCancel"),ci(dm,"onTransitionEnd"),bi("onMouseEnter",["mouseout","mouseover"]),bi("onMouseLeave",["mouseout","mouseover"]),bi("onPointerEnter",["pointerout","pointerover"]),bi("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bl));function Mp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],D=E.instance,j=E.currentTarget;if(E=E.listener,D!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=j;try{h(c)}catch(G){Pu(G)}c.currentTarget=null,h=D}else for(g=0;g<l.length;g++){if(E=l[g],D=E.instance,j=E.currentTarget,E=E.listener,D!==h&&c.isPropagationStopped())break t;h=E,c.currentTarget=j;try{h(c)}catch(G){Pu(G)}c.currentTarget=null,h=D}}}}function Bt(t,n){var a=n[ks];a===void 0&&(a=n[ks]=new Set);var l=t+"__bubble";a.has(l)||(Lp(n,t,2,!1),a.add(l))}function lh(t,n,a){var l=0;n&&(l|=4),Lp(a,t,l,n)}var Do="_reactListening"+Math.random().toString(36).slice(2);function uh(t){if(!t[Do]){t[Do]=!0,Jr.forEach(function(a){a!=="selectionchange"&&(GE.has(a)||lh(a,!1,t),lh(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Do]||(n[Do]=!0,lh("selectionchange",!1,n))}}function Lp(t,n,a,l){switch(cy(n)){case 2:var c=_T;break;case 8:c=vT;break;default:c=bh}a=c.bind(null,n,a,t),c=void 0,!os||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,a,{capture:!0,passive:c}):t.addEventListener(n,a,!0):c!==void 0?t.addEventListener(n,a,{passive:c}):t.addEventListener(n,a,!1)}function oh(t,n,a,l,c){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===c)break;if(g===4)for(g=l.return;g!==null;){var D=g.tag;if((D===3||D===4)&&g.stateNode.containerInfo===c)return;g=g.return}for(;E!==null;){if(g=Ei(E),g===null)return;if(D=g.tag,D===5||D===6||D===26||D===27){l=h=g;continue t}E=E.parentNode}}l=l.return}_a(function(){var j=h,G=qn(a),X=[];t:{var B=mm.get(t);if(B!==void 0){var q=Ci,ot=t;switch(t){case"keypress":if(fs(a)===0)break t;case"keydown":case"keyup":q=ju;break;case"focusin":ot="focus",q=ds;break;case"focusout":ot="blur",q=ds;break;case"beforeblur":case"afterblur":q=ds;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=cl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case cm:case fm:case hm:q=Iu;break;case dm:q=T;break;case"scroll":case"scrollend":q=ol;break;case"wheel":q=P;break;case"copy":case"cut":case"paste":q=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Gi;break;case"toggle":case"beforetoggle":q=Nt}var Tt=(n&4)!==0,ue=!Tt&&(t==="scroll"||t==="scrollend"),L=Tt?B!==null?B+"Capture":null:B;Tt=[];for(var I=j,U;I!==null;){var Y=I;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||L===null||(Y=ri(I,L),Y!=null&&Tt.push(kl(I,Y,U))),ue)break;I=I.return}0<Tt.length&&(B=new q(B,ot,null,a,G),X.push({event:B,listeners:Tt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&a!==rl&&(ot=a.relatedTarget||a.fromElement)&&(Ei(ot)||ot[_i]))break t;if((q||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,q?(ot=a.relatedTarget||a.toElement,q=j,ot=ot?Ei(ot):null,ot!==null&&(ue=f(ot),Tt=ot.tag,ot!==ue||Tt!==5&&Tt!==27&&Tt!==6)&&(ot=null)):(q=null,ot=j),q!==ot)){if(Tt=cl,Y="onMouseLeave",L="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=Gi,Y="onPointerLeave",L="onPointerEnter",I="pointer"),ue=q==null?B:xn(q),U=ot==null?B:xn(ot),B=new Tt(Y,I+"leave",q,a,G),B.target=ue,B.relatedTarget=U,Y=null,Ei(G)===j&&(Tt=new Tt(L,I+"enter",ot,a,G),Tt.target=U,Tt.relatedTarget=ue,Y=Tt),ue=Y,q&&ot)e:{for(Tt=FE,L=q,I=ot,U=0,Y=L;Y;Y=Tt(Y))U++;Y=0;for(var mt=I;mt;mt=Tt(mt))Y++;for(;0<U-Y;)L=Tt(L),U--;for(;0<Y-U;)I=Tt(I),Y--;for(;U--;){if(L===I||I!==null&&L===I.alternate){Tt=L;break e}L=Tt(L),I=Tt(I)}Tt=null}else Tt=null;q!==null&&zp(X,B,q,Tt,!1),ot!==null&&ue!==null&&zp(X,ue,ot,Tt,!0)}}t:{if(B=j?xn(j):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Xt=Wd;else if(Jd(B))if(tm)Xt=nE;else{Xt=tE;var ft=W0}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?j&&Gs(j.elementType)&&(Xt=Wd):Xt=eE;if(Xt&&(Xt=Xt(t,j))){$d(X,Xt,a,G);break t}ft&&ft(t,B,j),t==="focusout"&&j&&B.type==="number"&&j.memoizedProps.value!=null&&il(B,"number",B.value)}switch(ft=j?xn(j):window,t){case"focusin":(Jd(ft)||ft.contentEditable==="true")&&($s=ft,Uc=j,gl=null);break;case"focusout":gl=Uc=$s=null;break;case"mousedown":jc=!0;break;case"contextmenu":case"mouseup":case"dragend":jc=!1,um(X,a,G);break;case"selectionchange":if(aE)break;case"keydown":case"keyup":um(X,a,G)}var Vt;if(Jt)t:{switch(t){case"compositionstart":var qt="onCompositionStart";break t;case"compositionend":qt="onCompositionEnd";break t;case"compositionupdate":qt="onCompositionUpdate";break t}qt=void 0}else Js?ms(t,a)&&(qt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(qt="onCompositionStart");qt&&(Ni&&a.locale!=="ko"&&(Js||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Js&&(Vt=ul()):(Ri=G,ll="value"in Ri?Ri.value:Ri.textContent,Js=!0)),ft=xo(j,qt),0<ft.length&&(qt=new xi(qt,t,null,a,G),X.push({event:qt,listeners:ft}),Vt?qt.data=Vt:(Vt=Zs(a),Vt!==null&&(qt.data=Vt)))),(Vt=Gn?X0(t,a):Z0(t,a))&&(qt=xo(j,"onBeforeInput"),0<qt.length&&(ft=new xi("onBeforeInput","beforeinput",null,a,G),X.push({event:ft,listeners:qt}),ft.data=Vt)),PE(X,t,j,a,G)}Mp(X,n)})}function kl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function xo(t,n){for(var a=n+"Capture",l=[];t!==null;){var c=t,h=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||h===null||(c=ri(t,a),c!=null&&l.unshift(kl(t,c,h)),c=ri(t,n),c!=null&&l.push(kl(t,c,h))),t.tag===3)return l;t=t.return}return[]}function FE(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function zp(t,n,a,l,c){for(var h=n._reactName,g=[];a!==null&&a!==l;){var E=a,D=E.alternate,j=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||j===null||(D=j,c?(j=ri(a,h),j!=null&&g.unshift(kl(a,j,D))):c||(j=ri(a,h),j!=null&&g.push(kl(a,j,D)))),a=a.return}g.length!==0&&t.push({event:n,listeners:g})}var QE=/\r\n?/g,YE=/\u0000|\uFFFD/g;function Up(t){return(typeof t=="string"?t:""+t).replace(QE,`
`).replace(YE,"")}function jp(t,n){return n=Up(n),Up(t)===n}function le(t,n,a,l,c,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&An(t,""+l);break;case"className":Nn(t,"class",l);break;case"tabIndex":Nn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(t,a,l);break;case"style":sl(t,l,h);break;case"data":if(n!=="object"){Nn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fs(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&le(t,n,"name",c.name,c,null),le(t,n,"formEncType",c.formEncType,c,null),le(t,n,"formMethod",c.formMethod,c,null),le(t,n,"formTarget",c.formTarget,c,null)):(le(t,n,"encType",c.encType,c,null),le(t,n,"method",c.method,c,null),le(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Fs(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=si);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Fs(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Bt("beforetoggle",t),Bt("toggle",t),qs(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":qs(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Du.get(a)||a,qs(t,a,l))}}function ch(t,n,a,l,c,h){switch(a){case"style":sl(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Bt("scroll",t);break;case"onScrollEnd":l!=null&&Bt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=si);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$r.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),n=a.slice(2,c?a.length-7:void 0),h=t[He]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,c),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,c);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):qs(t,a,l)}}}function nn(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",t),Bt("load",t);var l=!1,c=!1,h;for(h in a)if(a.hasOwnProperty(h)){var g=a[h];if(g!=null)switch(h){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(t,n,h,g,a,null)}}c&&le(t,n,"srcSet",a.srcSet,a,null),l&&le(t,n,"src",a.src,a,null);return;case"input":Bt("invalid",t);var E=h=g=c=null,D=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":c=G;break;case"type":g=G;break;case"checked":D=G;break;case"defaultChecked":j=G;break;case"value":h=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:le(t,n,l,G,a,null)}}wu(t,h,E,D,j,g,c,!1);return;case"select":Bt("invalid",t),l=g=h=null;for(c in a)if(a.hasOwnProperty(c)&&(E=a[c],E!=null))switch(c){case"value":h=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:le(t,n,c,E,a,null)}n=h,a=g,t.multiple=!!l,n!=null?ma(t,!!l,n,!1):a!=null&&ma(t,!!l,a,!0);return;case"textarea":Bt("invalid",t),h=c=l=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":c=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:le(t,n,g,E,a,null)}ga(t,l,c,h);return;case"option":for(D in a)a.hasOwnProperty(D)&&(l=a[D],l!=null)&&(D==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":le(t,n,D,l,a,null));return;case"dialog":Bt("beforetoggle",t),Bt("toggle",t),Bt("cancel",t),Bt("close",t);break;case"iframe":case"object":Bt("load",t);break;case"video":case"audio":for(l=0;l<Bl.length;l++)Bt(Bl[l],t);break;case"image":Bt("error",t),Bt("load",t);break;case"details":Bt("toggle",t);break;case"embed":case"source":case"link":Bt("error",t),Bt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:le(t,n,j,l,a,null)}return;default:if(Gs(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&ch(t,n,G,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&le(t,n,E,l,a,null))}function KE(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,h=null,g=null,E=null,D=null,j=null,G=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":D=X;default:l.hasOwnProperty(q)||le(t,n,q,null,l,X)}}for(var B in l){var q=l[B];if(X=a[B],l.hasOwnProperty(B)&&(q!=null||X!=null))switch(B){case"type":h=q;break;case"name":c=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==X&&le(t,n,B,q,l,X)}}Hs(t,g,E,D,j,G,h,c);return;case"select":q=g=E=B=null;for(h in a)if(D=a[h],a.hasOwnProperty(h)&&D!=null)switch(h){case"value":break;case"multiple":q=D;default:l.hasOwnProperty(h)||le(t,n,h,null,l,D)}for(c in l)if(h=l[c],D=a[c],l.hasOwnProperty(c)&&(h!=null||D!=null))switch(c){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":g=h;default:h!==D&&le(t,n,c,h,l,D)}n=E,a=g,l=q,B!=null?ma(t,!!a,B,!1):!!l!=!!a&&(n!=null?ma(t,!!a,n,!0):ma(t,!!a,a?[]:"",!1));return;case"textarea":q=B=null;for(E in a)if(c=a[E],a.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:le(t,n,E,null,l,c)}for(g in l)if(c=l[g],h=a[g],l.hasOwnProperty(g)&&(c!=null||h!=null))switch(g){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==h&&le(t,n,g,c,l,h)}Ru(t,B,q);return;case"option":for(var ot in a)B=a[ot],a.hasOwnProperty(ot)&&B!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?t.selected=!1:le(t,n,ot,null,l,B));for(D in l)B=l[D],q=a[D],l.hasOwnProperty(D)&&B!==q&&(B!=null||q!=null)&&(D==="selected"?t.selected=B&&typeof B!="function"&&typeof B!="symbol":le(t,n,D,B,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)B=a[Tt],a.hasOwnProperty(Tt)&&B!=null&&!l.hasOwnProperty(Tt)&&le(t,n,Tt,null,l,B);for(j in l)if(B=l[j],q=a[j],l.hasOwnProperty(j)&&B!==q&&(B!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:le(t,n,j,B,l,q)}return;default:if(Gs(n)){for(var ue in a)B=a[ue],a.hasOwnProperty(ue)&&B!==void 0&&!l.hasOwnProperty(ue)&&ch(t,n,ue,void 0,l,B);for(G in l)B=l[G],q=a[G],!l.hasOwnProperty(G)||B===q||B===void 0&&q===void 0||ch(t,n,G,B,l,q);return}}for(var L in a)B=a[L],a.hasOwnProperty(L)&&B!=null&&!l.hasOwnProperty(L)&&le(t,n,L,null,l,B);for(X in l)B=l[X],q=a[X],!l.hasOwnProperty(X)||B===q||B==null&&q==null||le(t,n,X,B,l,q)}function Bp(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XE(){if(typeof performance.getEntriesByType=="function"){for(var t=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],h=c.transferSize,g=c.initiatorType,E=c.duration;if(h&&E&&Bp(g)){for(g=0,E=c.responseEnd,l+=1;l<a.length;l++){var D=a[l],j=D.startTime;if(j>E)break;var G=D.transferSize,X=D.initiatorType;G&&Bp(X)&&(D=D.responseEnd,g+=G*(D<E?1:(E-j)/(D-j)))}if(--l,n+=8*(h+g)/(c.duration/1e3),t++,10<t)break}}if(0<t)return n/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var fh=null,hh=null;function No(t){return t.nodeType===9?t:t.ownerDocument}function kp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Pp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function dh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var mh=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===mh?!1:(mh=t,!0):(mh=null,!1)}var qp=typeof setTimeout=="function"?setTimeout:void 0,JE=typeof clearTimeout=="function"?clearTimeout:void 0,Hp=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof Hp<"u"?function(t){return Hp.resolve(null).then(t).catch(WE)}:qp;function WE(t){setTimeout(function(){throw t})}function ja(t){return t==="head"}function Gp(t,n){var a=n,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),wr(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Pl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Pl(a);for(var h=a.firstChild;h;){var g=h.nextSibling,E=h.nodeName;h[vi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=g}}else a==="body"&&Pl(t.ownerDocument.body);a=c}while(a);wr(n)}function Fp(t,n){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function gh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":gh(a),Ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function tT(t,n,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vi])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function eT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function Qp(t,n){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Jn(t.nextSibling),t===null))return null;return t}function ph(t){return t.data==="$?"||t.data==="$~"}function yh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function nT(t,n){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=n;else if(t.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return t}var _h=null;function Yp(t){t=t.nextSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(n===0)return Jn(t.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}t=t.nextSibling}return null}function Kp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return t;n--}else a!=="/$"&&a!=="/&"||n++}t=t.previousSibling}return null}function Xp(t,n,a){switch(n=No(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Pl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Ps(t)}var $n=new Map,Zp=new Set;function Io(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var sa=tt.d;tt.d={f:iT,r:aT,D:sT,C:rT,L:lT,m:uT,X:cT,S:oT,M:fT};function iT(){var t=sa.f(),n=Ao();return t||n}function aT(t){var n=Pn(t);n!==null&&n.tag===5&&n.type==="form"?dg(n):sa.r(t)}var Ar=typeof document>"u"?null:document;function Jp(t,n,a){var l=Ar;if(l&&typeof n=="string"&&n){var c=Tn(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Zp.has(c)||(Zp.add(c),t={rel:t,crossOrigin:a,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),nn(n,"link",t),Ve(n),l.head.appendChild(n)))}}function sT(t){sa.D(t),Jp("dns-prefetch",t,null)}function rT(t,n){sa.C(t,n),Jp("preconnect",t,n)}function lT(t,n,a){sa.L(t,n,a);var l=Ar;if(l&&t&&n){var c='link[rel="preload"][as="'+Tn(n)+'"]';n==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Tn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Tn(a.imageSizes)+'"]')):c+='[href="'+Tn(t)+'"]';var h=c;switch(n){case"style":h=br(t);break;case"script":h=Sr(t)}$n.has(h)||(t=w({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),$n.set(h,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(ql(h))||n==="script"&&l.querySelector(Hl(h))||(n=l.createElement("link"),nn(n,"link",t),Ve(n),l.head.appendChild(n)))}}function uT(t,n){sa.m(t,n);var a=Ar;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+Tn(l)+'"][href="'+Tn(t)+'"]',h=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Sr(t)}if(!$n.has(h)&&(t=w({rel:"modulepreload",href:t},n),$n.set(h,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Hl(h)))return}l=a.createElement("link"),nn(l,"link",t),Ve(l),a.head.appendChild(l)}}}function oT(t,n,a){sa.S(t,n,a);var l=Ar;if(l&&t){var c=Ti(l).hoistableStyles,h=br(t);n=n||"default";var g=c.get(h);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(ql(h)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":n},a),(a=$n.get(h))&&vh(t,a);var D=g=l.createElement("link");Ve(D),nn(D,"link",t),D._p=new Promise(function(j,G){D.onload=j,D.onerror=G}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vo(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},c.set(h,g)}}}function cT(t,n){sa.X(t,n);var a=Ar;if(a&&t){var l=Ti(a).hoistableScripts,c=Sr(t),h=l.get(c);h||(h=a.querySelector(Hl(c)),h||(t=w({src:t,async:!0},n),(n=$n.get(c))&&Eh(t,n),h=a.createElement("script"),Ve(h),nn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function fT(t,n){sa.M(t,n);var a=Ar;if(a&&t){var l=Ti(a).hoistableScripts,c=Sr(t),h=l.get(c);h||(h=a.querySelector(Hl(c)),h||(t=w({src:t,async:!0,type:"module"},n),(n=$n.get(c))&&Eh(t,n),h=a.createElement("script"),Ve(h),nn(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(c,h))}}function $p(t,n,a,l){var c=(c=St.current)?Io(c):null;if(!c)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=br(a.href),a=Ti(c).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=br(a.href);var h=Ti(c).hoistableStyles,g=h.get(t);if(g||(c=c.ownerDocument||c,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,g),(h=c.querySelector(ql(t)))&&!h._p&&(g.instance=h,g.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),h||hT(c,t,a,g.state))),n&&l===null)throw Error(s(528,""));return g}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Sr(a),a=Ti(c).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function br(t){return'href="'+Tn(t)+'"'}function ql(t){return'link[rel="stylesheet"]['+t+"]"}function Wp(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function hT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),nn(n,"link",a),Ve(n),t.head.appendChild(n))}function Sr(t){return'[src="'+Tn(t)+'"]'}function Hl(t){return"script[async]"+t}function ty(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+Tn(a.href)+'"]');if(l)return n.instance=l,Ve(l),l;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Ve(l),nn(l,"style",c),Vo(l,a.precedence,t),n.instance=l;case"stylesheet":c=br(a.href);var h=t.querySelector(ql(c));if(h)return n.state.loading|=4,n.instance=h,Ve(h),h;l=Wp(a),(c=$n.get(c))&&vh(l,c),h=(t.ownerDocument||t).createElement("link"),Ve(h);var g=h;return g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),nn(h,"link",l),n.state.loading|=4,Vo(h,a.precedence,t),n.instance=h;case"script":return h=Sr(a.src),(c=t.querySelector(Hl(h)))?(n.instance=c,Ve(c),c):(l=a,(c=$n.get(h))&&(l=w({},a),Eh(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Ve(c),nn(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Vo(l,a.precedence,t));return n.instance}function Vo(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,h=c,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)h=E;else if(h!==c)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function vh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Eh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Oo=null;function ey(t,n,a){if(Oo===null){var l=new Map,c=Oo=new Map;c.set(a,l)}else c=Oo,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var h=a[c];if(!(h[vi]||h[Ie]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var g=h.getAttribute(n)||"";g=t+g;var E=l.get(g);E?E.push(h):l.set(g,[h])}}return l}function ny(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function dT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(t=n.disabled,typeof n.precedence=="string"&&t==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function mT(t,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=br(l.href),h=n.querySelector(ql(c));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(t.count++,t=Mo.bind(t),n.then(t,t)),a.state.loading|=4,a.instance=h,Ve(h);return}h=n.ownerDocument||n,l=Wp(l),(c=$n.get(c))&&vh(l,c),h=h.createElement("link"),Ve(h);var g=h;g._p=new Promise(function(E,D){g.onload=E,g.onerror=D}),nn(h,"link",l),a.instance=h}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Mo.bind(t),n.addEventListener("load",a),n.addEventListener("error",a))}}var Th=0;function gT(t,n){return t.stylesheets&&t.count===0&&zo(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zo(t,t.stylesheets),t.unsuspend){var h=t.unsuspend;t.unsuspend=null,h()}},6e4+n);0<t.imgBytes&&Th===0&&(Th=62500*XE());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zo(t,t.stylesheets),t.unsuspend)){var h=t.unsuspend;t.unsuspend=null,h()}},(t.imgBytes>Th?50:800)+n);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function Mo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zo(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lo=null;function zo(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lo=new Map,n.forEach(pT,t),Lo=null,Mo.call(t))}function pT(t,n){if(!(n.state.loading&4)){var a=Lo.get(t);if(a)var l=a.get(null);else{a=new Map,Lo.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<c.length;h++){var g=c[h];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),l=g)}l&&a.set(null,l)}c=n.instance,g=c.getAttribute("data-precedence"),h=a.get(g)||l,h===l&&a.set(null,c),a.set(g,c),this.count++,l=Mo.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),h?h.parentNode.insertBefore(c,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Gl={$$typeof:dt,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function yT(t,n,a,l,c,h,g,E,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Je(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Je(0),this.hiddenUpdates=Je(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=h,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function ay(t,n,a,l,c,h,g,E,D,j,G,X){return t=new yT(t,n,a,g,D,j,G,X,E),n=1,h===!0&&(n|=24),h=Vn(3,null,null,n),t.current=h,h.stateNode=t,n=Wc(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},af(h),t}function sy(t){return t?(t=er,t):er}function ry(t,n,a,l,c,h){c=sy(c),l.context===null?l.context=c:l.pendingContext=c,l=Ca(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=Da(t,l,n),a!==null&&(Cn(a,t,n),Al(a,t,n))}function ly(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Ah(t,n){ly(t,n),(t=t.alternate)&&ly(t,n)}function uy(t){if(t.tag===13||t.tag===31){var n=ys(t,67108864);n!==null&&Cn(n,t,67108864),Ah(t,67108864)}}function oy(t){if(t.tag===13||t.tag===31){var n=Un();n=ss(n);var a=ys(t,n);a!==null&&Cn(a,t,n),Ah(t,n)}}var Uo=!0;function _T(t,n,a,l){var c=H.T;H.T=null;var h=tt.p;try{tt.p=2,bh(t,n,a,l)}finally{tt.p=h,H.T=c}}function vT(t,n,a,l){var c=H.T;H.T=null;var h=tt.p;try{tt.p=8,bh(t,n,a,l)}finally{tt.p=h,H.T=c}}function bh(t,n,a,l){if(Uo){var c=Sh(l);if(c===null)oh(t,n,l,jo,a),fy(t,l);else if(TT(c,t,n,a,l))l.stopPropagation();else if(fy(t,l),n&4&&-1<ET.indexOf(t)){for(;c!==null;){var h=Pn(c);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var g=Se(h.pendingLanes);if(g!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var D=1<<31-Te(g);E.entanglements[1]|=D,g&=~D}Mi(h),($t&6)===0&&(Eo=pe()+500,jl(0))}}break;case 31:case 13:E=ys(h,2),E!==null&&Cn(E,h,2),Ao(),Ah(h,2)}if(h=Sh(l),h===null&&oh(t,n,l,jo,a),h===c)break;c=h}c!==null&&l.stopPropagation()}else oh(t,n,l,null,a)}}function Sh(t){return t=qn(t),wh(t)}var jo=null;function wh(t){if(jo=null,t=Ei(t),t!==null){var n=f(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===31){if(t=y(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return jo=t,null}function cy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ye()){case un:return 2;case yi:return 8;case on:case Bn:return 32;case is:return 268435456;default:return 32}default:return 32}}var Rh=!1,Ba=null,ka=null,Pa=null,Fl=new Map,Ql=new Map,qa=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fy(t,n){switch(t){case"focusin":case"focusout":Ba=null;break;case"dragenter":case"dragleave":ka=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":Fl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(n.pointerId)}}function Yl(t,n,a,l,c,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[c]},n!==null&&(n=Pn(n),n!==null&&uy(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function TT(t,n,a,l,c){switch(n){case"focusin":return Ba=Yl(Ba,t,n,a,l,c),!0;case"dragenter":return ka=Yl(ka,t,n,a,l,c),!0;case"mouseover":return Pa=Yl(Pa,t,n,a,l,c),!0;case"pointerover":var h=c.pointerId;return Fl.set(h,Yl(Fl.get(h)||null,t,n,a,l,c)),!0;case"gotpointercapture":return h=c.pointerId,Ql.set(h,Yl(Ql.get(h)||null,t,n,a,l,c)),!0}return!1}function hy(t){var n=Ei(t.target);if(n!==null){var a=f(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,ii(t.priority,function(){oy(a)});return}}else if(n===31){if(n=y(a),n!==null){t.blockedOn=n,ii(t.priority,function(){oy(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Sh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);rl=l,a.target.dispatchEvent(l),rl=null}else return n=Pn(a),n!==null&&uy(n),t.blockedOn=a,!1;n.shift()}return!0}function dy(t,n,a){Bo(t)&&a.delete(n)}function AT(){Rh=!1,Ba!==null&&Bo(Ba)&&(Ba=null),ka!==null&&Bo(ka)&&(ka=null),Pa!==null&&Bo(Pa)&&(Pa=null),Fl.forEach(dy),Ql.forEach(dy)}function ko(t,n){t.blockedOn===n&&(t.blockedOn=null,Rh||(Rh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,AT)))}var Po=null;function my(t){Po!==t&&(Po=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Po===t&&(Po=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(wh(l||a)===null)continue;break}var h=Pn(a);h!==null&&(t.splice(n,3),n-=3,Sf(h,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function wr(t){function n(D){return ko(D,t)}Ba!==null&&ko(Ba,t),ka!==null&&ko(ka,t),Pa!==null&&ko(Pa,t),Fl.forEach(n),Ql.forEach(n);for(var a=0;a<qa.length;a++){var l=qa[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qa.length&&(a=qa[0],a.blockedOn===null);)hy(a),a.blockedOn===null&&qa.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],h=a[l+1],g=c[He]||null;if(typeof h=="function")g||my(a);else if(g){var E=null;if(h&&h.hasAttribute("formAction")){if(c=h,g=h[He]||null)E=g.formAction;else if(wh(c)!==null)continue}else E=g.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),my(a)}}}function gy(){function t(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(g){return c=g})},focusReset:"manual",scroll:"manual"})}function n(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),c!==null&&(c(),c=null)}}}function Ch(t){this._internalRoot=t}qo.prototype.render=Ch.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=Un();ry(a,l,t,n,null,null)},qo.prototype.unmount=Ch.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;ry(t.current,2,null,t,null,null),Ao(),n[_i]=null}};function qo(t){this._internalRoot=t}qo.prototype.unstable_scheduleHydration=function(t){if(t){var n=Tu();t={blockedOn:null,target:t,priority:n};for(var a=0;a<qa.length&&n!==0&&n<qa[a].priority;a++);qa.splice(a,0,t),a===0&&hy(t)}};var py=e.version;if(py!=="19.2.3")throw Error(s(527,py,"19.2.3"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=_(n),t=t!==null?A(t):null,t=t===null?null:t.stateNode,t};var bT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ho.isDisabled&&Ho.supportsFiber)try{En=Ho.inject(bT),be=Ho}catch{}}return Xl.createRoot=function(t,n){if(!u(t))throw Error(s(299));var a=!1,l="",c=bg,h=Sg,g=wg;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=ay(t,1,!1,null,null,a,l,null,c,h,g,gy),t[_i]=n.current,uh(t),new Ch(n)},Xl.hydrateRoot=function(t,n,a){if(!u(t))throw Error(s(299));var l=!1,c="",h=bg,g=Sg,E=wg,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),n=ay(t,1,!0,n,a??null,l,c,D,h,g,E,gy),n.context=sy(null),a=n.current,l=Un(),l=ss(l),c=Ca(l),c.callback=null,Da(a,c,l),a=l,n.current.lanes=a,ni(n,a),Mi(n),t[_i]=n.current,uh(t),new qo(n)},Xl.version="19.2.3",Xl}var Ry;function MT(){if(Ry)return Nh.exports;Ry=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Nh.exports=OT(),Nh.exports}var LT=MT();const Cy="/games/my_games_001/assets/attack1-vIpSme0e.mp3",Dy="/games/my_games_001/assets/attack2-BZPQKtpX.mp3",xy="/games/my_games_001/assets/miss1--APWU02x.mp3",Ny="/games/my_games_001/assets/button1-CGlK-V9C.mp3",zT="/games/my_games_001/assets/maou_bgm_8bit10-DrD-HXJR.mp3",UT="/games/my_games_001/assets/maou_bgm_8bit13-B9-7HJuv.mp3",jT="/games/my_games_001/assets/maou_game_jingle09-C3vp8bcz.mp3",Iy="/games/my_games_001/assets/broken1-Yi_hXBT5.mp3",Vy="/games/my_games_001/assets/cracked1-xwS4tZYK.mp3",Oy="/games/my_games_001/assets/countdown1-CD19eD0e.mp3",My="/games/my_games_001/assets/whistle1-8EPShTjz.mp3",BT=()=>{const r=Q.useRef(null),e=Q.useRef(null),i=Q.useRef(null),s=Q.useRef(null),[u,f]=Q.useState(!1),d=Q.useRef(!1),y=Q.useRef(!1),[v,_]=Q.useState(!1),[A,w]=Q.useState(!0),[M,K]=Q.useState(!1),W=Q.useRef(null),et=Q.useRef(null),nt=Q.useRef({}),ht=Q.useRef({}),yt=Q.useRef(null),dt=Q.useRef(null),bt=Q.useRef(!1),Ot=Q.useCallback(()=>{try{if(new URLSearchParams(window.location.search).get("debug")==="1"||localStorage.getItem("audio_debug")==="1"||window.__AUDIO_DEBUG__===!0)return!0}catch{}return!1},[]),Ct=Q.useRef(0),R=Q.useRef(0),b=Q.useRef(0),C=Q.useRef(!1),V=Q.useRef(null),x=Q.useRef(null),O=Q.useCallback(lt=>{if(Ot())try{const vt=window;vt.__AUDIO_DEBUG_STATE__={...vt.__AUDIO_DEBUG_STATE__??{},...lt,lastUpdatedAtMs:Math.round(performance.now())}}catch{}},[Ot]),S=Q.useRef(0),Ut=Q.useCallback((lt,vt)=>{try{if(!window.__AUDIO_DEBUG__)return;const ct=performance.now();if(ct-S.current<500)return;S.current=ct,console.log(lt,vt??"")}catch{}},[]),Wt={attack1:Cy,attack2:Dy,miss1:xy,button1:Ny,broken1:Iy,cracked1:Vy,countdown1:Oy,whistle1:My},H=Q.useCallback(()=>{if(typeof navigator>"u")return!1;const lt=navigator.userAgent,vt=/Android/i.test(lt),ct=/iPad|iPhone|iPod/i.test(lt),Et=navigator.platform==="MacIntel"&&(navigator.maxTouchPoints??0)>1;return vt||ct||Et},[]),tt=Q.useCallback(()=>{if(!y.current)return;if(!W.current){const ct=window.AudioContext||window.webkitAudioContext;if(!ct)return;W.current=new ct,et.current=W.current.createGain(),et.current.gain.value=d.current?0:.6,et.current.connect(W.current.destination)}const lt=W.current,vt=et.current;if(!(!lt||!vt)){try{lt.state!=="running"&&lt.resume()}catch{}try{const ct=lt.createBuffer(1,1,lt.sampleRate),Et=lt.createBufferSource();Et.buffer=ct,Et.connect(vt),Et.start(0)}catch{}O({ctxState:lt.state,hasGain:!!vt})}},[O]);Q.useEffect(()=>{d.current=u,r.current&&(r.current.muted=u),e.current&&(e.current.muted=u),i.current&&(i.current.muted=u);const lt=et.current;lt&&(lt.gain.value=u?0:.6);const vt=rt.current;for(const ct of Object.keys(vt))for(const Et of vt[ct])Et.muted=u;O({muted:u})},[u]);const rt=Q.useRef({}),wt=Q.useRef({}),Mt=Q.useCallback(async()=>{if(!y.current)return;if(yt.current)return yt.current;const lt=(async()=>{await Promise.all(Object.entries(Wt).map(async([vt,ct])=>{try{const Qt=await(await fetch(ct)).arrayBuffer();ht.current[vt]=Qt}catch{ht.current[vt]=null}})),C.current=!0,O({prefetchDone:!0})})();return yt.current=lt,lt},[]),N=Q.useCallback(async()=>{if(!y.current||bt.current)return;if(dt.current)return dt.current;const lt=(async()=>{V.current==null&&(V.current=Math.round(performance.now()),O({decodeStartedAtMs:V.current})),tt();const vt=W.current;if(!vt)return;await Mt();const ct=["button1","countdown1","attack1","attack2","miss1"],Et=Object.keys(Wt).filter(fe=>!ct.includes(fe)),Qt=async fe=>{const Xe=ht.current[fe];if(!Xe){nt.current[fe]=null;return}try{const pe=await vt.decodeAudioData(Xe.slice(0));nt.current[fe]=pe}catch{nt.current[fe]=null}};for(const fe of ct)await Qt(fe);await Promise.all(Et.map(Qt)),bt.current=!0,w(!0),K(!1),x.current=Math.round(performance.now()),O({sfxReady:!0,decodeFinishedAtMs:x.current})})();return dt.current=lt,lt},[Mt,tt,O]),F=Q.useCallback(()=>{y.current&&(bt.current||(K(!0),tt(),N()))},[N,tt]);Q.useEffect(()=>{if(y.current=H(),_(y.current),y.current?w(!1):(w(!0),K(!1)),O({enabled:Ot(),isMobile:y.current,muted:d.current,sfxReady:bt.current,ctxState:W.current?.state??null,hasGain:!!et.current,prefetchDone:C.current,decodeStartedAtMs:V.current,decodeFinishedAtMs:x.current,webAudioPlayed:Ct.current,htmlAudioPlayed:R.current,fallbackToHtml:b.current}),y.current){Mt();const lt=()=>{F(),window.removeEventListener("click",lt),window.removeEventListener("keydown",lt),window.removeEventListener("touchstart",lt)};return window.addEventListener("click",lt),window.addEventListener("keydown",lt),window.addEventListener("touchstart",lt,{passive:!0}),()=>{window.removeEventListener("click",lt),window.removeEventListener("keydown",lt),window.removeEventListener("touchstart",lt)}}},[H,Mt,Ot,F,O]),Q.useEffect(()=>{const lt={attack1:new Audio(Cy),attack2:new Audio(Dy),miss1:new Audio(xy),button1:new Audio(Ny),broken1:new Audio(Iy),cracked1:new Audio(Vy),countdown1:new Audio(Oy),whistle1:new Audio(My)},vt=new Audio(zT);vt.loop=!0,vt.volume=.4,vt.muted=d.current,r.current=vt;const ct=new Audio(UT);ct.loop=!0,ct.volume=.4,ct.muted=d.current,e.current=ct;const Et=new Audio(jT);Et.loop=!1,Et.volume=.5,Et.muted=d.current,i.current=Et;const Qt=2,fe={},Xe={};Object.entries(lt).forEach(([ye,un])=>{un.preload="auto";const yi=[];for(let on=0;on<Qt;on++){const Bn=un.cloneNode();Bn.volume=.6,Bn.muted=d.current,yi.push(Bn)}fe[ye]=yi,Xe[ye]=0}),rt.current=fe,wt.current=Xe;const pe=()=>{document.hidden?(vt&&!vt.paused&&(vt.pause(),vt._wasPlaying=!0),ct&&!ct.paused&&(ct.pause(),ct._wasPlaying=!0)):(vt&&vt._wasPlaying&&(vt.play().catch(ye=>console.error("Resume BGM failed",ye)),vt._wasPlaying=!1),ct&&ct._wasPlaying&&(ct.play().catch(ye=>console.error("Resume BGM failed",ye)),ct._wasPlaying=!1))};return document.addEventListener("visibilitychange",pe),()=>{document.removeEventListener("visibilitychange",pe),vt.pause(),vt.currentTime=0,ct.pause(),ct.currentTime=0,Et.pause(),Et.currentTime=0,s.current&&clearTimeout(s.current);try{W.current?.close()}catch{}}},[]);const $=Q.useCallback(lt=>{if(y.current){if(d.current)return;const Et=W.current,Qt=et.current,fe=nt.current[lt];if(Ut("[AUDIO] playSound(mobile)",{key:lt,isMobile:y.current,muted:d.current,sfxReady:bt.current,ctxState:Et?.state??null,hasGain:!!Qt,hasBuffer:!!fe,hasPrefetchPromise:!!yt.current,hasDecodePromise:!!dt.current}),O({enabled:Ot(),isMobile:!0,muted:d.current,sfxReady:bt.current,ctxState:Et?.state??null,hasGain:!!Qt,hasBuffer:!!fe,lastKey:lt}),Et&&Qt&&fe)try{const Xe=Et.createBufferSource();Xe.buffer=fe,Xe.connect(Qt),Xe.start(0),Ct.current+=1,O({lastPath:"webaudio",webAudioPlayed:Ct.current}),Ut("[AUDIO] WebAudio SFX played",{key:lt});return}catch{}else N(),b.current+=1,O({lastPath:"fallback",fallbackToHtml:b.current}),Ut("[AUDIO] WebAudio not ready -> HTMLAudio fallback",{key:lt})}const vt=rt.current[lt],ct=wt.current;if(vt&&vt.length>0){const Et=ct[lt]||0,Qt=vt[Et];if(Qt.paused||Qt.pause(),Qt.currentTime>.01||Qt.ended)try{Qt.currentTime=0}catch{}Qt.muted=d.current,Qt.play().catch(fe=>{fe.name!=="AbortError"&&console.error("Audio play failed",fe)}),R.current+=1,O({enabled:Ot(),isMobile:y.current,muted:d.current,sfxReady:bt.current,ctxState:W.current?.state??null,hasGain:!!et.current,lastKey:lt,lastPath:"htmlaudio",htmlAudioPlayed:R.current,webAudioPlayed:Ct.current,fallbackToHtml:b.current}),Ut("[AUDIO] HTMLAudio SFX played",{key:lt,isMobile:y.current,idx:Et,poolSize:vt.length,currentTime:Qt.currentTime,paused:Qt.paused}),ct[lt]=(Et+1)%vt.length}},[N,Ut,O,Ot]),at=Q.useCallback(()=>{r.current&&(r.current.pause(),r.current.currentTime=0),e.current&&(e.current.pause(),e.current.currentTime=0),i.current&&(i.current.pause(),i.current.currentTime=0),s.current&&(clearTimeout(s.current),s.current=null)},[]),_t=Q.useCallback(()=>{r.current&&(r.current.pause(),r.current.currentTime=0),e.current&&e.current.paused&&e.current.play().catch(lt=>console.error("Title BGM play failed",lt))},[]),St=Q.useCallback(()=>{e.current&&(e.current.pause(),e.current.currentTime=0),i.current&&(i.current.pause(),i.current.currentTime=0),s.current&&(clearTimeout(s.current),s.current=null),r.current&&(r.current.currentTime=0,r.current.play().catch(lt=>console.error("Battle BGM play failed",lt)))},[]),zt=Q.useCallback(()=>{at(),i.current&&(i.current.play().catch(lt=>console.error("Jingle play failed",lt)),s.current=window.setTimeout(()=>{_t()},4e3))},[at,_t]),ge=Q.useCallback(()=>{f(lt=>!lt)},[]),ae=Q.useCallback(()=>$("attack1"),[$]),ei=Q.useCallback(()=>$("attack2"),[$]),gn=Q.useCallback(()=>$("miss1"),[$]),ln=Q.useCallback(()=>$("button1"),[$]),pi=Q.useCallback(()=>$("broken1"),[$]),Ke=Q.useCallback(()=>$("cracked1"),[$]),vn=Q.useCallback(()=>$("countdown1"),[$]),pn=Q.useCallback(()=>$("whistle1"),[$]);return{playPunch:ae,playKick:ei,playMiss:gn,playButton:ln,playBroken:pi,playCracked:Ke,playCountdown:vn,playWhistle:pn,playTitleBgm:_t,playBattleBgm:St,playGameOverJingle:zt,stopBgm:at,isMobile:v,sfxReady:A,sfxPreparing:M,prepareMobileSfx:F,isMuted:u,toggleMute:ge}},ra=20,kT=()=>{const{playPunch:r,playKick:e,playMiss:i,playButton:s,playBroken:u,playCracked:f,playCountdown:d,playWhistle:y,playTitleBgm:v,playBattleBgm:_,playGameOverJingle:A,isMobile:w,sfxReady:M,sfxPreparing:K,prepareMobileSfx:W,isMuted:et,toggleMute:nt}=BT(),[ht,yt]=Q.useState("TITLE"),[dt,bt]=Q.useState(0),[Ot,Ct]=Q.useState(0),[R,b]=Q.useState(0),[C,V]=Q.useState(!1),[x,O]=Q.useState(ra),[S,Ut]=Q.useState(0),[Wt,H]=Q.useState([]),[tt,rt]=Q.useState(!1),[wt,Mt]=Q.useState(null),[N,F]=Q.useState(null),[$,at]=Q.useState("PUNCH"),[_t,St]=Q.useState(0),[zt,ge]=Q.useState(null),[ae,ei]=Q.useState(0),gn=Q.useRef(0),ln=Q.useRef(0),[pi,Ke]=Q.useState(!1),vn=Q.useRef(0),pn=Q.useRef("TITLE"),lt=Q.useRef(ra),vt=Q.useRef(ra),ct=Q.useRef(0),Et=Q.useRef(0),Qt=Q.useRef(0),fe=Q.useRef(0),Xe=Q.useRef(0),pe=Q.useRef(0),ye=Q.useRef(null),un=Q.useRef(null);Q.useEffect(()=>{pn.current=ht},[ht]),Q.useEffect(()=>{Qt.current=dt},[dt]),Q.useEffect(()=>{fe.current=Ot},[Ot]),Q.useEffect(()=>{try{const pt=localStorage.getItem("yarioru_kunoichi_best");if(pt){const Lt=parseInt(pt,10);!Number.isNaN(Lt)&&Lt>=0&&Ut(Lt)}}catch(pt){console.warn("Failed to load best score from localStorage",pt)}v()},[v]);const yi=Q.useCallback(()=>{v()},[v]),on=Q.useCallback(pt=>{pe.current+=1;const Lt=pe.current%20===0;return{id:Xe.current++,dir:pt,type:Lt?"rock":"wood",hp:Lt?2:1,maxHp:Lt?2:1}},[]),Bn=Q.useCallback(pt=>pt.length>=3&&pt[pt.length-1]===pt[pt.length-2]&&pt[pt.length-2]===pt[pt.length-3]?pt[pt.length-1]==="LEFT"?"RIGHT":"LEFT":Math.random()<.5?"LEFT":"RIGHT",[]),is=Q.useCallback(pt=>{const Lt=[],kt=[];for(let Se=0;Se<pt;Se++){const _e=Bn(kt);kt.push(_e),Lt.push(on(_e))}return Lt},[Bn,on]),fa=Q.useCallback(()=>{Et.current&&cancelAnimationFrame(Et.current)},[]),ha=Q.useCallback(pt=>{un.current&&(clearTimeout(un.current),un.current=null),un.current=window.setTimeout(()=>{Ke(!1),un.current=null},pt)},[]),En=Q.useCallback(()=>{fa(),yt("GAME_OVER"),y(),A(),Ut(pt=>{Qt.current>pt&&V(!0);const Lt=Math.max(pt,Qt.current);try{localStorage.setItem("yarioru_kunoichi_best",Lt.toString())}catch(kt){console.warn("Failed to save best score to localStorage",kt)}return Lt}),ye.current&&clearTimeout(ye.current),ye.current=window.setTimeout(()=>{yt("RESULT"),ye.current=null},2e3)},[A,y,fa]),be=Q.useCallback(()=>{const pt=Math.max(0,lt.current),Lt=Math.round(pt*10)/10;Lt!==vt.current&&(vt.current=Lt,O(Lt))},[]),cn=Q.useCallback(pt=>{ct.current===0&&(ct.current=pt);const Lt=(pt-ct.current)/1e3;if(ct.current=pt,pn.current==="COUNTDOWN"||pn.current!=="PLAYING")return;let kt=!0;if(gn.current>0&&(gn.current-=Lt,gn.current<=0&&(rt(!1),F(null)),kt=!1),kt&&ln.current>0&&(ln.current-=Lt,ln.current<=0?ln.current=0:kt=!1),kt&&vn.current>0&&(vn.current-=Lt,vn.current<=0&&Mt(null)),lt.current-=Lt,be(),lt.current<=0){En();return}Et.current=requestAnimationFrame(cn)},[En,be]),Te=Q.useCallback(()=>{s(),d(),yt("COUNTDOWN"),ye.current&&(clearTimeout(ye.current),ye.current=null),bt(0),Ct(0),b(0),V(!1),rt(!1),Mt(null),F(null),vn.current=0,ln.current=0,Ke(!1),Ut(pt=>pt),Xe.current=0,pe.current=0,H(is(5)),ge(null),_(),lt.current=ra,vt.current=ra,O(ra)},[is,_,s]),[js,ki]=Q.useState(3);Q.useEffect(()=>{if(ht==="COUNTDOWN"){ki(3);const pt=setInterval(()=>{ki(Lt=>Lt<=1?(clearInterval(pt),pn.current="PLAYING",yt("PLAYING"),lt.current=ra,vt.current=ra,O(ra),gn.current=0,ct.current=0,Et.current=requestAnimationFrame(cn),0):Lt-1)},1e3);return()=>clearInterval(pt)}},[ht,cn]);const Bs=Q.useCallback(pt=>{if(pn.current!=="PLAYING"||gn.current>0)return;const Lt=Wt[0];if(pt===Lt.dir)if(Lt.hp>1){const kt=Math.random()<.5?"PUNCH":"KICK";at(kt),Lt.type==="rock"?f():kt==="PUNCH"?r():e(),ln.current=.05,Ke(!0),ha(80),H(Se=>{const _e=[...Se];return _e[0]={..._e[0],hp:_e[0].hp-1},_e}),Mt(pt),St(Se=>Se+1),vn.current=.15,Ct(Se=>{const _e=Se+1;return b(Ze=>Math.max(Ze,_e)),bt(Ze=>Ze+10+_e),_e})}else{const kt=Math.random()<.5?"PUNCH":"KICK";at(kt),kt==="PUNCH"?r():e(),Lt.type==="rock"&&(u(),lt.current+=2,ei(kn=>kn+1),be()),ln.current=.05,Ke(!0),ha(150),Ct(kn=>{const Je=kn+1;return b(ni=>Math.max(ni,Je)),bt(ni=>ni+10+Je),Je}),Mt(pt),St(kn=>{const Je=kn+1;return ge({id:Je,dir:pt,type:Lt.type}),Je}),vn.current=.2;const Se=Wt.slice(1),_e=Se.map(kn=>kn.dir),Ze=Bn(_e),Kr=on(Ze);H([...Se,Kr])}else i(),F(pt),gn.current=1,rt(!0),Ct(0)},[Wt,Bn,on,r,e,i,u,f,be,ha]);return Q.useEffect(()=>()=>{fa(),ye.current&&clearTimeout(ye.current),un.current&&clearTimeout(un.current)},[]),{gameState:ht,score:dt,combo:Ot,maxCombo:R,isNewRecord:C,bestScore:S,globalTimeLeft:x,laneQueue:Wt,isStunned:tt,attackDir:wt,missDir:N,attackVariant:$,attackId:_t,isShaking:pi,destructionTrigger:zt,timeBonusTrigger:ae,countdownValue:js,isMobileAudio:w,sfxReady:M,sfxPreparing:K,prepareMobileSfx:W,ensureTitleBgm:yi,isMuted:et,toggleMute:nt,startGame:Te,handleInput:Bs}},PT=({onInput:r,enabled:e})=>(Q.useEffect(()=>{if(!e)return;const s=u=>{u.key==="ArrowLeft"?r("LEFT"):u.key==="ArrowRight"&&r("RIGHT")};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[e,r]),{handleTouch:s=>{e&&r(s)}}),qT=()=>{Q.useEffect(()=>{const r=u=>{u.touches.length>1&&u.preventDefault()},e=u=>{u.touches.length>1&&u.preventDefault()},i=u=>{u.preventDefault()},s=u=>{u.preventDefault()};return document.addEventListener("touchstart",r,{passive:!1}),document.addEventListener("touchmove",e,{passive:!1}),document.addEventListener("gesturestart",i,{passive:!1}),document.addEventListener("gesturechange",i,{passive:!1}),document.addEventListener("gestureend",i,{passive:!1}),document.addEventListener("dblclick",s),()=>{document.removeEventListener("touchstart",r),document.removeEventListener("touchmove",e),document.removeEventListener("gesturestart",i),document.removeEventListener("gesturechange",i),document.removeEventListener("gestureend",i),document.removeEventListener("dblclick",s)}},[])},Q_="/games/my_games_001/assets/dummy1-CuygRIWd.png",Y_="/games/my_games_001/assets/dummy2-hrd7uKGj.png",K_="/games/my_games_001/assets/dummy2_cracked-Cb3QZV0d.png",HT=jn.memo(({queue:r})=>{const e=i=>i.type==="rock"?i.hp<2?K_:Y_:Q_;return k.jsxs("div",{className:"absolute inset-0 flex justify-between px-10 pt-20 pb-40 pointer-events-none",children:[k.jsx("div",{className:"w-1/3 h-full relative",children:r.slice(0,3).map((i,s)=>i.dir!=="LEFT"?null:k.jsx("div",{className:"absolute left-1/2 transition-transform duration-200 bottom-[-10px] md:bottom-14",style:{transform:`translateX(-50%) translateY(-${s*25}vh)`,zIndex:50-s},children:k.jsx("img",{src:e(i),alt:"Enemy",className:`${i.type==="rock"?"h-[22vh] max-h-48":"h-[18vh] max-h-40"} w-auto object-contain max-w-none`})},`l-${i.id}`))}),k.jsx("div",{className:"w-1/3 h-full relative",children:r.slice(0,3).map((i,s)=>i.dir!=="RIGHT"?null:k.jsx("div",{className:"absolute left-1/2 transition-transform duration-200 bottom-[-10px] md:bottom-14",style:{transform:`translateX(-50%) translateY(-${s*25}vh)`,zIndex:50-s},children:k.jsx("img",{src:e(i),alt:"Enemy",className:`${i.type==="rock"?"h-[22vh] max-h-48":"h-[18vh] max-h-40"} w-auto object-contain max-w-none scale-x-[-1]`})},`r-${i.id}`))})]})}),X_="/games/my_games_001/assets/idle1-BXL0nV5V.png",Z_="/games/my_games_001/assets/attack1-D5yyo_rn.png",J_="/games/my_games_001/assets/attack2-IAGU2fyW.png",$_="/games/my_games_001/assets/miss1-Dc3cvEJf.png",GT=jn.memo(({isStunned:r,attackDir:e,missDir:i,attackId:s,attackVariant:u})=>{const f=s%2===0?"animate-punch-a":"animate-punch-b";return k.jsxs("div",{className:"absolute bottom-[18%] md:bottom-36 left-1/2 transform -translate-x-1/2 z-10 pointer-events-none w-full flex justify-center",children:[k.jsx("div",{className:`absolute bottom-0 w-64 justify-center items-end ${r?"flex":"hidden"}`,style:{transform:`${i==="LEFT"?"scaleX(-1)":""}`,transformOrigin:"bottom center"},children:k.jsx("img",{src:$_,alt:"Kunoichi Miss",className:"h-[25vh] max-h-64 w-auto object-contain animate-stumble"})}),k.jsx("img",{src:X_,alt:"Kunoichi Idle",className:`h-[25vh] max-h-64 w-auto object-contain ${r||e?"hidden":"block"} animate-pulse-slow`}),k.jsx("div",{className:`absolute bottom-0 flex justify-center items-end ${!e||r?"hidden":"flex"}`,style:{transform:`${e==="LEFT"?"scaleX(-1)":""}`},children:k.jsx("img",{src:u==="PUNCH"?Z_:J_,alt:"Kunoichi Attack",className:`h-[25vh] max-h-64 w-auto object-contain ${f}`,style:{maxWidth:"none"}},s)})]})}),FT="/games/my_games_001/assets/timer_icon-BUo92fiC.png",QT=({score:r,time:e,bestScore:i})=>k.jsx("div",{className:"absolute top-0 left-0 w-full z-[120] pointer-events-none text-white font-sans flex flex-col items-center",children:k.jsxs("div",{className:"w-full max-w-lg grid grid-cols-3 items-start px-2 pt-4",children:[k.jsxs("div",{className:"flex flex-col space-y-1 justify-self-start z-30",children:[k.jsxs("div",{className:"bg-black/60 px-2 py-1 rounded-full border border-white/20 w-32 flex items-baseline justify-start gap-1 whitespace-nowrap",children:[k.jsx("span",{className:"text-xs font-bold",children:"SCORE:"}),k.jsx("span",{className:"text-lg font-black tabular-nums",children:r})]}),k.jsxs("div",{className:"text-xs font-bold bg-black/60 px-3 py-1 rounded-full text-yellow-400 border border-white/20 whitespace-nowrap",children:["BEST: ",i]})]}),k.jsx("div",{className:"flex justify-center -mt-2 justify-self-center z-20 w-full",children:k.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:[k.jsx("img",{src:FT,alt:"Timer",className:"absolute inset-0 w-full h-full object-contain"}),k.jsx("div",{className:`relative z-10 text-2xl font-black font-mono tracking-tighter ${e<=5?"text-red-500":e<=10?"text-yellow-400":"text-white"}`,children:e.toFixed(1)})]})}),k.jsx("div",{className:"justify-self-end"})]})}),YT=jn.memo(QT,(r,e)=>r.score===e.score&&r.bestScore===e.bestScore&&r.time===e.time),KT=()=>{};var Ly={};const W_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let u=r.charCodeAt(s);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},XT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const u=r[i++];if(u<128)e[s++]=String.fromCharCode(u);else if(u>191&&u<224){const f=r[i++];e[s++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=r[i++],d=r[i++],y=r[i++],v=((u&7)<<18|(f&63)<<12|(d&63)<<6|y&63)-65536;e[s++]=String.fromCharCode(55296+(v>>10)),e[s++]=String.fromCharCode(56320+(v&1023))}else{const f=r[i++],d=r[i++];e[s++]=String.fromCharCode((u&15)<<12|(f&63)<<6|d&63)}}return e.join("")},tv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<r.length;u+=3){const f=r[u],d=u+1<r.length,y=d?r[u+1]:0,v=u+2<r.length,_=v?r[u+2]:0,A=f>>2,w=(f&3)<<4|y>>4;let M=(y&15)<<2|_>>6,K=_&63;v||(K=64,d||(M=64)),s.push(i[A],i[w],i[M],i[K])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(W_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):XT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<r.length;){const f=i[r.charAt(u++)],y=u<r.length?i[r.charAt(u)]:0;++u;const _=u<r.length?i[r.charAt(u)]:64;++u;const w=u<r.length?i[r.charAt(u)]:64;if(++u,f==null||y==null||_==null||w==null)throw new ZT;const M=f<<2|y>>4;if(s.push(M),_!==64){const K=y<<4&240|_>>2;if(s.push(K),w!==64){const W=_<<6&192|w;s.push(W)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ZT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JT=function(r){const e=W_(r);return tv.encodeByteArray(e,!0)},nc=function(r){return JT(r).replace(/\./g,"")},$T=function(r){try{return tv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const t1=()=>WT().__FIREBASE_DEFAULTS__,e1=()=>{if(typeof process>"u"||typeof Ly>"u")return;const r=Ly.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},n1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$T(r[1]);return e&&JSON.parse(e)},md=()=>{try{return KT()||t1()||e1()||n1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},i1=r=>md()?.emulatorHosts?.[r],a1=r=>{const e=i1(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},ev=()=>md()?.config;class s1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}function gd(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r1(r){return(await fetch(r,{credentials:"include"})).ok}function l1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",u=r.iat||0,f=r.sub||r.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...r};return[nc(JSON.stringify(i)),nc(JSON.stringify(d)),""].join(".")}const tu={};function u1(){const r={prod:[],emulator:[]};for(const e of Object.keys(tu))tu[e]?r.emulator.push(e):r.prod.push(e);return r}function o1(r){let e=document.getElementById(r),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),i=!0),{created:i,element:e}}let zy=!1;function c1(r,e){if(typeof window>"u"||typeof document>"u"||!gd(window.location.host)||tu[r]===e||tu[r]||zy)return;tu[r]=e;function i(M){return`__firebase__banner__${M}`}const s="__firebase__banner",f=u1().prod.length>0;function d(){const M=document.getElementById(s);M&&M.remove()}function y(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,K){M.setAttribute("width","24"),M.setAttribute("id",K),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{zy=!0,d()},M}function A(M,K){M.setAttribute("id",K),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=o1(s),K=i("text"),W=document.getElementById(K)||document.createElement("span"),et=i("learnmore"),nt=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),yt=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;y(dt),A(nt,et);const bt=_();v(yt,ht),dt.append(yt,W,nt,bt),document.body.appendChild(dt)}f?(W.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",K)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function f1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function h1(){const r=md()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function d1(){return!h1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m1(){try{return typeof indexedDB=="object"}catch{return!1}}function g1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{e(u.error?.message||"")}}catch(i){e(i)}})}const p1="FirebaseError";class qr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=p1,Object.setPrototypeOf(this,qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nv.prototype.create)}}class nv{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},u=`${this.service}/${e}`,f=this.errors[e],d=f?y1(f,s):"Error",y=`${this.serviceName}: ${d} (${u}).`;return new qr(u,y,s)}}function y1(r,e){return r.replace(_1,(i,s)=>{const u=e[s];return u!=null?String(u):`<${s}?>`})}const _1=/\{\$([^}]+)}/g;function ic(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const u of i){if(!s.includes(u))return!1;const f=r[u],d=e[u];if(Uy(f)&&Uy(d)){if(!ic(f,d))return!1}else if(f!==d)return!1}for(const u of s)if(!i.includes(u))return!1;return!0}function Uy(r){return r!==null&&typeof r=="object"}function Lr(r){return r&&r._delegate?r._delegate:r}class su{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ns="[DEFAULT]";class v1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new s1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){const i=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(s)return null;throw u}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T1(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const f=this.getOrInitializeService({instanceIdentifier:u});s.resolve(f)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[f,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(f);s===y&&d.resolve(u)}return u}onInit(e,i){const s=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(s)??new Set;u.add(e),this.onInitCallbacks.set(s,u);const f=this.instances.get(s);return f&&e(f,s),()=>{u.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const u of s)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:E1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E1(r){return r===Ns?void 0:r}function T1(r){return r.instantiationMode==="EAGER"}class A1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new v1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}var Kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Kt||(Kt={}));const b1={debug:Kt.DEBUG,verbose:Kt.VERBOSE,info:Kt.INFO,warn:Kt.WARN,error:Kt.ERROR,silent:Kt.SILENT},S1=Kt.INFO,w1={[Kt.DEBUG]:"log",[Kt.VERBOSE]:"log",[Kt.INFO]:"info",[Kt.WARN]:"warn",[Kt.ERROR]:"error"},R1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),u=w1[e];if(u)console[u](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iv{constructor(e){this.name=e,this._logLevel=S1,this._logHandler=R1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?b1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kt.DEBUG,...e),this._logHandler(this,Kt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kt.VERBOSE,...e),this._logHandler(this,Kt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kt.INFO,...e),this._logHandler(this,Kt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kt.WARN,...e),this._logHandler(this,Kt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kt.ERROR,...e),this._logHandler(this,Kt.ERROR,...e)}}const C1=(r,e)=>e.some(i=>r instanceof i);let jy,By;function D1(){return jy||(jy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function x1(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const av=new WeakMap,Gh=new WeakMap,sv=new WeakMap,Mh=new WeakMap,pd=new WeakMap;function N1(r){const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("success",f),r.removeEventListener("error",d)},f=()=>{i(Fa(r.result)),u()},d=()=>{s(r.error),u()};r.addEventListener("success",f),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&av.set(i,r)}).catch(()=>{}),pd.set(e,r),e}function I1(r){if(Gh.has(r))return;const e=new Promise((i,s)=>{const u=()=>{r.removeEventListener("complete",f),r.removeEventListener("error",d),r.removeEventListener("abort",d)},f=()=>{i(),u()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),u()};r.addEventListener("complete",f),r.addEventListener("error",d),r.addEventListener("abort",d)});Gh.set(r,e)}let Fh={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Gh.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sv.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fa(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function V1(r){Fh=r(Fh)}function O1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Lh(this),e,...i);return sv.set(s,e.sort?e.sort():[e]),Fa(s)}:x1().includes(r)?function(...e){return r.apply(Lh(this),e),Fa(av.get(this))}:function(...e){return Fa(r.apply(Lh(this),e))}}function M1(r){return typeof r=="function"?O1(r):(r instanceof IDBTransaction&&I1(r),C1(r,D1())?new Proxy(r,Fh):r)}function Fa(r){if(r instanceof IDBRequest)return N1(r);if(Mh.has(r))return Mh.get(r);const e=M1(r);return e!==r&&(Mh.set(r,e),pd.set(e,r)),e}const Lh=r=>pd.get(r);function L1(r,e,{blocked:i,upgrade:s,blocking:u,terminated:f}={}){const d=indexedDB.open(r,e),y=Fa(d);return s&&d.addEventListener("upgradeneeded",v=>{s(Fa(d.result),v.oldVersion,v.newVersion,Fa(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),y.then(v=>{f&&v.addEventListener("close",()=>f()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),y}const z1=["get","getKey","getAll","getAllKeys","count"],U1=["put","add","delete","clear"],zh=new Map;function ky(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(zh.get(e))return zh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,u=U1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(u||z1.includes(i)))return;const f=async function(d,...y){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return s&&(_=_.index(y.shift())),(await Promise.all([_[i](...y),u&&v.done]))[0]};return zh.set(e,f),f}V1(r=>({...r,get:(e,i,s)=>ky(e,i)||r.get(e,i,s),has:(e,i)=>!!ky(e,i)||r.has(e,i)}));class j1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(B1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function B1(r){return r.getComponent()?.type==="VERSION"}const Qh="@firebase/app",Py="0.14.7";const ua=new iv("@firebase/app"),k1="@firebase/app-compat",P1="@firebase/analytics-compat",q1="@firebase/analytics",H1="@firebase/app-check-compat",G1="@firebase/app-check",F1="@firebase/auth",Q1="@firebase/auth-compat",Y1="@firebase/database",K1="@firebase/data-connect",X1="@firebase/database-compat",Z1="@firebase/functions",J1="@firebase/functions-compat",$1="@firebase/installations",W1="@firebase/installations-compat",tA="@firebase/messaging",eA="@firebase/messaging-compat",nA="@firebase/performance",iA="@firebase/performance-compat",aA="@firebase/remote-config",sA="@firebase/remote-config-compat",rA="@firebase/storage",lA="@firebase/storage-compat",uA="@firebase/firestore",oA="@firebase/ai",cA="@firebase/firestore-compat",fA="firebase",hA="12.8.0";const Yh="[DEFAULT]",dA={[Qh]:"fire-core",[k1]:"fire-core-compat",[q1]:"fire-analytics",[P1]:"fire-analytics-compat",[G1]:"fire-app-check",[H1]:"fire-app-check-compat",[F1]:"fire-auth",[Q1]:"fire-auth-compat",[Y1]:"fire-rtdb",[K1]:"fire-data-connect",[X1]:"fire-rtdb-compat",[Z1]:"fire-fn",[J1]:"fire-fn-compat",[$1]:"fire-iid",[W1]:"fire-iid-compat",[tA]:"fire-fcm",[eA]:"fire-fcm-compat",[nA]:"fire-perf",[iA]:"fire-perf-compat",[aA]:"fire-rc",[sA]:"fire-rc-compat",[rA]:"fire-gcs",[lA]:"fire-gcs-compat",[uA]:"fire-fst",[cA]:"fire-fst-compat",[oA]:"fire-vertex","fire-js":"fire-js",[fA]:"fire-js-all"};const ac=new Map,mA=new Map,Kh=new Map;function qy(r,e){try{r.container.addComponent(e)}catch(i){ua.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function sc(r){const e=r.name;if(Kh.has(e))return ua.debug(`There were multiple attempts to register component ${e}.`),!1;Kh.set(e,r);for(const i of ac.values())qy(i,r);for(const i of mA.values())qy(i,r);return!0}function gA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function pA(r){return r==null?!1:r.settings!==void 0}const yA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qa=new nv("app","Firebase",yA);class _A{constructor(e,i,s){this._isDeleted=!1,this._options={...e},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new su("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qa.create("app-deleted",{appName:this._name})}}const vA=hA;function rv(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s={name:Yh,automaticDataCollectionEnabled:!0,...e},u=s.name;if(typeof u!="string"||!u)throw Qa.create("bad-app-name",{appName:String(u)});if(i||(i=ev()),!i)throw Qa.create("no-options");const f=ac.get(u);if(f){if(ic(i,f.options)&&ic(s,f.config))return f;throw Qa.create("duplicate-app",{appName:u})}const d=new A1(u);for(const v of Kh.values())d.addComponent(v);const y=new _A(i,s,d);return ac.set(u,y),y}function EA(r=Yh){const e=ac.get(r);if(!e&&r===Yh&&ev())return rv();if(!e)throw Qa.create("no-app",{appName:r});return e}function Nr(r,e,i){let s=dA[r]??r;i&&(s+=`-${i}`);const u=s.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const d=[`Unable to register library "${s}" with version "${e}":`];u&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),u&&f&&d.push("and"),f&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ua.warn(d.join(" "));return}sc(new su(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const TA="firebase-heartbeat-database",AA=1,ru="firebase-heartbeat-store";let Uh=null;function lv(){return Uh||(Uh=L1(TA,AA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qa.create("idb-open",{originalErrorMessage:r.message})})),Uh}async function bA(r){try{const i=(await lv()).transaction(ru),s=await i.objectStore(ru).get(uv(r));return await i.done,s}catch(e){if(e instanceof qr)ua.warn(e.message);else{const i=Qa.create("idb-get",{originalErrorMessage:e?.message});ua.warn(i.message)}}}async function Hy(r,e){try{const s=(await lv()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,uv(r)),await s.done}catch(i){if(i instanceof qr)ua.warn(i.message);else{const s=Qa.create("idb-set",{originalErrorMessage:i?.message});ua.warn(s.message)}}}function uv(r){return`${r.name}!${r.options.appId}`}const SA=1024,wA=30;class RA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Gy();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>wA){const u=xA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ua.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Gy(),{heartbeatsToSend:i,unsentEntries:s}=CA(this._heartbeatsCache.heartbeats),u=nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(e){return ua.warn(e),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function CA(r,e=SA){const i=[];let s=r.slice();for(const u of r){const f=i.find(d=>d.agent===u.agent);if(f){if(f.dates.push(u.date),Fy(i)>e){f.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),Fy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class DA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m1()?g1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Hy(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Fy(r){return nc(JSON.stringify({version:2,heartbeats:r})).length}function xA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}function NA(r){sc(new su("platform-logger",e=>new j1(e),"PRIVATE")),sc(new su("heartbeat",e=>new RA(e),"PRIVATE")),Nr(Qh,Py,r),Nr(Qh,Py,"esm2020"),Nr("fire-js","")}NA("");var IA="firebase",VA="12.8.0";Nr(IA,VA,"app");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ya,ov;(function(){var r;function e(R,b){function C(){}C.prototype=b.prototype,R.F=b.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(V,x,O){for(var S=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)S[Ut-2]=arguments[Ut];return b.prototype[x].apply(V,S)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,i),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(R,b,C){C||(C=0);const V=Array(16);if(typeof b=="string")for(var x=0;x<16;++x)V[x]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(x=0;x<16;++x)V[x]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=R.g[0],C=R.g[1],x=R.g[2];let O=R.g[3],S;S=b+(O^C&(x^O))+V[0]+3614090360&4294967295,b=C+(S<<7&4294967295|S>>>25),S=O+(x^b&(C^x))+V[1]+3905402710&4294967295,O=b+(S<<12&4294967295|S>>>20),S=x+(C^O&(b^C))+V[2]+606105819&4294967295,x=O+(S<<17&4294967295|S>>>15),S=C+(b^x&(O^b))+V[3]+3250441966&4294967295,C=x+(S<<22&4294967295|S>>>10),S=b+(O^C&(x^O))+V[4]+4118548399&4294967295,b=C+(S<<7&4294967295|S>>>25),S=O+(x^b&(C^x))+V[5]+1200080426&4294967295,O=b+(S<<12&4294967295|S>>>20),S=x+(C^O&(b^C))+V[6]+2821735955&4294967295,x=O+(S<<17&4294967295|S>>>15),S=C+(b^x&(O^b))+V[7]+4249261313&4294967295,C=x+(S<<22&4294967295|S>>>10),S=b+(O^C&(x^O))+V[8]+1770035416&4294967295,b=C+(S<<7&4294967295|S>>>25),S=O+(x^b&(C^x))+V[9]+2336552879&4294967295,O=b+(S<<12&4294967295|S>>>20),S=x+(C^O&(b^C))+V[10]+4294925233&4294967295,x=O+(S<<17&4294967295|S>>>15),S=C+(b^x&(O^b))+V[11]+2304563134&4294967295,C=x+(S<<22&4294967295|S>>>10),S=b+(O^C&(x^O))+V[12]+1804603682&4294967295,b=C+(S<<7&4294967295|S>>>25),S=O+(x^b&(C^x))+V[13]+4254626195&4294967295,O=b+(S<<12&4294967295|S>>>20),S=x+(C^O&(b^C))+V[14]+2792965006&4294967295,x=O+(S<<17&4294967295|S>>>15),S=C+(b^x&(O^b))+V[15]+1236535329&4294967295,C=x+(S<<22&4294967295|S>>>10),S=b+(x^O&(C^x))+V[1]+4129170786&4294967295,b=C+(S<<5&4294967295|S>>>27),S=O+(C^x&(b^C))+V[6]+3225465664&4294967295,O=b+(S<<9&4294967295|S>>>23),S=x+(b^C&(O^b))+V[11]+643717713&4294967295,x=O+(S<<14&4294967295|S>>>18),S=C+(O^b&(x^O))+V[0]+3921069994&4294967295,C=x+(S<<20&4294967295|S>>>12),S=b+(x^O&(C^x))+V[5]+3593408605&4294967295,b=C+(S<<5&4294967295|S>>>27),S=O+(C^x&(b^C))+V[10]+38016083&4294967295,O=b+(S<<9&4294967295|S>>>23),S=x+(b^C&(O^b))+V[15]+3634488961&4294967295,x=O+(S<<14&4294967295|S>>>18),S=C+(O^b&(x^O))+V[4]+3889429448&4294967295,C=x+(S<<20&4294967295|S>>>12),S=b+(x^O&(C^x))+V[9]+568446438&4294967295,b=C+(S<<5&4294967295|S>>>27),S=O+(C^x&(b^C))+V[14]+3275163606&4294967295,O=b+(S<<9&4294967295|S>>>23),S=x+(b^C&(O^b))+V[3]+4107603335&4294967295,x=O+(S<<14&4294967295|S>>>18),S=C+(O^b&(x^O))+V[8]+1163531501&4294967295,C=x+(S<<20&4294967295|S>>>12),S=b+(x^O&(C^x))+V[13]+2850285829&4294967295,b=C+(S<<5&4294967295|S>>>27),S=O+(C^x&(b^C))+V[2]+4243563512&4294967295,O=b+(S<<9&4294967295|S>>>23),S=x+(b^C&(O^b))+V[7]+1735328473&4294967295,x=O+(S<<14&4294967295|S>>>18),S=C+(O^b&(x^O))+V[12]+2368359562&4294967295,C=x+(S<<20&4294967295|S>>>12),S=b+(C^x^O)+V[5]+4294588738&4294967295,b=C+(S<<4&4294967295|S>>>28),S=O+(b^C^x)+V[8]+2272392833&4294967295,O=b+(S<<11&4294967295|S>>>21),S=x+(O^b^C)+V[11]+1839030562&4294967295,x=O+(S<<16&4294967295|S>>>16),S=C+(x^O^b)+V[14]+4259657740&4294967295,C=x+(S<<23&4294967295|S>>>9),S=b+(C^x^O)+V[1]+2763975236&4294967295,b=C+(S<<4&4294967295|S>>>28),S=O+(b^C^x)+V[4]+1272893353&4294967295,O=b+(S<<11&4294967295|S>>>21),S=x+(O^b^C)+V[7]+4139469664&4294967295,x=O+(S<<16&4294967295|S>>>16),S=C+(x^O^b)+V[10]+3200236656&4294967295,C=x+(S<<23&4294967295|S>>>9),S=b+(C^x^O)+V[13]+681279174&4294967295,b=C+(S<<4&4294967295|S>>>28),S=O+(b^C^x)+V[0]+3936430074&4294967295,O=b+(S<<11&4294967295|S>>>21),S=x+(O^b^C)+V[3]+3572445317&4294967295,x=O+(S<<16&4294967295|S>>>16),S=C+(x^O^b)+V[6]+76029189&4294967295,C=x+(S<<23&4294967295|S>>>9),S=b+(C^x^O)+V[9]+3654602809&4294967295,b=C+(S<<4&4294967295|S>>>28),S=O+(b^C^x)+V[12]+3873151461&4294967295,O=b+(S<<11&4294967295|S>>>21),S=x+(O^b^C)+V[15]+530742520&4294967295,x=O+(S<<16&4294967295|S>>>16),S=C+(x^O^b)+V[2]+3299628645&4294967295,C=x+(S<<23&4294967295|S>>>9),S=b+(x^(C|~O))+V[0]+4096336452&4294967295,b=C+(S<<6&4294967295|S>>>26),S=O+(C^(b|~x))+V[7]+1126891415&4294967295,O=b+(S<<10&4294967295|S>>>22),S=x+(b^(O|~C))+V[14]+2878612391&4294967295,x=O+(S<<15&4294967295|S>>>17),S=C+(O^(x|~b))+V[5]+4237533241&4294967295,C=x+(S<<21&4294967295|S>>>11),S=b+(x^(C|~O))+V[12]+1700485571&4294967295,b=C+(S<<6&4294967295|S>>>26),S=O+(C^(b|~x))+V[3]+2399980690&4294967295,O=b+(S<<10&4294967295|S>>>22),S=x+(b^(O|~C))+V[10]+4293915773&4294967295,x=O+(S<<15&4294967295|S>>>17),S=C+(O^(x|~b))+V[1]+2240044497&4294967295,C=x+(S<<21&4294967295|S>>>11),S=b+(x^(C|~O))+V[8]+1873313359&4294967295,b=C+(S<<6&4294967295|S>>>26),S=O+(C^(b|~x))+V[15]+4264355552&4294967295,O=b+(S<<10&4294967295|S>>>22),S=x+(b^(O|~C))+V[6]+2734768916&4294967295,x=O+(S<<15&4294967295|S>>>17),S=C+(O^(x|~b))+V[13]+1309151649&4294967295,C=x+(S<<21&4294967295|S>>>11),S=b+(x^(C|~O))+V[4]+4149444226&4294967295,b=C+(S<<6&4294967295|S>>>26),S=O+(C^(b|~x))+V[11]+3174756917&4294967295,O=b+(S<<10&4294967295|S>>>22),S=x+(b^(O|~C))+V[2]+718787259&4294967295,x=O+(S<<15&4294967295|S>>>17),S=C+(O^(x|~b))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+b&4294967295,R.g[1]=R.g[1]+(x+(S<<21&4294967295|S>>>11))&4294967295,R.g[2]=R.g[2]+x&4294967295,R.g[3]=R.g[3]+O&4294967295}s.prototype.v=function(R,b){b===void 0&&(b=R.length);const C=b-this.blockSize,V=this.C;let x=this.h,O=0;for(;O<b;){if(x==0)for(;O<=C;)u(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<b;)if(V[x++]=R.charCodeAt(O++),x==this.blockSize){u(this,V),x=0;break}}else for(;O<b;)if(V[x++]=R[O++],x==this.blockSize){u(this,V),x=0;break}}this.h=x,this.o+=b},s.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var b=1;b<R.length-8;++b)R[b]=0;b=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=b&255,b/=256;for(this.v(R),R=Array(16),b=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)R[b++]=this.g[C]>>>V&255;return R};function f(R,b){var C=y;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=b(R)}function d(R,b){this.h=b;const C=[];let V=!0;for(let x=R.length-1;x>=0;x--){const O=R[x]|0;V&&O==b||(C[x]=O,V=!1)}this.g=C}var y={};function v(R){return-128<=R&&R<128?f(R,function(b){return new d([b|0],b<0?-1:0)}):new d([R|0],R<0?-1:0)}function _(R){if(isNaN(R)||!isFinite(R))return w;if(R<0)return nt(_(-R));const b=[];let C=1;for(let V=0;R>=C;V++)b[V]=R/C|0,C*=4294967296;return new d(b,0)}function A(R,b){if(R.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(R.charAt(0)=="-")return nt(A(R.substring(1),b));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(b,8));let V=w;for(let O=0;O<R.length;O+=8){var x=Math.min(8,R.length-O);const S=parseInt(R.substring(O,O+x),b);x<8?(x=_(Math.pow(b,x)),V=V.j(x).add(_(S))):(V=V.j(C),V=V.add(_(S)))}return V}var w=v(0),M=v(1),K=v(16777216);r=d.prototype,r.m=function(){if(et(this))return-nt(this).m();let R=0,b=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);R+=(V>=0?V:4294967296+V)*b,b*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(W(this))return"0";if(et(this))return"-"+nt(this).toString(R);const b=_(Math.pow(R,6));var C=this;let V="";for(;;){const x=bt(C,b).g;C=ht(C,x.j(b));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=x,W(C))return O+V;for(;O.length<6;)O="0"+O;V=O+V}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function W(R){if(R.h!=0)return!1;for(let b=0;b<R.g.length;b++)if(R.g[b]!=0)return!1;return!0}function et(R){return R.h==-1}r.l=function(R){return R=ht(this,R),et(R)?-1:W(R)?0:1};function nt(R){const b=R.g.length,C=[];for(let V=0;V<b;V++)C[V]=~R.g[V];return new d(C,~R.h).add(M)}r.abs=function(){return et(this)?nt(this):this},r.add=function(R){const b=Math.max(this.g.length,R.g.length),C=[];let V=0;for(let x=0;x<=b;x++){let O=V+(this.i(x)&65535)+(R.i(x)&65535),S=(O>>>16)+(this.i(x)>>>16)+(R.i(x)>>>16);V=S>>>16,O&=65535,S&=65535,C[x]=S<<16|O}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ht(R,b){return R.add(nt(b))}r.j=function(R){if(W(this)||W(R))return w;if(et(this))return et(R)?nt(this).j(nt(R)):nt(nt(this).j(R));if(et(R))return nt(this.j(nt(R)));if(this.l(K)<0&&R.l(K)<0)return _(this.m()*R.m());const b=this.g.length+R.g.length,C=[];for(var V=0;V<2*b;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let x=0;x<R.g.length;x++){const O=this.i(V)>>>16,S=this.i(V)&65535,Ut=R.i(x)>>>16,Wt=R.i(x)&65535;C[2*V+2*x]+=S*Wt,yt(C,2*V+2*x),C[2*V+2*x+1]+=O*Wt,yt(C,2*V+2*x+1),C[2*V+2*x+1]+=S*Ut,yt(C,2*V+2*x+1),C[2*V+2*x+2]+=O*Ut,yt(C,2*V+2*x+2)}for(R=0;R<b;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=b;R<2*b;R++)C[R]=0;return new d(C,0)};function yt(R,b){for(;(R[b]&65535)!=R[b];)R[b+1]+=R[b]>>>16,R[b]&=65535,b++}function dt(R,b){this.g=R,this.h=b}function bt(R,b){if(W(b))throw Error("division by zero");if(W(R))return new dt(w,w);if(et(R))return b=bt(nt(R),b),new dt(nt(b.g),nt(b.h));if(et(b))return b=bt(R,nt(b)),new dt(nt(b.g),b.h);if(R.g.length>30){if(et(R)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=b;V.l(R)<=0;)C=Ot(C),V=Ot(V);var x=Ct(C,1),O=Ct(V,1);for(V=Ct(V,2),C=Ct(C,2);!W(V);){var S=O.add(V);S.l(R)<=0&&(x=x.add(C),O=S),V=Ct(V,1),C=Ct(C,1)}return b=ht(R,x.j(b)),new dt(x,b)}for(x=w;R.l(b)>=0;){for(C=Math.max(1,Math.floor(R.m()/b.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),O=_(C),S=O.j(b);et(S)||S.l(R)>0;)C-=V,O=_(C),S=O.j(b);W(O)&&(O=M),x=x.add(O),R=ht(R,S)}return new dt(x,R)}r.B=function(R){return bt(this,R).h},r.and=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)&R.i(V);return new d(C,this.h&R.h)},r.or=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)|R.i(V);return new d(C,this.h|R.h)},r.xor=function(R){const b=Math.max(this.g.length,R.g.length),C=[];for(let V=0;V<b;V++)C[V]=this.i(V)^R.i(V);return new d(C,this.h^R.h)};function Ot(R){const b=R.g.length+1,C=[];for(let V=0;V<b;V++)C[V]=R.i(V)<<1|R.i(V-1)>>>31;return new d(C,R.h)}function Ct(R,b){const C=b>>5;b%=32;const V=R.g.length-C,x=[];for(let O=0;O<V;O++)x[O]=b>0?R.i(O+C)>>>b|R.i(O+C+1)<<32-b:R.i(O+C);return new d(x,R.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,ov=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Ya=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var Go=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cv,Jl,fv,Zo,Xh,hv,dv,mv;(function(){var r,e=Object.defineProperty;function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Go=="object"&&Go];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function u(o,m){if(m)t:{var p=s;o=o.split(".");for(var T=0;T<o.length-1;T++){var z=o[T];if(!(z in p))break t;p=p[z]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}u("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(o){return o||function(m){var p=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&p.push([T,m[T]]);return p}});var f=f||{},d=this||self;function y(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function v(o,m,p){return o.call.apply(o.bind,arguments)}function _(o,m,p){return _=v,_.apply(null,arguments)}function A(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function w(o,m){function p(){}p.prototype=m.prototype,o.Z=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Ob=function(T,z,P){for(var it=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)it[Nt-2]=arguments[Nt];return m.prototype[z].apply(T,it)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function K(o){const m=o.length;if(m>0){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function W(o,m){for(let T=1;T<arguments.length;T++){const z=arguments[T];var p=typeof z;if(p=p!="object"?p:z?Array.isArray(z)?"array":p:"null",p=="array"||p=="object"&&typeof z.length=="number"){p=o.length||0;const P=z.length||0;o.length=p+P;for(let it=0;it<P;it++)o[p+it]=z[it]}else o.push(z)}}class et{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function nt(o){d.setTimeout(()=>{throw o},0)}function ht(){var o=R;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,p){const T=dt.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var dt=new et(()=>new bt,o=>o.reset());class bt{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ot,Ct=!1,R=new yt,b=()=>{const o=Promise.resolve(void 0);Ot=()=>{o.then(C)}};function C(){for(var o;o=ht();){try{o.h.call(o.g)}catch(p){nt(p)}var m=dt;m.j(o),m.h<100&&(m.h++,o.next=m.g,m.g=o)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function x(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}x.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};d.addEventListener("test",p,m),d.removeEventListener("test",p,m)}catch{}return o})();function S(o){return/^[\s\xa0]*$/.test(o)}function Ut(o,m){x.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,m)}w(Ut,x),Ut.prototype.init=function(o,m){const p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget,m||(p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Ut.Z.h.call(this)},Ut.prototype.h=function(){Ut.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Wt="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(o,m,p,T,z){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=z,this.key=++H,this.da=this.fa=!1}function rt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function wt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function Mt(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function N(o){const m={};for(const p in o)m[p]=o[p];return m}const F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function $(o,m){let p,T;for(let z=1;z<arguments.length;z++){T=arguments[z];for(p in T)o[p]=T[p];for(let P=0;P<F.length;P++)p=F[P],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function at(o){this.src=o,this.g={},this.h=0}at.prototype.add=function(o,m,p,T,z){const P=o.toString();o=this.g[P],o||(o=this.g[P]=[],this.h++);const it=St(o,m,T,z);return it>-1?(m=o[it],p||(m.fa=!1)):(m=new tt(m,this.src,P,!!T,z),m.fa=p,o.push(m)),m};function _t(o,m){const p=m.type;if(p in o.g){var T=o.g[p],z=Array.prototype.indexOf.call(T,m,void 0),P;(P=z>=0)&&Array.prototype.splice.call(T,z,1),P&&(rt(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function St(o,m,p,T){for(let z=0;z<o.length;++z){const P=o[z];if(!P.da&&P.listener==m&&P.capture==!!p&&P.ha==T)return z}return-1}var zt="closure_lm_"+(Math.random()*1e6|0),ge={};function ae(o,m,p,T,z){if(Array.isArray(m)){for(let P=0;P<m.length;P++)ae(o,m[P],p,T,z);return null}return p=vt(p),o&&o[Wt]?o.J(m,p,y(T)?!!T.capture:!1,z):ei(o,m,p,!1,T,z)}function ei(o,m,p,T,z,P){if(!m)throw Error("Invalid event type");const it=y(z)?!!z.capture:!!z;let Nt=pn(o);if(Nt||(o[zt]=Nt=new at(o)),p=Nt.add(m,p,T,it,P),p.proxy)return p;if(T=gn(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)O||(z=it),z===void 0&&(z=!1),o.addEventListener(m.toString(),T,z);else if(o.attachEvent)o.attachEvent(Ke(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gn(){function o(p){return m.call(o.src,o.listener,p)}const m=vn;return o}function ln(o,m,p,T,z){if(Array.isArray(m))for(var P=0;P<m.length;P++)ln(o,m[P],p,T,z);else T=y(T)?!!T.capture:!!T,p=vt(p),o&&o[Wt]?(o=o.i,P=String(m).toString(),P in o.g&&(m=o.g[P],p=St(m,p,T,z),p>-1&&(rt(m[p]),Array.prototype.splice.call(m,p,1),m.length==0&&(delete o.g[P],o.h--)))):o&&(o=pn(o))&&(m=o.g[m.toString()],o=-1,m&&(o=St(m,p,T,z)),(p=o>-1?m[o]:null)&&pi(p))}function pi(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[Wt])_t(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ke(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=pn(m))?(_t(p,o),p.h==0&&(p.src=null,m[zt]=null)):rt(o)}}}function Ke(o){return o in ge?ge[o]:ge[o]="on"+o}function vn(o,m){if(o.da)o=!0;else{m=new Ut(m,this);const p=o.listener,T=o.ha||o.src;o.fa&&pi(o),o=p.call(T,m)}return o}function pn(o){return o=o[zt],o instanceof at?o:null}var lt="__closure_events_fn_"+(Math.random()*1e9>>>0);function vt(o){return typeof o=="function"?o:(o[lt]||(o[lt]=function(m){return o.handleEvent(m)}),o[lt])}function ct(){V.call(this),this.i=new at(this),this.M=this,this.G=null}w(ct,V),ct.prototype[Wt]=!0,ct.prototype.removeEventListener=function(o,m,p,T){ln(this,o,m,p,T)};function Et(o,m){var p,T=o.G;if(T)for(p=[];T;T=T.G)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new x(m,o);else if(m instanceof x)m.target=m.target||o;else{var z=m;m=new x(T,o),$(m,z)}z=!0;let P,it;if(p)for(it=p.length-1;it>=0;it--)P=m.g=p[it],z=Qt(P,T,!0,m)&&z;if(P=m.g=o,z=Qt(P,T,!0,m)&&z,z=Qt(P,T,!1,m)&&z,p)for(it=0;it<p.length;it++)P=m.g=p[it],z=Qt(P,T,!1,m)&&z}ct.prototype.N=function(){if(ct.Z.N.call(this),this.i){var o=this.i;for(const m in o.g){const p=o.g[m];for(let T=0;T<p.length;T++)rt(p[T]);delete o.g[m],o.h--}}this.G=null},ct.prototype.J=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},ct.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Qt(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();let z=!0;for(let P=0;P<m.length;++P){const it=m[P];if(it&&!it.da&&it.capture==p){const Nt=it.listener,Ce=it.ha||it.src;it.fa&&_t(o.i,it),z=Nt.call(Ce,T)!==!1&&z}}return z&&!T.defaultPrevented}function fe(o,m){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=_(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(o,m||0)}function Xe(o){o.g=fe(()=>{o.g=null,o.i&&(o.i=!1,Xe(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class pe extends V{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xe(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ye(o){V.call(this),this.h=o,this.g={}}w(ye,V);var un=[];function yi(o){wt(o.g,function(m,p){this.g.hasOwnProperty(p)&&pi(m)},o),o.g={}}ye.prototype.N=function(){ye.Z.N.call(this),yi(this)},ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var on=d.JSON.stringify,Bn=d.JSON.parse,is=class{stringify(o){return d.JSON.stringify(o,void 0)}parse(o){return d.JSON.parse(o,void 0)}};function fa(){}function ha(){}var En={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function be(){x.call(this,"d")}w(be,x);function cn(){x.call(this,"c")}w(cn,x);var Te={},js=null;function ki(){return js=js||new ct}Te.Ia="serverreachability";function Bs(o){x.call(this,Te.Ia,o)}w(Bs,x);function pt(o){const m=ki();Et(m,new Bs(m))}Te.STAT_EVENT="statevent";function Lt(o,m){x.call(this,Te.STAT_EVENT,o),this.stat=m}w(Lt,x);function kt(o){const m=ki();Et(m,new Lt(m,o))}Te.Ja="timingevent";function Se(o,m){x.call(this,Te.Ja,o),this.size=m}w(Se,x);function _e(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){o()},m)}function Ze(){this.g=!0}Ze.prototype.ua=function(){this.g=!1};function Kr(o,m,p,T,z,P){o.info(function(){if(o.g)if(P){var it="",Nt=P.split("&");for(let Jt=0;Jt<Nt.length;Jt++){var Ce=Nt[Jt].split("=");if(Ce.length>1){const ve=Ce[0];Ce=Ce[1];const Gn=ve.split("_");it=Gn.length>=2&&Gn[1]=="type"?it+(ve+"="+Ce+"&"):it+(ve+"=redacted&")}}}else it=null;else it=P;return"XMLHTTP REQ ("+T+") [attempt "+z+"]: "+m+`
`+p+`
`+it})}function kn(o,m,p,T,z,P,it){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+z+"]: "+m+`
`+p+`
`+P+" "+it})}function Je(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vc(o,p)+(T?" "+T:"")})}function ni(o,m){o.info(function(){return"TIMEOUT: "+m})}Ze.prototype.info=function(){};function Vc(o,m){if(!o.g)return m;if(!m)return null;try{const P=JSON.parse(m);if(P){for(o=0;o<P.length;o++)if(Array.isArray(P[o])){var p=P[o];if(!(p.length<2)){var T=p[1];if(Array.isArray(T)&&!(T.length<1)){var z=T[0];if(z!="noop"&&z!="stop"&&z!="close")for(let it=1;it<T.length;it++)T[it]=""}}}}return on(P)}catch{return m}}var as={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zr;function ss(){}w(ss,fa),ss.prototype.g=function(){return new XMLHttpRequest},Zr=new ss;function Pi(o){return encodeURIComponent(String(o))}function Tu(o){var m=1;o=o.split(":");const p=[];for(;m>0&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function ii(o,m,p,T){this.j=o,this.i=m,this.l=p,this.S=T||1,this.V=new ye(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var Ie={},He={};function _i(o,m,p){o.M=1,o.A=rs(Oe(m)),o.u=p,o.R=!0,ks(o,null)}function ks(o,m){o.F=Date.now(),vi(o),o.B=Oe(o.A);var p=o.B,T=o.S;Array.isArray(T)||(T=[String(T)]),Gs(p.i,"t",T),o.C=0,p=o.j.L,o.h=new ai,o.g=zu(o.j,p?m:null,!o.u),o.P>0&&(o.O=new pe(_(o.Y,o,o.g),o.P)),m=o.V,p=o.g,T=o.ba;var z="readystatechange";Array.isArray(z)||(z&&(un[0]=z.toString()),z=un);for(let P=0;P<z.length;P++){const it=ae(p,z[P],T||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=o.J?N(o.J):{},o.u?(o.v||(o.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,m)):(o.v="GET",o.g.ea(o.B,o.v,null,m)),pt(),Kr(o.i,o.v,o.B,o.l,o.S,o.u)}ii.prototype.ba=function(o){o=o.target;const m=this.O;m&&li(o)==3?m.j():this.Y(o)},ii.prototype.Y=function(o){try{if(o==this.g)t:{const Nt=li(this.g),Ce=this.g.ya(),Jt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||$e(this.g)))){this.K||Nt!=4||Ce==7||(Ce==8||Jt<=0?pt(3):pt(2)),Ei(this);var m=this.g.ca();this.X=m;var p=Oc(this);if(this.o=m==200,kn(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,z=this.g;if((T=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(T)){var P=T;break e}}P=null}if(o=P)Je(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,o);else{this.o=!1,this.m=3,kt(12),xn(this),Pn(this);break t}}if(this.R){o=!0;let ve;for(;!this.K&&this.C<p.length;)if(ve=bu(this,p),ve==He){Nt==4&&(this.m=4,kt(14),o=!1),Je(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Ie){this.m=4,kt(15),Je(this.i,this.l,p,"[Invalid Chunk]"),o=!1;break}else Je(this.i,this.l,ve,null),Ti(this,ve);if(Au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||p.length!=0||this.h.h||(this.m=1,kt(16),o=!1),this.o=this.o&&o,!o)Je(this.i,this.l,p,"[Invalid Chunked Response]"),xn(this),Pn(this);else if(p.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+p.length),fl(it),it.P=!0,kt(11))}}else Je(this.i,this.l,p,null),Ti(this,p);Nt==4&&xn(this),this.o&&!this.K&&(Nt==4?Vu(this.j,this):(this.o=!1,vi(this)))}else Hi(this.g),m==400&&p.indexOf("Unknown SID")>0?(this.m=3,kt(12)):(this.m=0,kt(13)),xn(this),Pn(this)}}}catch{}};function Oc(o){if(!Au(o))return o.g.la();const m=$e(o.g);if(m==="")return"";let p="";const T=m.length,z=li(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return xn(o),Pn(o),"";o.h.i=new d.TextDecoder}for(let P=0;P<T;P++)o.h.h=!0,p+=o.h.i.decode(m[P],{stream:!(z&&P==T-1)});return m.length=0,o.h.g+=p,o.C=0,o.h.g}function Au(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function bu(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?He:(p=Number(m.substring(p,T)),isNaN(p)?Ie:(T+=1,T+p>m.length?He:(m=m.slice(T,T+p),o.C=T+p,m)))}ii.prototype.cancel=function(){this.K=!0,xn(this)};function vi(o){o.T=Date.now()+o.H,Ps(o,o.H)}function Ps(o,m){if(o.D!=null)throw Error("WatchDog timer not null");o.D=_e(_(o.aa,o),m)}function Ei(o){o.D&&(d.clearTimeout(o.D),o.D=null)}ii.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(ni(this.i,this.B),this.M!=2&&(pt(),kt(17)),xn(this),this.m=2,Pn(this)):Ps(this,this.T-o)};function Pn(o){o.j.I==0||o.K||Vu(o.j,o)}function xn(o){Ei(o);var m=o.O;m&&typeof m.dispose=="function"&&m.dispose(),o.O=null,yi(o.V),o.g&&(m=o.g,o.g=null,m.abort(),m.dispose())}function Ti(o,m){try{var p=o.j;if(p.I!=0&&(p.g==o||bi(p.h,o))){if(!o.L&&bi(p.h,o)&&p.I==3){try{var T=p.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var z=T;if(z[0]==0){t:if(!p.v){if(p.g)if(p.g.F+3e3<o.F)Xs(p),Ea(p);else break t;ds(p),kt(18)}}else p.xa=z[1],0<p.xa-p.K&&z[2]<37500&&p.F&&p.A==0&&!p.C&&(p.C=_e(_(p.Va,p),6e3));Ai(p.h)<=1&&p.ta&&(p.ta=void 0)}else xi(p,11)}else if((o.L||p.g==o)&&Xs(p),!S(m))for(z=p.Ba.g.parse(m),m=0;m<z.length;m++){let Jt=z[m];const ve=Jt[0];if(!(ve<=p.K))if(p.K=ve,Jt=Jt[1],p.I==2)if(Jt[0]=="c"){p.M=Jt[1],p.ba=Jt[2];const Gn=Jt[3];Gn!=null&&(p.ka=Gn,p.j.info("VER="+p.ka));const Ni=Jt[4];Ni!=null&&(p.za=Ni,p.j.info("SVER="+p.za));const ui=Jt[5];ui!=null&&typeof ui=="number"&&ui>0&&(T=1.5*ui,p.O=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const oi=o.g;if(oi){const ms=oi.g?oi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var P=T.h;P.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Wr(P,P.h),P.h=null))}if(T.G){const Zs=oi.g?oi.g.getResponseHeader("X-HTTP-Session-Id"):null;Zs&&(T.wa=Zs,ee(T.J,T.G,Zs))}}p.I=3,p.l&&p.l.ra(),p.aa&&(p.T=Date.now()-o.F,p.j.info("Handshake RTT: "+p.T+"ms")),T=p;var it=o;if(T.na=Lu(T,T.L?T.ba:null,T.W),it.L){tl(T.h,it);var Nt=it,Ce=T.O;Ce&&(Nt.H=Ce),Nt.D&&(Ei(Nt),vi(Nt)),T.g=it}else Nu(T);p.i.length>0&&Di(p)}else Jt[0]!="stop"&&Jt[0]!="close"||xi(p,7);else p.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?xi(p,7):ol(p):Jt[0]!="noop"&&p.l&&p.l.qa(Jt),p.A=0)}}pt(4)}catch{}}var Ve=class{constructor(o,m){this.g=o,this.map=m}};function Jr(o){this.l=o||10,d.PerformanceNavigationTiming?(o=d.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $r(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Ai(o){return o.h?1:o.g?o.g.size:0}function bi(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Wr(o,m){o.g?o.g.add(m):o.h=m}function tl(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}Jr.prototype.cancel=function(){if(this.i=el(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function el(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.G);return m}return K(o.i)}var Su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qs(o,m){if(o){o=o.split("&");for(let p=0;p<o.length;p++){const T=o[p].indexOf("=");let z,P=null;T>=0?(z=o[p].substring(0,T),P=o[p].substring(T+1)):z=o[p],m(z,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Nn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;o instanceof Nn?(this.l=o.l,Ge(this,o.j),this.o=o.o,this.g=o.g,da(this,o.u),this.h=o.h,nl(this,Du(o.i)),this.m=o.m):o&&(m=String(o).match(Su))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=Si(m[2]||""),this.g=Si(m[3]||"",!0),da(this,m[4]),this.h=Si(m[5]||"",!0),nl(this,m[6]||"",!0),this.m=Si(m[7]||"")):(this.l=!1,this.i=new ga(null,this.l))}Nn.prototype.toString=function(){const o=[];var m=this.j;m&&o.push(ls(m,Hs,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(ls(m,Hs,!0),"@"),o.push(Pi(p).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.u,p!=null&&o.push(":",String(p))),(p=this.h)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(ls(p,p.charAt(0)=="/"?il:wu,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",ls(p,Ru)),o.join("")},Nn.prototype.resolve=function(o){const m=Oe(this);let p=!!o.j;p?Ge(m,o.j):p=!!o.o,p?m.o=o.o:p=!!o.g,p?m.g=o.g:p=o.u!=null;var T=o.h;if(p)da(m,o.u);else if(p=!!o.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var z=m.h.lastIndexOf("/");z!=-1&&(T=m.h.slice(0,z+1)+T)}if(z=T,z==".."||z==".")T="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){T=z.lastIndexOf("/",0)==0,z=z.split("/");const P=[];for(let it=0;it<z.length;){const Nt=z[it++];Nt=="."?T&&it==z.length&&P.push(""):Nt==".."?((P.length>1||P.length==1&&P[0]!="")&&P.pop(),T&&it==z.length&&P.push("")):(P.push(Nt),T=!0)}T=P.join("/")}else T=z}return p?m.h=T:p=o.i.toString()!=="",p?nl(m,Du(o.i)):p=!!o.m,p&&(m.m=o.m),m};function Oe(o){return new Nn(o)}function Ge(o,m,p){o.j=p?Si(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function da(o,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);o.u=m}else o.u=null}function nl(o,m,p){m instanceof ga?(o.i=m,Fs(o.i,o.l)):(p||(m=ls(m,ma)),o.i=new ga(m,o.l))}function ee(o,m,p){o.i.set(m,p)}function rs(o){return ee(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Si(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ls(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,Tn),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Tn(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Hs=/[#\/\?@]/g,wu=/[#\?:]/g,il=/[#\?]/g,ma=/[#\?@]/g,Ru=/#/g;function ga(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function An(o){o.g||(o.g=new Map,o.h=0,o.i&&qs(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=ga.prototype,r.add=function(o,m){An(this),this.i=null,o=pa(this,o);let p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function Cu(o,m){An(o),m=pa(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function al(o,m){return An(o),m=pa(o,m),o.g.has(m)}r.forEach=function(o,m){An(this),this.g.forEach(function(p,T){p.forEach(function(z){o.call(m,z,T,this)},this)},this)};function sl(o,m){An(o);let p=[];if(typeof m=="string")al(o,m)&&(p=p.concat(o.g.get(pa(o,m))));else for(o=Array.from(o.g.values()),m=0;m<o.length;m++)p=p.concat(o[m]);return p}r.set=function(o,m){return An(this),this.i=null,o=pa(this,o),al(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},r.get=function(o,m){return o?(o=sl(this,o),o.length>0?String(o[0]):m):m};function Gs(o,m,p){Cu(o,m),p.length>0&&(o.i=null,o.g.set(pa(o,m),K(p)),o.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var p=m[T];const z=Pi(p);p=sl(this,p);for(let P=0;P<p.length;P++){let it=z;p[P]!==""&&(it+="="+Pi(p[P])),o.push(it)}}return this.i=o.join("&")};function Du(o){const m=new ga;return m.i=o.i,o.g&&(m.g=new Map(o.g),m.h=o.h),m}function pa(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function Fs(o,m){m&&!o.j&&(An(o),o.i=null,o.g.forEach(function(p,T){const z=T.toLowerCase();T!=z&&(Cu(this,T),Gs(this,z,p))},o)),o.j=m}function si(o,m){const p=new Ze;if(d.Image){const T=new Image;T.onload=A(qn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=A(qn,p,"TestLoadImage: error",!1,m,T),T.onabort=A(qn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(qn,p,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function rl(o,m){const p=new Ze,T=new AbortController,z=setTimeout(()=>{T.abort(),qn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(P=>{clearTimeout(z),P.ok?qn(p,"TestPingServer: ok",!0,m):qn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(z),qn(p,"TestPingServer: error",!1,m)})}function qn(o,m,p,T,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),T(p)}catch{}}function ya(){this.g=new is}function wi(o){this.i=o.Sb||null,this.h=o.ab||!1}w(wi,fa),wi.prototype.g=function(){return new us(this.i,this.h)};function us(o,m){ct.call(this),this.H=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(us,ct),r=us.prototype,r.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=m,this.readyState=1,ri(this)},r.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(m.body=o),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_a(this)),this.readyState=0},r.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Qs(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Qs(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}r.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?_a(this):ri(this),this.readyState==3&&Qs(this)}},r.Oa=function(o){this.g&&(this.response=this.responseText=o,_a(this))},r.Na=function(o){this.g&&(this.response=o,_a(this))},r.ga=function(){this.g&&_a(this)};function _a(o){o.readyState=4,o.l=null,o.j=null,o.B=null,ri(o)}r.setRequestHeader=function(o,m){this.A.append(o,m)},r.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function ri(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Hn(o){let m="";return wt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function os(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Hn(p),typeof o=="string"?p!=null&&Pi(p):ee(o,m,p))}function se(o){ct.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(se,ct);var Ri=/^https?$/i,ll=["POST","PUT"];r=se.prototype,r.Fa=function(o){this.H=o},r.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zr.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(P){cs(this,P);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var z in T)p.set(z,T[z]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const P of T.keys())p.set(P,T.get(P));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(P=>P.toLowerCase()=="content-type"),z=d.FormData&&o instanceof d.FormData,!(Array.prototype.indexOf.call(ll,m,void 0)>=0)||T||z||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[P,it]of p)this.g.setRequestHeader(P,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(P){cs(this,P)}};function cs(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.o=5,ul(o),qi(o)}function ul(o){o.A||(o.A=!0,Et(o,"complete"),Et(o,"error"))}r.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Et(this,"complete"),Et(this,"abort"),qi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),se.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?fs(this):this.Xa())},r.Xa=function(){fs(this)};function fs(o){if(o.h&&typeof f<"u"){if(o.v&&li(o)==4)setTimeout(o.Ca.bind(o),0);else if(Et(o,"readystatechange"),li(o)==4){o.h=!1;try{const P=o.ca();t:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=P===0){let it=String(o.D).match(Su)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),T=!Ri.test(it?it.toLowerCase():"")}p=T}if(p)Et(o,"complete"),Et(o,"success");else{o.o=6;try{var z=li(o)>2?o.g.statusText:""}catch{z=""}o.l=z+" ["+o.ca()+"]",ul(o)}}finally{qi(o)}}}}function qi(o,m){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const p=o.g;o.g=null,m||Et(o,"ready");try{p.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function li(o){return o.g?o.g.readyState:0}r.ca=function(){try{return li(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),Bn(m)}};function $e(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Hi(o){const m={};o=(o.g&&li(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(S(o[T]))continue;var p=Tu(o[T]);const z=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const P=m[z]||[];m[z]=P,P.push(p)}Mt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function va(o){this.za=0,this.i=[],this.j=new Ze,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,o),this.Za=Ci("retryDelaySeedMs",1e4,o),this.Ta=Ci("forwardChannelMaxRetries",2,o),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Jr(o&&o.concurrentRequestLimit),this.Ba=new ya,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=va.prototype,r.ka=8,r.I=1,r.connect=function(o,m,p,T){kt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.J=Lu(this,null,this.W),Di(this)};function ol(o){if(Ys(o),o.I==3){var m=o.V++,p=Oe(o.J);if(ee(p,"SID",o.M),ee(p,"RID",m),ee(p,"TYPE","terminate"),hs(o,p),m=new ii(o,o.j,m),m.M=2,m.A=rs(Oe(p)),p=!1,d.navigator&&d.navigator.sendBeacon)try{p=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!p&&d.Image&&(new Image().src=m.A,p=!0),p||(m.g=zu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),vi(m)}Mu(o)}function Ea(o){o.g&&(fl(o),o.g.cancel(),o.g=null)}function Ys(o){Ea(o),o.v&&(d.clearTimeout(o.v),o.v=null),Xs(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&d.clearTimeout(o.m),o.m=null)}function Di(o){if(!$r(o.h)&&!o.m){o.m=!0;var m=o.Ea;Ot||b(),Ct||(Ot(),Ct=!0),R.add(m,o),o.D=0}}function Ks(o,m){return Ai(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=m.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=_e(_(o.Ea,o,m),Ou(o,o.D)),o.D++,!0)}r.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const z=new ii(this,this.j,o);let P=this.o;if(this.U&&(P?(P=N(P),$(P,this.U)):P=this.U),this.u!==null||this.R||(z.J=P,P=null),this.S)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=xu(this,z,m),p=Oe(this.J),ee(p,"RID",o),ee(p,"CVER",22),this.G&&ee(p,"X-HTTP-Session-Id",this.G),hs(this,p),P&&(this.R?m="headers="+Pi(Hn(P))+"&"+m:this.u&&os(p,this.u,P)),Wr(this.h,z),this.Ra&&ee(p,"TYPE","init"),this.S?(ee(p,"$req",m),ee(p,"SID","null"),z.U=!0,_i(z,p,null)):_i(z,p,m),this.I=2}}else this.I==3&&(o?cl(this,o):this.i.length==0||$r(this.h)||cl(this))};function cl(o,m){var p;m?p=m.l:p=o.V++;const T=Oe(o.J);ee(T,"SID",o.M),ee(T,"RID",p),ee(T,"AID",o.K),hs(o,T),o.u&&o.o&&os(T,o.u,o.o),p=new ii(o,o.j,p,o.D+1),o.u===null&&(p.J=o.o),m&&(o.i=m.G.concat(o.i)),m=xu(o,p,1e3),p.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Wr(o.h,p),_i(p,T,m)}function hs(o,m){o.H&&wt(o.H,function(p,T){ee(m,T,p)}),o.l&&wt({},function(p,T){ee(m,T,p)})}function xu(o,m,p){p=Math.min(o.i.length,p);const T=o.l?_(o.l.Ka,o.l,o):null;t:{var z=o.i;let Nt=-1;for(;;){const Ce=["count="+p];Nt==-1?p>0?(Nt=z[0].g,Ce.push("ofs="+Nt)):Nt=0:Ce.push("ofs="+Nt);let Jt=!0;for(let ve=0;ve<p;ve++){var P=z[ve].g;const Gn=z[ve].map;if(P-=Nt,P<0)Nt=Math.max(0,z[ve].g-100),Jt=!1;else try{P="req"+P+"_"||"";try{var it=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Ni,ui]of it){let oi=ui;y(ui)&&(oi=on(ui)),Ce.push(P+Ni+"="+encodeURIComponent(oi))}}catch(Ni){throw Ce.push(P+"type="+encodeURIComponent("_badmap")),Ni}}catch{T&&T(Gn)}}if(Jt){it=Ce.join("&");break t}}it=void 0}return o=o.i.splice(0,p),m.G=o,it}function Nu(o){if(!o.g&&!o.v){o.Y=1;var m=o.Da;Ot||b(),Ct||(Ot(),Ct=!0),R.add(m,o),o.A=0}}function ds(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=_e(_(o.Da,o),Ou(o,o.A)),o.A++,!0)}r.Da=function(){if(this.v=null,Iu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=_e(_(this.Wa,this),o)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,kt(10),Ea(this),Iu(this))};function fl(o){o.B!=null&&(d.clearTimeout(o.B),o.B=null)}function Iu(o){o.g=new ii(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var m=Oe(o.na);ee(m,"RID","rpc"),ee(m,"SID",o.M),ee(m,"AID",o.K),ee(m,"CI",o.F?"0":"1"),!o.F&&o.ia&&ee(m,"TO",o.ia),ee(m,"TYPE","xmlhttp"),hs(o,m),o.u&&o.o&&os(m,o.u,o.o),o.O&&(o.g.H=o.O);var p=o.g;o=o.ba,p.M=1,p.A=rs(Oe(m)),p.u=null,p.R=!0,ks(p,o)}r.Va=function(){this.C!=null&&(this.C=null,Ea(this),ds(this),kt(19))};function Xs(o){o.C!=null&&(d.clearTimeout(o.C),o.C=null)}function Vu(o,m){var p=null;if(o.g==m){Xs(o),fl(o),o.g=null;var T=2}else if(bi(o.h,m))p=m.G,tl(o.h,m),T=1;else return;if(o.I!=0){if(m.o)if(T==1){p=m.u?m.u.length:0,m=Date.now()-m.F;var z=o.D;T=ki(),Et(T,new Se(T,p)),Di(o)}else Nu(o);else if(z=m.m,z==3||z==0&&m.X>0||!(T==1&&Ks(o,m)||T==2&&ds(o)))switch(p&&p.length>0&&(m=o.h,m.i=m.i.concat(p)),z){case 1:xi(o,5);break;case 4:xi(o,10);break;case 3:xi(o,6);break;default:xi(o,2)}}}function Ou(o,m){let p=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(p*=2),p*m}function xi(o,m){if(o.j.info("Error code "+m),m==2){var p=_(o.bb,o),T=o.Ua;const z=!T;T=new Nn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(T,"https"),rs(T),z?si(T.toString(),p):rl(T.toString(),p)}else kt(2);o.I=0,o.l&&o.l.pa(m),Mu(o),Ys(o)}r.bb=function(o){o?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function Mu(o){if(o.I=0,o.ja=[],o.l){const m=el(o.h);(m.length!=0||o.i.length!=0)&&(W(o.ja,m),W(o.ja,o.i),o.h.i.length=0,K(o.i),o.i.length=0),o.l.oa()}}function Lu(o,m,p){var T=p instanceof Nn?Oe(p):new Nn(p);if(T.g!="")m&&(T.g=m+"."+T.g),da(T,T.u);else{var z=d.location;T=z.protocol,m=m?m+"."+z.hostname:z.hostname,z=+z.port;const P=new Nn(null);T&&Ge(P,T),m&&(P.g=m),z&&da(P,z),p&&(P.h=p),T=P}return p=o.G,m=o.wa,p&&m&&ee(T,p,m),ee(T,"VER",o.ka),hs(o,T),T}function zu(o,m,p){if(m&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Aa&&!o.ma?new se(new wi({ab:p})):new se(o.ma),m.Fa(o.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uu(){}r=Uu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Ta(){}Ta.prototype.g=function(o,m){return new yn(o,m)};function yn(o,m){ct.call(this),this.g=new va(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(o?o["X-WebChannel-Client-Profile"]=m.sa:o={"X-WebChannel-Client-Profile":m.sa}),this.g.U=o,(o=m&&m.Qb)&&!S(o)&&(this.g.u=o),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gi(this)}w(yn,ct),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ol(this.g)},yn.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.v&&(p={},p.__data__=on(o),o=p);m.i.push(new Ve(m.Ya++,o)),m.I==3&&Di(m)},yn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,yn.Z.N.call(this)};function ju(o){be.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}w(ju,be);function Bu(){cn.call(this),this.status=1}w(Bu,cn);function Gi(o){this.g=o}w(Gi,Uu),Gi.prototype.ra=function(){Et(this.g,"a")},Gi.prototype.qa=function(o){Et(this.g,new ju(o))},Gi.prototype.pa=function(o){Et(this.g,new Bu)},Gi.prototype.oa=function(){Et(this.g,"b")},Ta.prototype.createWebChannel=Ta.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,mv=function(){return new Ta},dv=function(){return ki()},hv=Te,Xh={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Zo=as,Xr.COMPLETE="complete",fv=Xr,ha.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",ct.prototype.listen=ct.prototype.J,Jl=ha,se.prototype.listenOnce=se.prototype.K,se.prototype.getLastError=se.prototype.Ha,se.prototype.getLastErrorCode=se.prototype.ya,se.prototype.getStatus=se.prototype.ca,se.prototype.getResponseJson=se.prototype.La,se.prototype.getResponseText=se.prototype.la,se.prototype.send=se.prototype.ea,se.prototype.setWithCredentials=se.prototype.Fa,cv=se}).apply(typeof Go<"u"?Go:typeof self<"u"?self:typeof window<"u"?window:{});class dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dn.UNAUTHENTICATED=new dn(null),dn.GOOGLE_CREDENTIALS=new dn("google-credentials-uid"),dn.FIRST_PARTY=new dn("first-party-uid"),dn.MOCK_USER=new dn("mock-user");let Hr="12.8.0";function OA(r){Hr=r}const Vs=new iv("@firebase/firestore");function Rr(){return Vs.logLevel}function ut(r,...e){if(Vs.logLevel<=Kt.DEBUG){const i=e.map(yd);Vs.debug(`Firestore (${Hr}): ${r}`,...i)}}function oa(r,...e){if(Vs.logLevel<=Kt.ERROR){const i=e.map(yd);Vs.error(`Firestore (${Hr}): ${r}`,...i)}}function zr(r,...e){if(Vs.logLevel<=Kt.WARN){const i=e.map(yd);Vs.warn(`Firestore (${Hr}): ${r}`,...i)}}function yd(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function At(r,e,i){let s="Unexpected state";typeof e=="string"?s=e:i=e,gv(r,s,i)}function gv(r,e,i){let s=`FIRESTORE (${Hr}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw oa(s),new Error(s)}function te(r,e,i,s){let u="Unexpected state";typeof i=="string"?u=i:s=i,r||gv(e,u,s)}function xt(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends qr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ka{constructor(){this.promise=new Promise(((e,i)=>{this.resolve=e,this.reject=i}))}}class pv{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class MA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable((()=>i(dn.UNAUTHENTICATED)))}shutdown(){}}class LA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zA{constructor(e){this.t=e,this.currentUser=dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){te(this.o===void 0,42304);let s=this.i;const u=v=>this.i!==s?(s=this.i,i(v)):Promise.resolve();let f=new Ka;this.o=()=>{this.i++,this.currentUser=this.u(),f.resolve(),f=new Ka,e.enqueueRetryable((()=>u(this.currentUser)))};const d=()=>{const v=f;e.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},y=v=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>y(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),f.resolve(),f=new Ka)}}),0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==e?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(te(typeof s.accessToken=="string",31837,{l:s}),new pv(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return te(e===null||typeof e=="string",2055,{h:e}),new dn(e)}}class UA{constructor(e,i,s){this.P=e,this.T=i,this.I=s,this.type="FirstParty",this.user=dn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class jA{constructor(e,i,s){this.P=e,this.T=i,this.I=s}getToken(){return Promise.resolve(new UA(this.P,this.T,this.I))}start(e,i){e.enqueueRetryable((()=>i(dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Yy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BA{constructor(e,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,i){te(this.o===void 0,3512);const s=f=>{f.error!=null&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const d=f.token!==this.m;return this.m=f.token,ut("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable((()=>s(f)))};const u=f=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((f=>u(f))),setTimeout((()=>{if(!this.appCheck){const f=this.V.getImmediate({optional:!0});f?u(f):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Yy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((i=>i?(te(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Yy(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function kA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}class _d{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const u=kA(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+=e.charAt(u[f]%62))}return s}}function Ht(r,e){return r<e?-1:r>e?1:0}function Zh(r,e){const i=Math.min(r.length,e.length);for(let s=0;s<i;s++){const u=r.charAt(s),f=e.charAt(s);if(u!==f)return jh(u)===jh(f)?Ht(u,f):jh(u)?1:-1}return Ht(r.length,e.length)}const PA=55296,qA=57343;function jh(r){const e=r.charCodeAt(0);return e>=PA&&e<=qA}function Ur(r,e,i){return r.length===e.length&&r.every(((s,u)=>i(s,e[u])))}const Ky="__name__";class Li{constructor(e,i,s){i===void 0?i=0:i>e.length&&At(637,{offset:i,range:e.length}),s===void 0?s=e.length-i:s>e.length-i&&At(1746,{length:s,range:e.length-i}),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return Li.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof Li?e.forEach((s=>{i.push(s)})):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let u=0;u<s;u++){const f=Li.compareSegments(e.get(u),i.get(u));if(f!==0)return f}return Ht(e.length,i.length)}static compareSegments(e,i){const s=Li.isNumericId(e),u=Li.isNumericId(i);return s&&!u?-1:!s&&u?1:s&&u?Li.extractNumericId(e).compare(Li.extractNumericId(i)):Zh(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ya.fromString(e.substring(4,e.length-2))}}class ce extends Li{construct(e,i,s){return new ce(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((u=>u.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const HA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Li{construct(e,i,s){return new sn(e,i,s)}static isValidIdentifier(e){return HA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ky}static keyField(){return new sn([Ky])}static fromServerFormat(e){const i=[];let s="",u=0;const f=()=>{if(s.length===0)throw new st(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;u<e.length;){const y=e[u];if(y==="\\"){if(u+1===e.length)throw new st(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new st(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=v,u+=2}else y==="`"?(d=!d,u++):y!=="."||d?(s+=y,u++):(f(),u++)}if(f(),d)throw new st(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sn(i)}static emptyPath(){return new sn([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(ce.fromString(e))}static fromName(e){return new gt(ce.fromString(e).popFirst(5))}static empty(){return new gt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ce.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return ce.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new ce(e.slice()))}}function yv(r,e,i){if(!i)throw new st(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function GA(r,e,i,s){if(e===!0&&s===!0)throw new st(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Xy(r){if(!gt.isDocumentKey(r))throw new st(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Zy(r){if(gt.isDocumentKey(r))throw new st(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function _v(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _c(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function rc(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new st(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=_c(r);throw new st(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}function FA(r,e){if(e<=0)throw new st(Z.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}function ke(r,e){const i={typeString:r};return e&&(i.value=e),i}function gu(r,e){if(!_v(r))throw new st(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in e)if(e[s]){const u=e[s].typeString,f="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(u&&typeof d!==u){i=`JSON field '${s}' must be a ${u}.`;break}if(f!==void 0&&d!==f.value){i=`Expected '${s}' field to equal '${f.value}'`;break}}if(i)throw new st(Z.INVALID_ARGUMENT,i);return!0}const Jy=-62135596800,$y=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$y);return new me(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new st(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?Ht(this.nanoseconds,e.nanoseconds):Ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:ke("string",me._jsonSchemaVersion),seconds:ke("number"),nanoseconds:ke("number")};class Rt{static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new me(0,0))}static max(){return new Rt(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const lu=-1;function QA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,u=Rt.fromTimestamp(s===1e9?new me(i+1,0):new me(i,s));return new Za(u,gt.empty(),e)}function YA(r){return new Za(r.readTime,r.key,lu)}class Za{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Za(Rt.min(),gt.empty(),lu)}static max(){return new Za(Rt.max(),gt.empty(),lu)}}function KA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Ht(r.largestBatchId,e.largestBatchId))}const XA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gr(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==XA)throw r;ut("LocalStore","Unexpectedly lost primary lease")}class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new J(((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}}))}toPromise(){return new Promise(((e,i)=>{this.next(e,i)}))}wrapUserFunction(e){try{const i=e();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction((()=>e(i))):J.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction((()=>e(i))):J.reject(i)}static resolve(e){return new J(((i,s)=>{i(e)}))}static reject(e){return new J(((i,s)=>{s(e)}))}static waitFor(e){return new J(((i,s)=>{let u=0,f=0,d=!1;e.forEach((y=>{++u,y.next((()=>{++f,d&&f===u&&i()}),(v=>s(v)))})),d=!0,f===u&&i()}))}static or(e){let i=J.resolve(!1);for(const s of e)i=i.next((u=>u?J.resolve(u):s()));return i}static forEach(e,i){const s=[];return e.forEach(((u,f)=>{s.push(i.call(this,u,f))})),this.waitFor(s)}static mapArray(e,i){return new J(((s,u)=>{const f=e.length,d=new Array(f);let y=0;for(let v=0;v<f;v++){const _=v;i(e[_]).next((A=>{d[_]=A,++y,y===f&&s(d)}),(A=>u(A)))}}))}static doWhile(e,i){return new J(((s,u)=>{const f=()=>{e()===!0?i().next((()=>{f()}),u):s()};f()}))}}function JA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Fr(r){return r.name==="IndexedDbTransactionError"}class vc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vc.ce=-1;const vd=-1;function Ec(r){return r==null}function lc(r){return r===0&&1/r==-1/0}function $A(r){return typeof r=="number"&&Number.isInteger(r)&&!lc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const vv="";function WA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Wy(e)),e=tb(r.get(i),e);return Wy(e)}function tb(r,e){let i=e;const s=r.length;for(let u=0;u<s;u++){const f=r.charAt(u);switch(f){case"\0":i+="";break;case vv:i+="";break;default:i+=f}}return i}function Wy(r){return r+vv+""}function t_(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Ms(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function Ev(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class Ae{constructor(e,i){this.comparator=e,this.root=i||an.EMPTY}insert(e,i){return new Ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(e,s.key);if(u===0)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((i,s)=>(e(i,s),!1)))}toString(){const e=[];return this.inorderTraversal(((i,s)=>(e.push(`${i}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Fo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Fo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Fo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Fo(this.root,e,this.comparator,!0)}}class Fo{constructor(e,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=i?s(e.key,i):1,i&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(f===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,i,s,u,f){this.key=e,this.value=i,this.color=s??an.RED,this.left=u??an.EMPTY,this.right=f??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,u,f){return new an(e??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let u=this;const f=s(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,i,s),null):f===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return an.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw At(27949);return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(e,i,s,u,f){return this}insert(e,i,s){return new an(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(e){this.comparator=e,this.data=new Ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((i,s)=>(e(i),!1)))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new e_(this.data.getIterator())}getIteratorFrom(e){return new e_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach((s=>{i=i.add(s)})),i}isEqual(e){if(!(e instanceof qe)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(this.comparator(u,f)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((i=>{e.push(i)})),e}toString(){const e=[];return this.forEach((i=>e.push(i))),"SortedSet("+e.toString()+")"}copy(e){const i=new qe(this.comparator);return i.data=e,i}}class e_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class di{constructor(e){this.fields=e,e.sort(sn.comparator)}static empty(){return new di([])}unionWith(e){let i=new qe(sn.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new di(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Ur(this.fields,e.fields,((i,s)=>i.isEqual(s)))}}class Tv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const i=(function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Tv("Invalid base64 string: "+f):f}})(e);return new rn(i)}static fromUint8Array(e){const i=(function(u){let f="";for(let d=0;d<u.length;++d)f+=String.fromCharCode(u[d]);return f})(e);return new rn(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const eb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ja(r){if(te(!!r,39018),typeof r=="string"){let e=0;const i=eb.exec(r);if(te(!!i,46558,{timestamp:r}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ne(r.seconds),nanos:Ne(r.nanos)}}function Ne(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function $a(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}const Av="server_timestamp",bv="__type__",Sv="__previous_value__",wv="__local_write_time__";function Ed(r){return(r?.mapValue?.fields||{})[bv]?.stringValue===Av}function Tc(r){const e=r.mapValue.fields[Sv];return Ed(e)?Tc(e):e}function uu(r){const e=Ja(r.mapValue.fields[wv].timestampValue);return new me(e.seconds,e.nanos)}class nb{constructor(e,i,s,u,f,d,y,v,_,A,w){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=A,this.apiKey=w}}const uc="(default)";class ou{constructor(e,i){this.projectId=e,this.database=i||uc}static empty(){return new ou("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof ou&&e.projectId===this.projectId&&e.database===this.database}}function ib(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new st(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ou(r.options.projectId,e)}const Rv="__type__",ab="__max__",Qo={mapValue:{}},Cv="__vector__",oc="value";function Wa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ed(r)?4:rb(r)?9007199254740991:sb(r)?10:11:At(28295,{value:r})}function Bi(r,e){if(r===e)return!0;const i=Wa(r);if(i!==Wa(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return uu(r).isEqual(uu(e));case 3:return(function(u,f){if(typeof u.timestampValue=="string"&&typeof f.timestampValue=="string"&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const d=Ja(u.timestampValue),y=Ja(f.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(u,f){return $a(u.bytesValue).isEqual($a(f.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(u,f){return Ne(u.geoPointValue.latitude)===Ne(f.geoPointValue.latitude)&&Ne(u.geoPointValue.longitude)===Ne(f.geoPointValue.longitude)})(r,e);case 2:return(function(u,f){if("integerValue"in u&&"integerValue"in f)return Ne(u.integerValue)===Ne(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const d=Ne(u.doubleValue),y=Ne(f.doubleValue);return d===y?lc(d)===lc(y):isNaN(d)&&isNaN(y)}return!1})(r,e);case 9:return Ur(r.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return(function(u,f){const d=u.mapValue.fields||{},y=f.mapValue.fields||{};if(t_(d)!==t_(y))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(y[v]===void 0||!Bi(d[v],y[v])))return!1;return!0})(r,e);default:return At(52216,{left:r})}}function cu(r,e){return(r.values||[]).find((i=>Bi(i,e)))!==void 0}function jr(r,e){if(r===e)return 0;const i=Wa(r),s=Wa(e);if(i!==s)return Ht(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(r.booleanValue,e.booleanValue);case 2:return(function(f,d){const y=Ne(f.integerValue||f.doubleValue),v=Ne(d.integerValue||d.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1})(r,e);case 3:return n_(r.timestampValue,e.timestampValue);case 4:return n_(uu(r),uu(e));case 5:return Zh(r.stringValue,e.stringValue);case 6:return(function(f,d){const y=$a(f),v=$a(d);return y.compareTo(v)})(r.bytesValue,e.bytesValue);case 7:return(function(f,d){const y=f.split("/"),v=d.split("/");for(let _=0;_<y.length&&_<v.length;_++){const A=Ht(y[_],v[_]);if(A!==0)return A}return Ht(y.length,v.length)})(r.referenceValue,e.referenceValue);case 8:return(function(f,d){const y=Ht(Ne(f.latitude),Ne(d.latitude));return y!==0?y:Ht(Ne(f.longitude),Ne(d.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return i_(r.arrayValue,e.arrayValue);case 10:return(function(f,d){const y=f.fields||{},v=d.fields||{},_=y[oc]?.arrayValue,A=v[oc]?.arrayValue,w=Ht(_?.values?.length||0,A?.values?.length||0);return w!==0?w:i_(_,A)})(r.mapValue,e.mapValue);case 11:return(function(f,d){if(f===Qo.mapValue&&d===Qo.mapValue)return 0;if(f===Qo.mapValue)return 1;if(d===Qo.mapValue)return-1;const y=f.fields||{},v=Object.keys(y),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let w=0;w<v.length&&w<A.length;++w){const M=Zh(v[w],A[w]);if(M!==0)return M;const K=jr(y[v[w]],_[A[w]]);if(K!==0)return K}return Ht(v.length,A.length)})(r.mapValue,e.mapValue);default:throw At(23264,{he:i})}}function n_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ht(r,e);const i=Ja(r),s=Ja(e),u=Ht(i.seconds,s.seconds);return u!==0?u:Ht(i.nanos,s.nanos)}function i_(r,e){const i=r.values||[],s=e.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=jr(i[u],s[u]);if(f)return f}return Ht(i.length,s.length)}function Br(r){return Jh(r)}function Jh(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ja(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return $a(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return gt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=Jh(f);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const d of s)f?f=!1:u+=",",u+=`${d}:${Jh(i.fields[d])}`;return u+"}"})(r.mapValue):At(61005,{value:r})}function Jo(r){switch(Wa(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tc(r);return e?16+Jo(e):16;case 5:return 2*r.stringValue.length;case 6:return $a(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((u,f)=>u+Jo(f)),0)})(r.arrayValue);case 10:case 11:return(function(s){let u=0;return Ms(s.fields,((f,d)=>{u+=f.length+Jo(d)})),u})(r.mapValue);default:throw At(13486,{value:r})}}function a_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function $h(r){return!!r&&"integerValue"in r}function Td(r){return!!r&&"arrayValue"in r}function s_(r){return!!r&&"nullValue"in r}function r_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $o(r){return!!r&&"mapValue"in r}function sb(r){return(r?.mapValue?.fields||{})[Rv]?.stringValue===Cv}function eu(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Ms(r.mapValue.fields,((i,s)=>e.mapValue.fields[i]=eu(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=eu(r.arrayValue.values[i]);return e}return{...r}}function rb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ab}class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!$o(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(i)}setAll(e){let i=sn.emptyPath(),s={},u=[];e.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const v=this.getFieldsMap(i);this.applyChanges(v,s,u),s={},u=[],i=y.popLast()}d?s[y.lastSegment()]=eu(d):u.push(y.lastSegment())}));const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(e){const i=this.field(e.popLast());$o(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let u=i.mapValue.fields[e.get(s)];$o(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,s){Ms(i,((u,f)=>e[u]=f));for(const u of s)delete e[u]}clone(){return new Wn(eu(this.value))}}function Dv(r){const e=[];return Ms(r.fields,((i,s)=>{const u=new sn([i]);if($o(s)){const f=Dv(s.mapValue).fields;if(f.length===0)e.push(u);else for(const d of f)e.push(u.child(d))}else e.push(u)})),new di(e)}class mn{constructor(e,i,s,u,f,d,y){this.key=e,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=d,this.documentState=y}static newInvalidDocument(e){return new mn(e,0,Rt.min(),Rt.min(),Rt.min(),Wn.empty(),0)}static newFoundDocument(e,i,s,u){return new mn(e,1,i,Rt.min(),s,u,0)}static newNoDocument(e,i){return new mn(e,2,i,Rt.min(),Rt.min(),Wn.empty(),0)}static newUnknownDocument(e,i){return new mn(e,3,i,Rt.min(),Rt.min(),Wn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cc{constructor(e,i){this.position=e,this.inclusive=i}}function l_(r,e,i){let s=0;for(let u=0;u<r.position.length;u++){const f=e[u],d=r.position[u];if(f.field.isKeyField()?s=gt.comparator(gt.fromName(d.referenceValue),i.key):s=jr(d,i.data.field(f.field)),f.dir==="desc"&&(s*=-1),s!==0)break}return s}function u_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Bi(r.position[i],e.position[i]))return!1;return!0}class fu{constructor(e,i="asc"){this.field=e,this.dir=i}}function lb(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class xv{}class Be extends xv{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new ob(e,i,s):i==="array-contains"?new hb(e,s):i==="in"?new db(e,s):i==="not-in"?new mb(e,s):i==="array-contains-any"?new gb(e,s):new Be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new cb(e,s):new fb(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(jr(i,this.value)):i!==null&&Wa(this.value)===Wa(i)&&this.matchesComparison(jr(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gi extends xv{constructor(e,i){super(),this.filters=e,this.op=i,this.Pe=null}static create(e,i){return new gi(e,i)}matches(e){return Nv(this)?this.filters.find((i=>!i.matches(e)))===void 0:this.filters.find((i=>i.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,i)=>e.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Nv(r){return r.op==="and"}function Iv(r){return ub(r)&&Nv(r)}function ub(r){for(const e of r.filters)if(e instanceof gi)return!1;return!0}function Wh(r){if(r instanceof Be)return r.field.canonicalString()+r.op.toString()+Br(r.value);if(Iv(r))return r.filters.map((e=>Wh(e))).join(",");{const e=r.filters.map((i=>Wh(i))).join(",");return`${r.op}(${e})`}}function Vv(r,e){return r instanceof Be?(function(s,u){return u instanceof Be&&s.op===u.op&&s.field.isEqual(u.field)&&Bi(s.value,u.value)})(r,e):r instanceof gi?(function(s,u){return u instanceof gi&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce(((f,d,y)=>f&&Vv(d,u.filters[y])),!0):!1})(r,e):void At(19439)}function Ov(r){return r instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Br(i.value)}`})(r):r instanceof gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(Ov).join(" ,")+"}"})(r):"Filter"}class ob extends Be{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class cb extends Be{constructor(e,i){super(e,"in",i),this.keys=Mv("in",i)}matches(e){return this.keys.some((i=>i.isEqual(e.key)))}}class fb extends Be{constructor(e,i){super(e,"not-in",i),this.keys=Mv("not-in",i)}matches(e){return!this.keys.some((i=>i.isEqual(e.key)))}}function Mv(r,e){return(e.arrayValue?.values||[]).map((i=>gt.fromName(i.referenceValue)))}class hb extends Be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Td(i)&&cu(i.arrayValue,this.value)}}class db extends Be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&cu(this.value.arrayValue,i)}}class mb extends Be{constructor(e,i){super(e,"not-in",i)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&i.nullValue===void 0&&!cu(this.value.arrayValue,i)}}class gb extends Be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Td(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>cu(this.value.arrayValue,s)))}}class pb{constructor(e,i=null,s=[],u=[],f=null,d=null,y=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=d,this.endAt=y,this.Te=null}}function o_(r,e=null,i=[],s=[],u=null,f=null,d=null){return new pb(r,e,i,s,u,f,d)}function Ad(r){const e=xt(r);if(e.Te===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map((s=>Wh(s))).join(","),i+="|ob:",i+=e.orderBy.map((s=>(function(f){return f.field.canonicalString()+f.dir})(s))).join(","),Ec(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((s=>Br(s))).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((s=>Br(s))).join(",")),e.Te=i}return e.Te}function bd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!lb(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Vv(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!u_(r.startAt,e.startAt)&&u_(r.endAt,e.endAt)}function td(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Qr{constructor(e,i=null,s=[],u=[],f=null,d="F",y=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=d,this.startAt=y,this.endAt=v,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function yb(r,e,i,s,u,f,d,y){return new Qr(r,e,i,s,u,f,d,y)}function Lv(r){return new Qr(r)}function c_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _b(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function zv(r){return r.collectionGroup!==null}function nu(r){const e=xt(r);if(e.Ie===null){e.Ie=[];const i=new Set;for(const f of e.explicitOrderBy)e.Ie.push(f),i.add(f.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new qe(sn.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(y=y.add(_.field))}))})),y})(e).forEach((f=>{i.has(f.canonicalString())||f.isKeyField()||e.Ie.push(new fu(f,s))})),i.has(sn.keyField().canonicalString())||e.Ie.push(new fu(sn.keyField(),s))}return e.Ie}function zi(r){const e=xt(r);return e.Ee||(e.Ee=vb(e,nu(r))),e.Ee}function vb(r,e){if(r.limitType==="F")return o_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((u=>{const f=u.dir==="desc"?"asc":"desc";return new fu(u.field,f)}));const i=r.endAt?new cc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new cc(r.startAt.position,r.startAt.inclusive):null;return o_(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function ed(r,e){const i=r.filters.concat([e]);return new Qr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function Eb(r,e){const i=r.explicitOrderBy.concat([e]);return new Qr(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function fc(r,e,i){return new Qr(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Ac(r,e){return bd(zi(r),zi(e))&&r.limitType===e.limitType}function Uv(r){return`${Ad(zi(r))}|lt:${r.limitType}`}function Cr(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((u=>Ov(u))).join(", ")}]`),Ec(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((u=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(u))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((u=>Br(u))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((u=>Br(u))).join(",")),`Target(${s})`})(zi(r))}; limitType=${r.limitType})`}function bc(r,e){return e.isFoundDocument()&&(function(s,u){const f=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):gt.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)})(r,e)&&(function(s,u){for(const f of nu(s))if(!f.field.isKeyField()&&u.data.field(f.field)===null)return!1;return!0})(r,e)&&(function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0})(r,e)&&(function(s,u){return!(s.startAt&&!(function(d,y,v){const _=l_(d,y,v);return d.inclusive?_<=0:_<0})(s.startAt,nu(s),u)||s.endAt&&!(function(d,y,v){const _=l_(d,y,v);return d.inclusive?_>=0:_>0})(s.endAt,nu(s),u))})(r,e)}function Tb(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jv(r){return(e,i)=>{let s=!1;for(const u of nu(r)){const f=Ab(u,e,i);if(f!==0)return f;s=s||u.field.isKeyField()}return 0}}function Ab(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):(function(f,d,y){const v=d.data.field(f),_=y.data.field(f);return v!==null&&_!==null?jr(v,_):At(42886)})(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return At(19790,{direction:r.dir})}}class Ls{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[u,f]of s)if(this.equalsFn(u,e))return f}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),u=this.inner[s];if(u===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return s.length===1?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(e){Ms(this.inner,((i,s)=>{for(const[u,f]of s)e(u,f)}))}isEmpty(){return Ev(this.inner)}size(){return this.innerSize}}const bb=new Ae(gt.comparator);function ca(){return bb}const Bv=new Ae(gt.comparator);function $l(...r){let e=Bv;for(const i of r)e=e.insert(i.key,i);return e}function kv(r){let e=Bv;return r.forEach(((i,s)=>e=e.insert(i,s.overlayedDocument))),e}function Is(){return iu()}function Pv(){return iu()}function iu(){return new Ls((r=>r.toString()),((r,e)=>r.isEqual(e)))}const Sb=new Ae(gt.comparator),wb=new qe(gt.comparator);function Gt(...r){let e=wb;for(const i of r)e=e.add(i);return e}const Rb=new qe(Ht);function Cb(){return Rb}function Sd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function qv(r){return{integerValue:""+r}}function Db(r,e){return $A(e)?qv(e):Sd(r,e)}class Sc{constructor(){this._=void 0}}function xb(r,e,i){return r instanceof hu?(function(u,f){const d={fields:{[bv]:{stringValue:Av},[wv]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ed(f)&&(f=Tc(f)),f&&(d.fields[Sv]=f),{mapValue:d}})(i,e):r instanceof du?Gv(r,e):r instanceof mu?Fv(r,e):(function(u,f){const d=Hv(u,f),y=f_(d)+f_(u.Ae);return $h(d)&&$h(u.Ae)?qv(y):Sd(u.serializer,y)})(r,e)}function Nb(r,e,i){return r instanceof du?Gv(r,e):r instanceof mu?Fv(r,e):i}function Hv(r,e){return r instanceof hc?(function(s){return $h(s)||(function(f){return!!f&&"doubleValue"in f})(s)})(e)?e:{integerValue:0}:null}class hu extends Sc{}class du extends Sc{constructor(e){super(),this.elements=e}}function Gv(r,e){const i=Qv(e);for(const s of r.elements)i.some((u=>Bi(u,s)))||i.push(s);return{arrayValue:{values:i}}}class mu extends Sc{constructor(e){super(),this.elements=e}}function Fv(r,e){let i=Qv(e);for(const s of r.elements)i=i.filter((u=>!Bi(u,s)));return{arrayValue:{values:i}}}class hc extends Sc{constructor(e,i){super(),this.serializer=e,this.Ae=i}}function f_(r){return Ne(r.integerValue||r.doubleValue)}function Qv(r){return Td(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ib{constructor(e,i){this.field=e,this.transform=i}}function Vb(r,e){return r.field.isEqual(e.field)&&(function(s,u){return s instanceof du&&u instanceof du||s instanceof mu&&u instanceof mu?Ur(s.elements,u.elements,Bi):s instanceof hc&&u instanceof hc?Bi(s.Ae,u.Ae):s instanceof hu&&u instanceof hu})(r.transform,e.transform)}class Ob{constructor(e,i){this.version=e,this.transformResults=i}}class la{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new la}static exists(e){return new la(void 0,e)}static updateTime(e){return new la(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wo(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class wc{}function Yv(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Xv(r.key,la.none()):new pu(r.key,r.data,la.none());{const i=r.data,s=Wn.empty();let u=new qe(sn.comparator);for(let f of e.fields)if(!u.has(f)){let d=i.field(f);d===null&&f.length>1&&(f=f.popLast(),d=i.field(f)),d===null?s.delete(f):s.set(f,d),u=u.add(f)}return new zs(r.key,s,new di(u.toArray()),la.none())}}function Mb(r,e,i){r instanceof pu?(function(u,f,d){const y=u.value.clone(),v=d_(u.fieldTransforms,f,d.transformResults);y.setAll(v),f.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,e,i):r instanceof zs?(function(u,f,d){if(!Wo(u.precondition,f))return void f.convertToUnknownDocument(d.version);const y=d_(u.fieldTransforms,f,d.transformResults),v=f.data;v.setAll(Kv(u)),v.setAll(y),f.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,e,i):(function(u,f,d){f.convertToNoDocument(d.version).setHasCommittedMutations()})(0,e,i)}function au(r,e,i,s){return r instanceof pu?(function(f,d,y,v){if(!Wo(f.precondition,d))return y;const _=f.value.clone(),A=m_(f.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,e,i,s):r instanceof zs?(function(f,d,y,v){if(!Wo(f.precondition,d))return y;const _=m_(f.fieldTransforms,v,d),A=d.data;return A.setAll(Kv(f)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),y===null?null:y.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map((w=>w.field)))})(r,e,i,s):(function(f,d,y){return Wo(f.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,e,i)}function Lb(r,e){let i=null;for(const s of r.fieldTransforms){const u=e.data.field(s.field),f=Hv(s.transform,u||null);f!=null&&(i===null&&(i=Wn.empty()),i.set(s.field,f))}return i||null}function h_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&Ur(s,u,((f,d)=>Vb(f,d)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pu extends wc{constructor(e,i,s,u=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class zs extends wc{constructor(e,i,s,u,f=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function Kv(r){const e=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}})),e}function d_(r,e,i){const s=new Map;te(r.length===i.length,32656,{Ve:i.length,de:r.length});for(let u=0;u<i.length;u++){const f=r[u],d=f.transform,y=e.data.field(f.field);s.set(f.field,Nb(d,y,i[u]))}return s}function m_(r,e,i){const s=new Map;for(const u of r){const f=u.transform,d=i.data.field(u.field);s.set(u.field,xb(f,d,e))}return s}class Xv extends wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zb extends wc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ub{constructor(e,i,s,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&Mb(f,e,s[u])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=au(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=au(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Pv();return this.mutations.forEach((u=>{const f=e.get(u.key),d=f.overlayedDocument;let y=this.applyToLocalView(d,f.mutatedFields);y=i.has(u.key)?null:y;const v=Yv(d,y);v!==null&&s.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(Rt.min())})),s}keys(){return this.mutations.reduce(((e,i)=>e.add(i.key)),Gt())}isEqual(e){return this.batchId===e.batchId&&Ur(this.mutations,e.mutations,((i,s)=>h_(i,s)))&&Ur(this.baseMutations,e.baseMutations,((i,s)=>h_(i,s)))}}class wd{constructor(e,i,s,u){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(e,i,s){te(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let u=(function(){return Sb})();const f=e.mutations;for(let d=0;d<f.length;d++)u=u.insert(f[d].key,s[d].version);return new wd(e,i,s,u)}}class jb{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Bb{constructor(e,i){this.count=e,this.unchangedNames=i}}var je,Yt;function kb(r){switch(r){case Z.OK:return At(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function Zv(r){if(r===void 0)return oa("GRPC error has no .code"),Z.UNKNOWN;switch(r){case je.OK:return Z.OK;case je.CANCELLED:return Z.CANCELLED;case je.UNKNOWN:return Z.UNKNOWN;case je.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case je.INTERNAL:return Z.INTERNAL;case je.UNAVAILABLE:return Z.UNAVAILABLE;case je.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case je.NOT_FOUND:return Z.NOT_FOUND;case je.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case je.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case je.ABORTED:return Z.ABORTED;case je.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case je.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case je.DATA_LOSS:return Z.DATA_LOSS;default:return At(39323,{code:r})}}(Yt=je||(je={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function Pb(){return new TextEncoder}const qb=new Ya([4294967295,4294967295],0);function g_(r){const e=Pb().encode(r),i=new ov;return i.update(e),new Uint8Array(i.digest())}function p_(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),u=e.getUint32(8,!0),f=e.getUint32(12,!0);return[new Ya([i,s],0),new Ya([u,f],0)]}class Rd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*e.length-i,this.pe=Ya.fromNumber(this.ge)}ye(e,i,s){let u=e.add(i.multiply(Ya.fromNumber(s)));return u.compare(qb)===1&&(u=new Ya([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const i=g_(e),[s,u]=p_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);if(!this.we(d))return!1}return!0}static create(e,i,s){const u=e%8==0?0:8-e%8,f=new Uint8Array(Math.ceil(e/8)),d=new Rd(f,u,i);return s.forEach((y=>d.insert(y))),d}insert(e){if(this.ge===0)return;const i=g_(e),[s,u]=p_(i);for(let f=0;f<this.hashCount;f++){const d=this.ye(s,u,f);this.be(d)}}be(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rc{constructor(e,i,s,u,f){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const u=new Map;return u.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Rc(Rt.min(),u,new Ae(Ht),ca(),Gt())}}class yu{constructor(e,i,s,u,f){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new yu(s,i,Gt(),Gt(),Gt())}}class tc{constructor(e,i,s,u){this.Se=e,this.removedTargetIds=i,this.key=s,this.De=u}}class Jv{constructor(e,i){this.targetId=e,this.Ce=i}}class $v{constructor(e,i,s=rn.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=u}}class y_{constructor(){this.ve=0,this.Fe=__(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Gt(),i=Gt(),s=Gt();return this.Fe.forEach(((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:At(38017,{changeType:f})}})),new yu(this.Me,this.xe,e,i,s)}Ke(){this.Oe=!1,this.Fe=__()}qe(e,i){this.Oe=!0,this.Fe=this.Fe.insert(e,i)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,te(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Hb{constructor(e){this.Ge=e,this.ze=new Map,this.je=ca(),this.He=Yo(),this.Je=Yo(),this.Ze=new Ae(Ht)}Xe(e){for(const i of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(i,e.De):this.et(i,e.key,e.De);for(const i of e.removedTargetIds)this.et(i,e.key,e.De)}tt(e){this.forEachTarget(e,(i=>{const s=this.nt(i);switch(e.state){case 0:this.rt(i)&&s.Le(e.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(e.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.Qe(),s.Le(e.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(e.resumeToken));break;default:At(56790,{state:e.state})}}))}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.ze.forEach(((s,u)=>{this.rt(u)&&i(u)}))}st(e){const i=e.targetId,s=e.Ce.count,u=this.ot(i);if(u){const f=u.target;if(td(f))if(s===0){const d=new gt(f.path);this.et(i,d,mn.newNoDocument(d,Rt.min()))}else te(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const y=this.ut(e),v=y?this.ct(y,e,d):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(i,_)}}}}}ut(e){const i=e.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let d,y;try{d=$a(s).toUint8Array()}catch(v){if(v instanceof Tv)return zr("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new Rd(d,u,f)}catch(v){return zr(v instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.ge===0?null:y}ct(e,i,s){return i.Ce.count===s-this.Pt(e,i.targetId)?0:2}Pt(e,i){const s=this.Ge.getRemoteKeysForTarget(i);let u=0;return s.forEach((f=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${f.path.canonicalString()}`;e.mightContain(y)||(this.et(i,f,null),u++)})),u}Tt(e){const i=new Map;this.ze.forEach(((f,d)=>{const y=this.ot(d);if(y){if(f.current&&td(y.target)){const v=new gt(y.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,mn.newNoDocument(v,e))}f.Be&&(i.set(d,f.ke()),f.Ke())}}));let s=Gt();this.Je.forEach(((f,d)=>{let y=!0;d.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(s=s.add(f))})),this.je.forEach(((f,d)=>d.setReadTime(e)));const u=new Rc(e,i,this.Ze,this.je,s);return this.je=ca(),this.He=Yo(),this.Je=Yo(),this.Ze=new Ae(Ht),u}Ye(e,i){if(!this.rt(e))return;const s=this.Et(e,i.key)?2:0;this.nt(e).qe(i.key,s),this.je=this.je.insert(i.key,i),this.He=this.He.insert(i.key,this.It(i.key).add(e)),this.Je=this.Je.insert(i.key,this.Rt(i.key).add(e))}et(e,i,s){if(!this.rt(e))return;const u=this.nt(e);this.Et(e,i)?u.qe(i,1):u.Ue(i),this.Je=this.Je.insert(i,this.Rt(i).delete(e)),this.Je=this.Je.insert(i,this.Rt(i).add(e)),s&&(this.je=this.je.insert(i,s))}removeTarget(e){this.ze.delete(e)}_t(e){const i=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let i=this.ze.get(e);return i||(i=new y_,this.ze.set(e,i)),i}Rt(e){let i=this.Je.get(e);return i||(i=new qe(Ht),this.Je=this.Je.insert(e,i)),i}It(e){let i=this.He.get(e);return i||(i=new qe(Ht),this.He=this.He.insert(e,i)),i}rt(e){const i=this.ot(e)!==null;return i||ut("WatchChangeAggregator","Detected inactive target",e),i}ot(e){const i=this.ze.get(e);return i&&i.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new y_),this.Ge.getRemoteKeysForTarget(e).forEach((i=>{this.et(e,i,null)}))}Et(e,i){return this.Ge.getRemoteKeysForTarget(e).has(i)}}function Yo(){return new Ae(gt.comparator)}function __(){return new Ae(gt.comparator)}const Gb={asc:"ASCENDING",desc:"DESCENDING"},Fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qb={and:"AND",or:"OR"};class Yb{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function nd(r,e){return r.useProto3Json||Ec(e)?e:{value:e}}function dc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wv(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function Kb(r,e){return dc(r,e.toTimestamp())}function Ui(r){return te(!!r,49232),Rt.fromTimestamp((function(i){const s=Ja(i);return new me(s.seconds,s.nanos)})(r))}function Cd(r,e){return id(r,e).canonicalString()}function id(r,e){const i=(function(u){return new ce(["projects",u.projectId,"databases",u.database])})(r).child("documents");return e===void 0?i:i.child(e)}function t0(r){const e=ce.fromString(r);return te(s0(e),10190,{key:e.toString()}),e}function ad(r,e){return Cd(r.databaseId,e.path)}function Bh(r,e){const i=t0(e);if(i.get(1)!==r.databaseId.projectId)throw new st(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(n0(i))}function e0(r,e){return Cd(r.databaseId,e)}function Xb(r){const e=t0(r);return e.length===4?ce.emptyPath():n0(e)}function sd(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function n0(r){return te(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function v_(r,e,i){return{name:ad(r,e),fields:i.value.mapValue.fields}}function Zb(r,e){let i;if("targetChange"in e){e.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:At(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],f=(function(_,A){return _.useProto3Json?(te(A===void 0||typeof A=="string",58123),rn.fromBase64String(A||"")):(te(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),rn.fromUint8Array(A||new Uint8Array))})(r,e.targetChange.resumeToken),d=e.targetChange.cause,y=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:Zv(_.code);return new st(A,_.message||"")})(d);i=new $v(s,u,f,y||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const u=Bh(r,s.document.name),f=Ui(s.document.updateTime),d=s.document.createTime?Ui(s.document.createTime):Rt.min(),y=new Wn({mapValue:{fields:s.document.fields}}),v=mn.newFoundDocument(u,f,d,y),_=s.targetIds||[],A=s.removedTargetIds||[];i=new tc(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const u=Bh(r,s.document),f=s.readTime?Ui(s.readTime):Rt.min(),d=mn.newNoDocument(u,f),y=s.removedTargetIds||[];i=new tc([],y,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const u=Bh(r,s.document),f=s.removedTargetIds||[];i=new tc([],f,u,null)}else{if(!("filter"in e))return At(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:u=0,unchangedNames:f}=s,d=new Bb(u,f),y=s.targetId;i=new Jv(y,d)}}return i}function Jb(r,e){let i;if(e instanceof pu)i={update:v_(r,e.key,e.value)};else if(e instanceof Xv)i={delete:ad(r,e.key)};else if(e instanceof zs)i={update:v_(r,e.key,e.data),updateMask:rS(e.fieldMask)};else{if(!(e instanceof zb))return At(16599,{dt:e.type});i={verify:ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map((s=>(function(f,d){const y=d.transform;if(y instanceof hu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof du)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof mu)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof hc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw At(20930,{transform:d.transform})})(0,s)))),e.precondition.isNone||(i.currentDocument=(function(u,f){return f.updateTime!==void 0?{updateTime:Kb(u,f.updateTime)}:f.exists!==void 0?{exists:f.exists}:At(27497)})(r,e.precondition)),i}function $b(r,e){return r&&r.length>0?(te(e!==void 0,14353),r.map((i=>(function(u,f){let d=u.updateTime?Ui(u.updateTime):Ui(f);return d.isEqual(Rt.min())&&(d=Ui(f)),new Ob(d,u.transformResults||[])})(i,e)))):[]}function Wb(r,e){return{documents:[e0(r,e.path)]}}function tS(r,e){const i={structuredQuery:{}},s=e.path;let u;e.collectionGroup!==null?(u=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=e0(r,u);const f=(function(_){if(_.length!==0)return a0(gi.create(_,"and"))})(e.filters);f&&(i.structuredQuery.where=f);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:Dr(M.field),direction:iS(M.dir)}})(A)))})(e.orderBy);d&&(i.structuredQuery.orderBy=d);const y=nd(r,e.limit);return y!==null&&(i.structuredQuery.limit=y),e.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:i,parent:u}}function eS(r){let e=Xb(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){te(s===1,65062);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let f=[];i.where&&(f=(function(w){const M=i0(w);return M instanceof gi&&Iv(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(W){return new fu(xr(W.field),(function(nt){switch(nt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let y=null;i.limit&&(y=(function(w){let M;return M=typeof w=="object"?w.value:w,Ec(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(w){const M=!!w.before,K=w.values||[];return new cc(K,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(w){const M=!w.before,K=w.values||[];return new cc(K,M)})(i.endAt)),yb(e,u,d,f,y,"F",v,_)}function nS(r,e){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:u})}})(e.purpose);return i==null?null:{"goog-listen-tags":i}}function i0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=xr(i.unaryFilter.field);return Be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=xr(i.unaryFilter.field);return Be.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=xr(i.unaryFilter.field);return Be.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=xr(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Be.create(xr(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return gi.create(i.compositeFilter.filters.map((s=>i0(s))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(i.compositeFilter.op))})(r):At(30097,{filter:r})}function iS(r){return Gb[r]}function aS(r){return Fb[r]}function sS(r){return Qb[r]}function Dr(r){return{fieldPath:r.canonicalString()}}function xr(r){return sn.fromServerFormat(r.fieldPath)}function a0(r){return r instanceof Be?(function(i){if(i.op==="=="){if(r_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NAN"}};if(s_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(r_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NAN"}};if(s_(i.value))return{unaryFilter:{field:Dr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dr(i.field),op:aS(i.op),value:i.value}}})(r):r instanceof gi?(function(i){const s=i.getFilters().map((u=>a0(u)));return s.length===1?s[0]:{compositeFilter:{op:sS(i.op),filters:s}}})(r):At(54877,{filter:r})}function rS(r){const e=[];return r.fields.forEach((i=>e.push(i.canonicalString()))),{fieldPaths:e}}function s0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function r0(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ga{constructor(e,i,s,u,f=Rt.min(),d=Rt.min(),y=rn.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(e){return new Ga(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lS{constructor(e){this.yt=e}}function uS(r){const e=eS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?fc(e,e.limit,"L"):e}class oS{constructor(){this.Sn=new cS}addToCollectionParentIndex(e,i){return this.Sn.add(i),J.resolve()}getCollectionParents(e,i){return J.resolve(this.Sn.getEntries(i))}addFieldIndex(e,i){return J.resolve()}deleteFieldIndex(e,i){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,i){return J.resolve()}getDocumentsMatchingTarget(e,i){return J.resolve(null)}getIndexType(e,i){return J.resolve(0)}getFieldIndexes(e,i){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,i){return J.resolve(Za.min())}getMinOffsetFromCollectionGroup(e,i){return J.resolve(Za.min())}updateCollectionGroup(e,i,s){return J.resolve()}updateIndexEntries(e,i){return J.resolve()}}class cS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i]||new qe(ce.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(e){const i=e.lastSegment(),s=e.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(e){return(this.index[e]||new qe(ce.comparator)).toArray()}}const E_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l0=41943040;class Dn{static withCacheSize(e){return new Dn(e,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}Dn.DEFAULT_COLLECTION_PERCENTILE=10,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dn.DEFAULT=new Dn(l0,Dn.DEFAULT_COLLECTION_PERCENTILE,Dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dn.DISABLED=new Dn(-1,0,0);class kr{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new kr(0)}static ar(){return new kr(-1)}}const T_="LruGarbageCollector",fS=1048576;function A_([r,e],[i,s]){const u=Ht(r,i);return u===0?Ht(e,s):u}class hS{constructor(e){this.Pr=e,this.buffer=new qe(A_),this.Tr=0}Ir(){return++this.Tr}Er(e){const i=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();A_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ut(T_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Fr(i)?ut(T_,"Ignoring IndexedDB error during garbage collection: ",i):await Gr(i)}await this.Ar(3e5)}))}}class mS{constructor(e,i){this.Vr=e,this.params=i}calculateTargetCount(e,i){return this.Vr.dr(e).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(e,i){if(i===0)return J.resolve(vc.ce);const s=new hS(i);return this.Vr.forEachTarget(e,(u=>s.Er(u.sequenceNumber))).next((()=>this.Vr.mr(e,(u=>s.Er(u))))).next((()=>s.maxValue))}removeTargets(e,i,s){return this.Vr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.Vr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(E_)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),E_):this.gr(e,i)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,i){let s,u,f,d,y,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),u=this.params.maximumSequenceNumbersToCollect):u=w,d=Date.now(),this.nthSequenceNumber(e,u)))).next((w=>(s=w,y=Date.now(),this.removeTargets(e,s,i)))).next((w=>(f=w,v=Date.now(),this.removeOrphanedDocuments(e,s)))).next((w=>(_=Date.now(),Rr()<=Kt.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(y-d)+`ms
	Removed ${f} targets in `+(v-y)+`ms
	Removed ${w} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:w}))))}}function gS(r,e){return new mS(r,e)}class pS{constructor(){this.changes=new Ls((e=>e.toString()),((e,i)=>e.isEqual(i))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?J.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class yS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}class _S{constructor(e,i,s,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next((u=>(s=u,this.remoteDocumentCache.getEntry(e,i)))).next((u=>(s!==null&&au(s.mutation,u,di.empty(),me.now()),u)))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.getLocalViewOfDocuments(e,s,Gt()).next((()=>s))))}getLocalViewOfDocuments(e,i,s=Gt()){const u=Is();return this.populateOverlays(e,u,i).next((()=>this.computeViews(e,i,u,s).next((f=>{let d=$l();return f.forEach(((y,v)=>{d=d.insert(y,v.overlayedDocument)})),d}))))}getOverlayedDocuments(e,i){const s=Is();return this.populateOverlays(e,s,i).next((()=>this.computeViews(e,i,s,Gt())))}populateOverlays(e,i,s){const u=[];return s.forEach((f=>{i.has(f)||u.push(f)})),this.documentOverlayCache.getOverlays(e,u).next((f=>{f.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(e,i,s,u){let f=ca();const d=iu(),y=(function(){return iu()})();return i.forEach(((v,_)=>{const A=s.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof zs)?f=f.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),au(A.mutation,_,A.mutation.getFieldMask(),me.now())):d.set(_.key,di.empty())})),this.recalculateAndSaveOverlays(e,f).next((v=>(v.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>y.set(_,new yS(A,d.get(_)??null)))),y)))}recalculateAndSaveOverlays(e,i){const s=iu();let u=new Ae(((d,y)=>d-y)),f=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next((d=>{for(const y of d)y.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let A=s.get(v)||di.empty();A=y.applyToLocalView(_,A),s.set(v,A);const w=(u.get(y.batchId)||Gt()).add(v);u=u.insert(y.batchId,w)}))})).next((()=>{const d=[],y=u.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),_=v.key,A=v.value,w=Pv();A.forEach((M=>{if(!f.has(M)){const K=Yv(i.get(M),s.get(M));K!==null&&w.set(M,K),f=f.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(e,_,w))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,i,s,u){return _b(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):zv(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,u):this.getDocumentsMatchingCollectionQuery(e,i,s,u)}getNextDocuments(e,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,u).next((f=>{const d=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,u-f.size):J.resolve(Is());let y=lu,v=f;return d.next((_=>J.forEach(_,((A,w)=>(y<w.largestBatchId&&(y=w.largestBatchId),f.get(A)?J.resolve():this.remoteDocumentCache.getEntry(e,A).next((M=>{v=v.insert(A,M)}))))).next((()=>this.populateOverlays(e,_,f))).next((()=>this.computeViews(e,v,_,Gt()))).next((A=>({batchId:y,changes:kv(A)})))))}))}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next((s=>{let u=$l();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u}))}getDocumentsMatchingCollectionGroupQuery(e,i,s,u){const f=i.collectionGroup;let d=$l();return this.indexManager.getCollectionParents(e,f).next((y=>J.forEach(y,(v=>{const _=(function(w,M){return new Qr(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,v.child(f));return this.getDocumentsMatchingCollectionQuery(e,_,s,u).next((A=>{A.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(e,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next((d=>(f=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,f,u)))).next((d=>{f.forEach(((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,mn.newInvalidDocument(A)))}));let y=$l();return d.forEach(((v,_)=>{const A=f.get(v);A!==void 0&&au(A.mutation,_,di.empty(),me.now()),bc(i,_)&&(y=y.insert(v,_))})),y}))}}class vS{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,i){return J.resolve(this.Nr.get(i))}saveBundleMetadata(e,i){return this.Nr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:Ui(u.createTime)}})(i)),J.resolve()}getNamedQuery(e,i){return J.resolve(this.Br.get(i))}saveNamedQuery(e,i){return this.Br.set(i.name,(function(u){return{name:u.name,query:uS(u.bundledQuery),readTime:Ui(u.readTime)}})(i)),J.resolve()}}class ES{constructor(){this.overlays=new Ae(gt.comparator),this.Lr=new Map}getOverlay(e,i){return J.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Is();return J.forEach(i,(u=>this.getOverlay(e,u).next((f=>{f!==null&&s.set(u,f)})))).next((()=>s))}saveOverlays(e,i,s){return s.forEach(((u,f)=>{this.bt(e,i,f)})),J.resolve()}removeOverlaysForBatchId(e,i,s){const u=this.Lr.get(s);return u!==void 0&&(u.forEach((f=>this.overlays=this.overlays.remove(f))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(e,i,s){const u=Is(),f=i.length+1,d=new gt(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const v=y.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===f&&v.largestBatchId>s&&u.set(v.getKey(),v)}return J.resolve(u)}getOverlaysForCollectionGroup(e,i,s,u){let f=new Ae(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let A=f.get(_.largestBatchId);A===null&&(A=Is(),f=f.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const y=Is(),v=f.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,A)=>y.set(_,A))),!(y.size()>=u)););return J.resolve(y)}bt(e,i,s){const u=this.overlays.get(s.key);if(u!==null){const d=this.Lr.get(u.largestBatchId).delete(s.key);this.Lr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new jb(i,s));let f=this.Lr.get(i);f===void 0&&(f=Gt(),this.Lr.set(i,f)),this.Lr.set(i,f.add(s.key))}}class TS{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,J.resolve()}}class Dd{constructor(){this.kr=new qe(Qe.Kr),this.qr=new qe(Qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,i){const s=new Qe(e,i);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(e,i){e.forEach((s=>this.addReference(s,i)))}removeReference(e,i){this.Wr(new Qe(e,i))}Qr(e,i){e.forEach((s=>this.removeReference(s,i)))}Gr(e){const i=new gt(new ce([])),s=new Qe(i,e),u=new Qe(i,e+1),f=[];return this.qr.forEachInRange([s,u],(d=>{this.Wr(d),f.push(d.key)})),f}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const i=new gt(new ce([])),s=new Qe(i,e),u=new Qe(i,e+1);let f=Gt();return this.qr.forEachInRange([s,u],(d=>{f=f.add(d.key)})),f}containsKey(e){const i=new Qe(e,0),s=this.kr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Qe{constructor(e,i){this.key=e,this.Hr=i}static Kr(e,i){return gt.comparator(e.key,i.key)||Ht(e.Hr,i.Hr)}static Ur(e,i){return Ht(e.Hr,i.Hr)||gt.comparator(e.key,i.key)}}class AS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Yn=1,this.Jr=new qe(Qe.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,u){const f=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ub(f,i,s,u);this.mutationQueue.push(d);for(const y of u)this.Jr=this.Jr.add(new Qe(y.key,f)),this.indexManager.addToCollectionParentIndex(e,y.key.path.popLast());return J.resolve(d)}lookupMutationBatch(e,i){return J.resolve(this.Zr(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,u=this.Xr(s),f=u<0?0:u;return J.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?vd:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Qe(i,0),u=new Qe(i,Number.POSITIVE_INFINITY),f=[];return this.Jr.forEachInRange([s,u],(d=>{const y=this.Zr(d.Hr);f.push(y)})),J.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new qe(Ht);return i.forEach((u=>{const f=new Qe(u,0),d=new Qe(u,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([f,d],(y=>{s=s.add(y.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,u=s.length+1;let f=s;gt.isDocumentKey(f)||(f=f.child(""));const d=new Qe(new gt(f),0);let y=new qe(Ht);return this.Jr.forEachWhile((v=>{const _=v.key.path;return!!s.isPrefixOf(_)&&(_.length===u&&(y=y.add(v.Hr)),!0)}),d),J.resolve(this.Yr(y))}Yr(e){const i=[];return e.forEach((s=>{const u=this.Zr(s);u!==null&&i.push(u)})),i}removeMutationBatch(e,i){te(this.ei(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(i.mutations,(u=>{const f=new Qe(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)})).next((()=>{this.Jr=s}))}nr(e){}containsKey(e,i){const s=new Qe(i,0),u=this.Jr.firstAfterOrEqual(s);return J.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,i){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const i=this.Xr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bS{constructor(e){this.ti=e,this.docs=(function(){return new Ae(gt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,d=this.ti(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-f,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return J.resolve(s?s.document.mutableCopy():mn.newInvalidDocument(i))}getEntries(e,i){let s=ca();return i.forEach((u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():mn.newInvalidDocument(u))})),J.resolve(s)}getDocumentsMatchingQuery(e,i,s,u){let f=ca();const d=i.path,y=new gt(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||KA(YA(A),s)<=0||(u.has(A.key)||bc(i,A))&&(f=f.insert(A.key,A.mutableCopy()))}return J.resolve(f)}getAllFromCollectionGroup(e,i,s,u){At(9500)}ni(e,i){return J.forEach(this.docs,(s=>i(s)))}newChangeBuffer(e){return new SS(this)}getSize(e){return J.resolve(this.size)}}class SS extends pS{constructor(e){super(),this.Mr=e}applyChanges(e){const i=[];return this.changes.forEach(((s,u)=>{u.isValidDocument()?i.push(this.Mr.addEntry(e,u)):this.Mr.removeEntry(s)})),J.waitFor(i)}getFromCache(e,i){return this.Mr.getEntry(e,i)}getAllFromCache(e,i){return this.Mr.getEntries(e,i)}}class wS{constructor(e){this.persistence=e,this.ri=new Ls((i=>Ad(i)),bd),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.ii=0,this.si=new Dd,this.targetCount=0,this.oi=kr._r()}forEachTarget(e,i){return this.ri.forEach(((s,u)=>i(u))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.ii&&(this.ii=i),J.resolve()}lr(e){this.ri.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.oi=new kr(i),this.highestTargetId=i),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,i){return this.lr(i),this.targetCount+=1,J.resolve()}updateTargetData(e,i){return this.lr(i),J.resolve()}removeTargetData(e,i){return this.ri.delete(i.target),this.si.Gr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,i,s){let u=0;const f=[];return this.ri.forEach(((d,y)=>{y.sequenceNumber<=i&&s.get(y.targetId)===null&&(this.ri.delete(d),f.push(this.removeMatchingKeysForTargetId(e,y.targetId)),u++)})),J.waitFor(f).next((()=>u))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,i){const s=this.ri.get(i)||null;return J.resolve(s)}addMatchingKeys(e,i,s){return this.si.$r(i,s),J.resolve()}removeMatchingKeys(e,i,s){this.si.Qr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach((d=>{f.push(u.markPotentiallyOrphaned(e,d))})),J.waitFor(f)}removeMatchingKeysForTargetId(e,i){return this.si.Gr(i),J.resolve()}getMatchingKeysForTargetId(e,i){const s=this.si.jr(i);return J.resolve(s)}containsKey(e,i){return J.resolve(this.si.containsKey(i))}}class u0{constructor(e,i){this._i={},this.overlays={},this.ai=new vc(0),this.ui=!1,this.ui=!0,this.ci=new TS,this.referenceDelegate=e(this),this.li=new wS(this),this.indexManager=new oS,this.remoteDocumentCache=(function(u){return new bS(u)})((s=>this.referenceDelegate.hi(s))),this.serializer=new lS(i),this.Pi=new vS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new ES,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this._i[e.toKey()];return s||(s=new AS(i,this.referenceDelegate),this._i[e.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,i,s){ut("MemoryPersistence","Starting transaction:",e);const u=new RS(this.ai.next());return this.referenceDelegate.Ti(),s(u).next((f=>this.referenceDelegate.Ii(u).next((()=>f)))).toPromise().then((f=>(u.raiseOnCommittedEvent(),f)))}Ei(e,i){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(e,i))))}}class RS extends ZA{constructor(e){super(),this.currentSequenceNumber=e}}class xd{constructor(e){this.persistence=e,this.Ri=new Dd,this.Ai=null}static Vi(e){return new xd(e)}get di(){if(this.Ai)return this.Ai;throw At(60996)}addReference(e,i,s){return this.Ri.addReference(s,i),this.di.delete(s.toString()),J.resolve()}removeReference(e,i,s){return this.Ri.removeReference(s,i),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,i){return this.di.add(i.toString()),J.resolve()}removeTarget(e,i){this.Ri.Gr(i.targetId).forEach((u=>this.di.add(u.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next((u=>{u.forEach((f=>this.di.add(f.toString())))})).next((()=>s.removeTargetData(e,i)))}Ti(){this.Ai=new Set}Ii(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const u=gt.fromPath(s);return this.mi(e,u).next((f=>{f||i.removeEntry(u,Rt.min())}))})).next((()=>(this.Ai=null,i.apply(e))))}updateLimboDocument(e,i){return this.mi(e,i).next((s=>{s?this.di.delete(i.toString()):this.di.add(i.toString())}))}hi(e){return 0}mi(e,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.Ei(e,i)])}}class mc{constructor(e,i){this.persistence=e,this.fi=new Ls((s=>WA(s.path)),((s,u)=>s.isEqual(u))),this.garbageCollector=gS(this,i)}static Vi(e,i){return new mc(e,i)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}dr(e){const i=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>i.next((u=>s+u))))}pr(e){let i=0;return this.mr(e,(s=>{i++})).next((()=>i))}mr(e,i){return J.forEach(this.fi,((s,u)=>this.wr(e,s,u).next((f=>f?J.resolve():i(u)))))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const u=this.persistence.getRemoteDocumentCache(),f=u.newChangeBuffer();return u.ni(e,(d=>this.wr(e,d,i).next((y=>{y||(s++,f.removeEntry(d,Rt.min()))})))).next((()=>f.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,i,s){return this.fi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,i){return this.fi.set(i,e.currentSequenceNumber),J.resolve()}hi(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Jo(e.data.value)),i}wr(e,i,s){return J.or([()=>this.persistence.Ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.fi.get(i);return J.resolve(u!==void 0&&u>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Nd{constructor(e,i,s,u){this.targetId=e,this.fromCache=i,this.Ts=s,this.Is=u}static Es(e,i){let s=Gt(),u=Gt();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Nd(e,i.fromCache,s,u)}}class CS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class DS{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return d1()?8:JA(f1())>0?6:4})()}initialize(e,i){this.fs=e,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(e,i,s,u){const f={result:null};return this.gs(e,i).next((d=>{f.result=d})).next((()=>{if(!f.result)return this.ps(e,i,u,s).next((d=>{f.result=d}))})).next((()=>{if(f.result)return;const d=new CS;return this.ys(e,i,d).next((y=>{if(f.result=y,this.As)return this.ws(e,i,d,y.size)}))})).next((()=>f.result))}ws(e,i,s,u){return s.documentReadCount<this.Vs?(Rr()<=Kt.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",Cr(i),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Rr()<=Kt.DEBUG&&ut("QueryEngine","Query:",Cr(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.ds*u?(Rr()<=Kt.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",Cr(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zi(i))):J.resolve())}gs(e,i){if(c_(i))return J.resolve(null);let s=zi(i);return this.indexManager.getIndexType(e,s).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=fc(i,null,"F"),s=zi(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next((f=>{const d=Gt(...f);return this.fs.getDocuments(e,d).next((y=>this.indexManager.getMinOffset(e,s).next((v=>{const _=this.bs(i,y);return this.Ss(i,_,d,v.readTime)?this.gs(e,fc(i,null,"F")):this.Ds(e,_,i,v)}))))})))))}ps(e,i,s,u){return c_(i)||u.isEqual(Rt.min())?J.resolve(null):this.fs.getDocuments(e,s).next((f=>{const d=this.bs(i,f);return this.Ss(i,d,s,u)?J.resolve(null):(Rr()<=Kt.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Cr(i)),this.Ds(e,d,i,QA(u,lu)).next((y=>y)))}))}bs(e,i){let s=new qe(jv(e));return i.forEach(((u,f)=>{bc(e,f)&&(s=s.add(f))})),s}Ss(e,i,s,u){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const f=e.limitType==="F"?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}ys(e,i,s){return Rr()<=Kt.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",Cr(i)),this.fs.getDocumentsMatchingQuery(e,i,Za.min(),s)}Ds(e,i,s,u){return this.fs.getDocumentsMatchingQuery(e,s,u).next((f=>(i.forEach((d=>{f=f.insert(d.key,d)})),f)))}}const Id="LocalStore",xS=3e8;class NS{constructor(e,i,s,u){this.persistence=e,this.Cs=i,this.serializer=u,this.vs=new Ae(Ht),this.Fs=new Ls((f=>Ad(f)),bd),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(s)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _S(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>e.collect(i,this.vs)))}}function IS(r,e,i,s){return new NS(r,e,i,s)}async function o0(r,e){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next((f=>(u=f,i.Os(e),i.mutationQueue.getAllMutationBatches(s)))).next((f=>{const d=[],y=[];let v=Gt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of f){y.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(s,v).next((_=>({Ns:_,removedBatchIds:d,addedBatchIds:y})))}))}))}function VS(r,e){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const u=e.batch.keys(),f=i.xs.newChangeBuffer({trackRemovals:!0});return(function(y,v,_,A){const w=_.batch,M=w.keys();let K=J.resolve();return M.forEach((W=>{K=K.next((()=>A.getEntry(v,W))).next((et=>{const nt=_.docVersions.get(W);te(nt!==null,48541),et.version.compareTo(nt)<0&&(w.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),K.next((()=>y.mutationQueue.removeMutationBatch(v,w)))})(i,s,e,f).next((()=>f.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,e.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(y){let v=Gt();for(let _=0;_<y.mutationResults.length;++_)y.mutationResults[_].transformResults.length>0&&(v=v.add(y.batch.mutations[_].key));return v})(e)))).next((()=>i.localDocuments.getDocuments(s,u)))}))}function c0(r){const e=xt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>e.li.getLastRemoteSnapshotVersion(i)))}function OS(r,e){const i=xt(r),s=e.snapshotVersion;let u=i.vs;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(f=>{const d=i.xs.newChangeBuffer({trackRemovals:!0});u=i.vs;const y=[];e.targetChanges.forEach(((A,w)=>{const M=u.get(w);if(!M)return;y.push(i.li.removeMatchingKeys(f,A.removedDocuments,w).next((()=>i.li.addMatchingKeys(f,A.addedDocuments,w))));let K=M.withSequenceNumber(f.currentSequenceNumber);e.targetMismatches.get(w)!==null?K=K.withResumeToken(rn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):A.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(A.resumeToken,s)),u=u.insert(w,K),(function(et,nt,ht){return et.resumeToken.approximateByteSize()===0||nt.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=xS?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(M,K,A)&&y.push(i.li.updateTargetData(f,K))}));let v=ca(),_=Gt();if(e.documentUpdates.forEach((A=>{e.resolvedLimboDocuments.has(A)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(f,A))})),y.push(MS(f,d,e.documentUpdates).next((A=>{v=A.Bs,_=A.Ls}))),!s.isEqual(Rt.min())){const A=i.li.getLastRemoteSnapshotVersion(f).next((w=>i.li.setTargetsMetadata(f,f.currentSequenceNumber,s)));y.push(A)}return J.waitFor(y).next((()=>d.apply(f))).next((()=>i.localDocuments.getLocalViewOfDocuments(f,v,_))).next((()=>v))})).then((f=>(i.vs=u,f)))}function MS(r,e,i){let s=Gt(),u=Gt();return i.forEach((f=>s=s.add(f))),e.getEntries(r,s).next((f=>{let d=ca();return i.forEach(((y,v)=>{const _=f.get(y);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(y)),v.isNoDocument()&&v.version.isEqual(Rt.min())?(e.removeEntry(y,v.readTime),d=d.insert(y,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(y,v)):ut(Id,"Ignoring outdated watch update for ",y,". Current version:",_.version," Watch version:",v.version)})),{Bs:d,Ls:u}}))}function LS(r,e){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=vd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zS(r,e){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let u;return i.li.getTargetData(s,e).next((f=>f?(u=f,J.resolve(u)):i.li.allocateTargetId(s).next((d=>(u=new Ga(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.li.addTargetData(s,u).next((()=>u)))))))})).then((s=>{const u=i.vs.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.vs=i.vs.insert(s.targetId,s),i.Fs.set(e,s.targetId)),s}))}async function rd(r,e,i){const s=xt(r),u=s.vs.get(e),f=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",f,(d=>s.persistence.referenceDelegate.removeTarget(d,u)))}catch(d){if(!Fr(d))throw d;ut(Id,`Failed to update sequence numbers for target ${e}: ${d}`)}s.vs=s.vs.remove(e),s.Fs.delete(u.target)}function b_(r,e,i){const s=xt(r);let u=Rt.min(),f=Gt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,_,A){const w=xt(v),M=w.Fs.get(A);return M!==void 0?J.resolve(w.vs.get(M)):w.li.getTargetData(_,A)})(s,d,zi(e)).next((y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,y.targetId).next((v=>{f=v}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,e,i?u:Rt.min(),i?f:Gt()))).next((y=>(US(s,Tb(e),y),{documents:y,ks:f})))))}function US(r,e,i){let s=r.Ms.get(e)||Rt.min();i.forEach(((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)})),r.Ms.set(e,s)}class S_{constructor(){this.activeTargetIds=Cb()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jS{constructor(){this.vo=new S_,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,i,s){this.Fo[e]=i}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new S_,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class BS{Mo(e){}shutdown(){}}const w_="ConnectivityMonitor";class R_{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ut(w_,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ut(w_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ko=null;function ld(){return Ko===null?Ko=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ko++,"0x"+Ko.toString(16)}const kh="RestConnection",kS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PS{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.qo=i+"://"+e.host,this.Uo=`projects/${s}/databases/${u}`,this.$o=this.databaseId.database===uc?`project_id=${s}`:`project_id=${s}&database_id=${u}`}Wo(e,i,s,u,f){const d=ld(),y=this.Qo(e,i.toUriEncodedString());ut(kh,`Sending RPC '${e}' ${d}:`,y,s);const v={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(v,u,f);const{host:_}=new URL(y),A=gd(_);return this.zo(e,y,v,s,A).then((w=>(ut(kh,`Received RPC '${e}' ${d}: `,w),w)),(w=>{throw zr(kh,`RPC '${e}' ${d} failed with error: `,w,"url: ",y,"request:",s),w}))}jo(e,i,s,u,f,d){return this.Wo(e,i,s,u,f)}Go(e,i,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hr})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,f)=>e[f]=u)),s&&s.headers.forEach(((u,f)=>e[f]=u))}Qo(e,i){const s=kS[e];let u=`${this.qo}/v1/${i}:${s}`;return this.databaseInfo.apiKey&&(u=`${u}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),u}terminate(){}}class qS{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const hn="WebChannelConnection",Zl=(r,e,i)=>{r.listen(e,(s=>{try{i(s)}catch(u){setTimeout((()=>{throw u}),0)}}))};class Ir extends PS{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ir.c_){const e=dv();Zl(e,hv.STAT_EVENT,(i=>{i.stat===Xh.PROXY?ut(hn,"STAT_EVENT: detected buffering proxy"):i.stat===Xh.NOPROXY&&ut(hn,"STAT_EVENT: detected no buffering proxy")})),Ir.c_=!0}}zo(e,i,s,u,f){const d=ld();return new Promise(((y,v)=>{const _=new cv;_.setWithCredentials(!0),_.listenOnce(fv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Zo.NO_ERROR:const w=_.getResponseJson();ut(hn,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),y(w);break;case Zo.TIMEOUT:ut(hn,`RPC '${e}' ${d} timed out`),v(new st(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Zo.HTTP_ERROR:const M=_.getStatus();if(ut(hn,`RPC '${e}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let K=_.getResponseJson();Array.isArray(K)&&(K=K[0]);const W=K?.error;if(W&&W.status&&W.message){const et=(function(ht){const yt=ht.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(yt)>=0?yt:Z.UNKNOWN})(W.status);v(new st(et,W.message))}else v(new st(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new st(Z.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:e,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ut(hn,`RPC '${e}' ${d} completed.`)}}));const A=JSON.stringify(u);ut(hn,`RPC '${e}' ${d} sending request:`,u),_.send(i,"POST",A,s,15)}))}T_(e,i,s){const u=ld(),f=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=this.createWebChannelTransport(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Go(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const _=f.join("");ut(hn,`Creating RPC '${e}' stream ${u}: ${_}`,y);const A=d.createWebChannel(_,y);this.I_(A);let w=!1,M=!1;const K=new qS({Ho:W=>{M?ut(hn,`Not sending because RPC '${e}' stream ${u} is closed:`,W):(w||(ut(hn,`Opening RPC '${e}' stream ${u} transport.`),A.open(),w=!0),ut(hn,`RPC '${e}' stream ${u} sending:`,W),A.send(W))},Jo:()=>A.close()});return Zl(A,Jl.EventType.OPEN,(()=>{M||(ut(hn,`RPC '${e}' stream ${u} transport opened.`),K.i_())})),Zl(A,Jl.EventType.CLOSE,(()=>{M||(M=!0,ut(hn,`RPC '${e}' stream ${u} transport closed`),K.o_(),this.E_(A))})),Zl(A,Jl.EventType.ERROR,(W=>{M||(M=!0,zr(hn,`RPC '${e}' stream ${u} transport errored. Name:`,W.name,"Message:",W.message),K.o_(new st(Z.UNAVAILABLE,"The operation could not be completed")))})),Zl(A,Jl.EventType.MESSAGE,(W=>{if(!M){const et=W.data[0];te(!!et,16349);const nt=et,ht=nt?.error||nt[0]?.error;if(ht){ut(hn,`RPC '${e}' stream ${u} received error:`,ht);const yt=ht.status;let dt=(function(Ct){const R=je[Ct];if(R!==void 0)return Zv(R)})(yt),bt=ht.message;dt===void 0&&(dt=Z.INTERNAL,bt="Unknown error status: "+yt+" with message "+ht.message),M=!0,K.o_(new st(dt,bt)),A.close()}else ut(hn,`RPC '${e}' stream ${u} received:`,et),K.__(et)}})),Ir.u_(),setTimeout((()=>{K.s_()}),0),K}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((i=>i===e))}Go(e,i,s){super.Go(e,i,s),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mv()}}function HS(r){return new Ir(r)}function Ph(){return typeof document<"u"?document:null}function Cc(r){return new Yb(r,!0)}Ir.c_=!1;class f0{constructor(e,i,s=1e3,u=1.5,f=6e4){this.Ci=e,this.timerId=i,this.R_=s,this.A_=u,this.V_=f,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const i=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-s);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.d_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const C_="PersistentStream";class h0{constructor(e,i,s,u,f,d,y,v){this.Ci=e,this.b_=s,this.S_=u,this.connection=f,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f0(e,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,i){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(oa(i.toString()),oa("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(i)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,u])=>{this.D_===i&&this.G_(s,u)}),(s=>{e((()=>{const u=new st(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(u)}))}))}G_(e,i){const s=this.Q_(this.D_);this.stream=this.j_(e,i),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((u=>{s((()=>this.z_(u)))})),this.stream.onMessage((u=>{s((()=>++this.F_==1?this.H_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ut(C_,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return i=>{this.Ci.enqueueAndForget((()=>this.D_===e?i():(ut(C_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GS extends h0{constructor(e,i,s,u,f,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}j_(e,i){return this.connection.T_("Listen",e,i)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const i=Zb(this.serializer,e),s=(function(f){if(!("targetChange"in f))return Rt.min();const d=f.targetChange;return d.targetIds&&d.targetIds.length?Rt.min():d.readTime?Ui(d.readTime):Rt.min()})(e);return this.listener.J_(i,s)}Z_(e){const i={};i.database=sd(this.serializer),i.addTarget=(function(f,d){let y;const v=d.target;if(y=td(v)?{documents:Wb(f,v)}:{query:tS(f,v).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=Wv(f,d.resumeToken);const _=nd(f,d.expectedCount);_!==null&&(y.expectedCount=_)}else if(d.snapshotVersion.compareTo(Rt.min())>0){y.readTime=dc(f,d.snapshotVersion.toTimestamp());const _=nd(f,d.expectedCount);_!==null&&(y.expectedCount=_)}return y})(this.serializer,e);const s=nS(this.serializer,e);s&&(i.labels=s),this.K_(i)}X_(e){const i={};i.database=sd(this.serializer),i.removeTarget=e,this.K_(i)}}class FS extends h0{constructor(e,i,s,u,f,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,d),this.serializer=f}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,i){return this.connection.T_("Write",e,i)}H_(e){return te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const i=$b(e.writeResults,e.commitTime),s=Ui(e.commitTime);return this.listener.na(s,i)}ra(){const e={};e.database=sd(this.serializer),this.K_(e)}ea(e){const i={streamToken:this.lastStreamToken,writes:e.map((s=>Jb(this.serializer,s)))};this.K_(i)}}class QS{}class YS extends QS{constructor(e,i,s,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new st(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,i,s,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,d])=>this.connection.Wo(e,id(i,s),u,f,d))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new st(Z.UNKNOWN,f.toString())}))}jo(e,i,s,u,f){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.jo(e,id(i,s),u,d,y,f))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function KS(r,e,i,s){return new YS(r,e,i,s)}class XS{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(oa(i),this.aa=!1):ut("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Os="RemoteStore";class ZS{constructor(e,i,s,u,f){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=f,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{Us(this)&&(ut(Os,"Restarting streams for network reachability change."),await(async function(v){const _=xt(v);_.Ea.add(4),await _u(_),_.Va.set("Unknown"),_.Ea.delete(4),await Dc(_)})(this))}))})),this.Va=new XS(s,u)}}async function Dc(r){if(Us(r))for(const e of r.Ra)await e(!0)}async function _u(r){for(const e of r.Ra)await e(!1)}function d0(r,e){const i=xt(r);i.Ia.has(e.targetId)||(i.Ia.set(e.targetId,e),Ld(i)?Md(i):Yr(i).O_()&&Od(i,e))}function Vd(r,e){const i=xt(r),s=Yr(i);i.Ia.delete(e),s.O_()&&m0(i,e),i.Ia.size===0&&(s.O_()?s.L_():Us(i)&&i.Va.set("Unknown"))}function Od(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Yr(r).Z_(e)}function m0(r,e){r.da.$e(e),Yr(r).X_(e)}function Md(r){r.da=new Hb({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Yr(r).start(),r.Va.ua()}function Ld(r){return Us(r)&&!Yr(r).x_()&&r.Ia.size>0}function Us(r){return xt(r).Ea.size===0}function g0(r){r.da=void 0}async function JS(r){r.Va.set("Online")}async function $S(r){r.Ia.forEach(((e,i)=>{Od(r,e)}))}async function WS(r,e){g0(r),Ld(r)?(r.Va.ha(e),Md(r)):r.Va.set("Unknown")}async function t2(r,e,i){if(r.Va.set("Online"),e instanceof $v&&e.state===2&&e.cause)try{await(async function(u,f){const d=f.cause;for(const y of f.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,d),u.Ia.delete(y),u.da.removeTarget(y))})(r,e)}catch(s){ut(Os,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await gc(r,s)}else if(e instanceof tc?r.da.Xe(e):e instanceof Jv?r.da.st(e):r.da.tt(e),!i.isEqual(Rt.min()))try{const s=await c0(r.localStore);i.compareTo(s)>=0&&await(function(f,d){const y=f.da.Tt(d);return y.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=f.Ia.get(_);A&&f.Ia.set(_,A.withResumeToken(v.resumeToken,d))}})),y.targetMismatches.forEach(((v,_)=>{const A=f.Ia.get(v);if(!A)return;f.Ia.set(v,A.withResumeToken(rn.EMPTY_BYTE_STRING,A.snapshotVersion)),m0(f,v);const w=new Ga(A.target,v,_,A.sequenceNumber);Od(f,w)})),f.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(s){ut(Os,"Failed to raise snapshot:",s),await gc(r,s)}}async function gc(r,e,i){if(!Fr(e))throw e;r.Ea.add(1),await _u(r),r.Va.set("Offline"),i||(i=()=>c0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ut(Os,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Dc(r)}))}function p0(r,e){return e().catch((i=>gc(r,i,e)))}async function xc(r){const e=xt(r),i=ts(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:vd;for(;e2(e);)try{const u=await LS(e.localStore,s);if(u===null){e.Ta.length===0&&i.L_();break}s=u.batchId,n2(e,u)}catch(u){await gc(e,u)}y0(e)&&_0(e)}function e2(r){return Us(r)&&r.Ta.length<10}function n2(r,e){r.Ta.push(e);const i=ts(r);i.O_()&&i.Y_&&i.ea(e.mutations)}function y0(r){return Us(r)&&!ts(r).x_()&&r.Ta.length>0}function _0(r){ts(r).start()}async function i2(r){ts(r).ra()}async function a2(r){const e=ts(r);for(const i of r.Ta)e.ea(i.mutations)}async function s2(r,e,i){const s=r.Ta.shift(),u=wd.from(s,e,i);await p0(r,(()=>r.remoteSyncer.applySuccessfulWrite(u))),await xc(r)}async function r2(r,e){e&&ts(r).Y_&&await(async function(s,u){if((function(d){return kb(d)&&d!==Z.ABORTED})(u.code)){const f=s.Ta.shift();ts(s).B_(),await p0(s,(()=>s.remoteSyncer.rejectFailedWrite(f.batchId,u))),await xc(s)}})(r,e),y0(r)&&_0(r)}async function D_(r,e){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),ut(Os,"RemoteStore received new credentials");const s=Us(i);i.Ea.add(3),await _u(i),s&&i.Va.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.Ea.delete(3),await Dc(i)}async function l2(r,e){const i=xt(r);e?(i.Ea.delete(2),await Dc(i)):e||(i.Ea.add(2),await _u(i),i.Va.set("Unknown"))}function Yr(r){return r.ma||(r.ma=(function(i,s,u){const f=xt(i);return f.sa(),new GS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Zo:JS.bind(null,r),Yo:$S.bind(null,r),t_:WS.bind(null,r),J_:t2.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),Ld(r)?Md(r):r.Va.set("Unknown")):(await r.ma.stop(),g0(r))}))),r.ma}function ts(r){return r.fa||(r.fa=(function(i,s,u){const f=xt(i);return f.sa(),new FS(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:i2.bind(null,r),t_:r2.bind(null,r),ta:a2.bind(null,r),na:s2.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await xc(r)):(await r.fa.stop(),r.Ta.length>0&&(ut(Os,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class zd{constructor(e,i,s,u,f){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new Ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,u,f){const d=Date.now()+s,y=new zd(e,i,d,u,f);return y.start(s),y}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(r,e){if(oa("AsyncQueue",`${e}: ${r}`),Fr(r))return new st(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class Vr{static emptySet(e){return new Vr(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=$l(),this.sortedSet=new Ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((i,s)=>(e(i),!1)))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Vr)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach((i=>{e.push(i.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Vr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}class x_{constructor(){this.ga=new Ae(gt.comparator)}track(e){const i=e.doc.key,s=this.ga.get(i);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(i,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(i):e.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:e.doc}):At(63341,{Vt:e,pa:s}):this.ga=this.ga.insert(i,e)}ya(){const e=[];return this.ga.inorderTraversal(((i,s)=>{e.push(s)})),e}}class Pr{constructor(e,i,s,u,f,d,y,v,_){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,s,u,f){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new Pr(e,i,Vr.emptySet(i),d,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ac(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class u2{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class o2{constructor(){this.queries=N_(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const u=xt(i),f=u.queries;u.queries=N_(),f.forEach(((d,y)=>{for(const v of y.ba)v.onError(s)}))})(this,new st(Z.ABORTED,"Firestore shutting down"))}}function N_(){return new Ls((r=>Uv(r)),Ac)}async function c2(r,e){const i=xt(r);let s=3;const u=e.query;let f=i.queries.get(u);f?!f.Sa()&&e.Da()&&(s=2):(f=new u2,s=e.Da()?0:1);try{switch(s){case 0:f.wa=await i.onListen(u,!0);break;case 1:f.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const y=Ud(d,`Initialization of query '${Cr(e.query)}' failed`);return void e.onError(y)}i.queries.set(u,f),f.ba.push(e),e.va(i.onlineState),f.wa&&e.Fa(f.wa)&&jd(i)}async function f2(r,e){const i=xt(r),s=e.query;let u=3;const f=i.queries.get(s);if(f){const d=f.ba.indexOf(e);d>=0&&(f.ba.splice(d,1),f.ba.length===0?u=e.Da()?0:1:!f.Sa()&&e.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function h2(r,e){const i=xt(r);let s=!1;for(const u of e){const f=u.query,d=i.queries.get(f);if(d){for(const y of d.ba)y.Fa(u)&&(s=!0);d.wa=u}}s&&jd(i)}function d2(r,e,i){const s=xt(r),u=s.queries.get(e);if(u)for(const f of u.ba)f.onError(i);s.queries.delete(e)}function jd(r){r.Ca.forEach((e=>{e.next()}))}var ud,I_;(I_=ud||(ud={})).Ma="default",I_.Cache="cache";class m2{constructor(e,i,s){this.query=e,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const u of e.docChanges)u.type!==3&&s.push(u);e=new Pr(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),i=!0):this.La(e,this.onlineState)&&(this.ka(e),i=!0),this.Na=e,i}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),i=!0),i}La(e,i){if(!e.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.Ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(e){e=Pr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ud.Cache}}class v0{constructor(e){this.key=e}}class E0{constructor(e){this.key=e}}class g2{constructor(e,i){this.query=e,this.Za=i,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Gt(),this.mutatedKeys=Gt(),this.eu=jv(e),this.tu=new Vr(this.eu)}get nu(){return this.Za}ru(e,i){const s=i?i.iu:new x_,u=i?i.tu:this.tu;let f=i?i.mutatedKeys:this.mutatedKeys,d=u,y=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(((A,w)=>{const M=u.get(A),K=bc(this.query,w)?w:null,W=!!M&&this.mutatedKeys.has(M.key),et=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let nt=!1;M&&K?M.data.isEqual(K.data)?W!==et&&(s.track({type:3,doc:K}),nt=!0):this.su(M,K)||(s.track({type:2,doc:K}),nt=!0,(v&&this.eu(K,v)>0||_&&this.eu(K,_)<0)&&(y=!0)):!M&&K?(s.track({type:0,doc:K}),nt=!0):M&&!K&&(s.track({type:1,doc:M}),nt=!0,(v||_)&&(y=!0)),nt&&(K?(d=d.add(K),f=et?f.add(A):f.delete(A)):(d=d.delete(A),f=f.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),f=f.delete(A.key),s.track({type:1,doc:A})}return{tu:d,iu:s,Ss:y,mutatedKeys:f}}su(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,u){const f=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const d=e.iu.ya();d.sort(((A,w)=>(function(K,W){const et=nt=>{switch(nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Vt:nt})}};return et(K)-et(W)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(s),u=u??!1;const y=i&&!u?this._u():[],v=this.Ya.size===0&&this.current&&!u?1:0,_=v!==this.Xa;return this.Xa=v,d.length!==0||_?{snapshot:new Pr(this.query,e.tu,f,d,e.mutatedKeys,v===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new x_,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((i=>this.Za=this.Za.add(i))),e.modifiedDocuments.forEach((i=>{})),e.removedDocuments.forEach((i=>this.Za=this.Za.delete(i))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Gt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const i=[];return e.forEach((s=>{this.Ya.has(s)||i.push(new E0(s))})),this.Ya.forEach((s=>{e.has(s)||i.push(new v0(s))})),i}cu(e){this.Za=e.ks,this.Ya=Gt();const i=this.ru(e.documents);return this.applyChanges(i,!0)}lu(){return Pr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Bd="SyncEngine";class p2{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class y2{constructor(e){this.key=e,this.hu=!1}}class _2{constructor(e,i,s,u,f,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Ls((y=>Uv(y)),Ac),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ae(gt.comparator),this.Au=new Map,this.Vu=new Dd,this.du={},this.mu=new Map,this.fu=kr.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(r,e,i=!0){const s=R0(r);let u;const f=s.Tu.get(e);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.lu()):u=await T0(s,e,i,!0),u}async function E2(r,e){const i=R0(r);await T0(i,e,!0,!1)}async function T0(r,e,i,s){const u=await zS(r.localStore,zi(e)),f=u.targetId,d=r.sharedClientState.addLocalQueryTarget(f,i);let y;return s&&(y=await T2(r,e,f,d==="current",u.resumeToken)),r.isPrimaryClient&&i&&d0(r.remoteStore,u),y}async function T2(r,e,i,s,u){r.pu=(w,M,K)=>(async function(et,nt,ht,yt){let dt=nt.view.ru(ht);dt.Ss&&(dt=await b_(et.localStore,nt.query,!1).then((({documents:R})=>nt.view.ru(R,dt))));const bt=yt&&yt.targetChanges.get(nt.targetId),Ot=yt&&yt.targetMismatches.get(nt.targetId)!=null,Ct=nt.view.applyChanges(dt,et.isPrimaryClient,bt,Ot);return O_(et,nt.targetId,Ct.au),Ct.snapshot})(r,w,M,K);const f=await b_(r.localStore,e,!0),d=new g2(e,f.ks),y=d.ru(f.documents),v=yu.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",u),_=d.applyChanges(y,r.isPrimaryClient,v);O_(r,i,_.au);const A=new p2(e,i,d);return r.Tu.set(e,A),r.Iu.has(i)?r.Iu.get(i).push(e):r.Iu.set(i,[e]),_.snapshot}async function A2(r,e,i){const s=xt(r),u=s.Tu.get(e),f=s.Iu.get(u.targetId);if(f.length>1)return s.Iu.set(u.targetId,f.filter((d=>!Ac(d,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||await rd(s.localStore,u.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Vd(s.remoteStore,u.targetId),od(s,u.targetId)})).catch(Gr)):(od(s,u.targetId),await rd(s.localStore,u.targetId,!0))}async function b2(r,e){const i=xt(r),s=i.Tu.get(e),u=i.Iu.get(s.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Vd(i.remoteStore,s.targetId))}async function S2(r,e,i){const s=I2(r);try{const u=await(function(d,y){const v=xt(d),_=me.now(),A=y.reduce(((K,W)=>K.add(W.key)),Gt());let w,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(K=>{let W=ca(),et=Gt();return v.xs.getEntries(K,A).next((nt=>{W=nt,W.forEach(((ht,yt)=>{yt.isValidDocument()||(et=et.add(ht))}))})).next((()=>v.localDocuments.getOverlayedDocuments(K,W))).next((nt=>{w=nt;const ht=[];for(const yt of y){const dt=Lb(yt,w.get(yt.key).overlayedDocument);dt!=null&&ht.push(new zs(yt.key,dt,Dv(dt.value.mapValue),la.exists(!0)))}return v.mutationQueue.addMutationBatch(K,_,ht,y)})).next((nt=>{M=nt;const ht=nt.applyToLocalDocumentSet(w,et);return v.documentOverlayCache.saveOverlays(K,nt.batchId,ht)}))})).then((()=>({batchId:M.batchId,changes:kv(w)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(u.batchId),(function(d,y,v){let _=d.du[d.currentUser.toKey()];_||(_=new Ae(Ht)),_=_.insert(y,v),d.du[d.currentUser.toKey()]=_})(s,u.batchId,i),await vu(s,u.changes),await xc(s.remoteStore)}catch(u){const f=Ud(u,"Failed to persist write");i.reject(f)}}async function A0(r,e){const i=xt(r);try{const s=await OS(i.localStore,e);e.targetChanges.forEach(((u,f)=>{const d=i.Au.get(f);d&&(te(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?d.hu=!0:u.modifiedDocuments.size>0?te(d.hu,14607):u.removedDocuments.size>0&&(te(d.hu,42227),d.hu=!1))})),await vu(i,s,e)}catch(s){await Gr(s)}}function V_(r,e,i){const s=xt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const u=[];s.Tu.forEach(((f,d)=>{const y=d.view.va(e);y.snapshot&&u.push(y.snapshot)})),(function(d,y){const v=xt(d);v.onlineState=y;let _=!1;v.queries.forEach(((A,w)=>{for(const M of w.ba)M.va(y)&&(_=!0)})),_&&jd(v)})(s.eventManager,e),u.length&&s.Pu.J_(u),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function w2(r,e,i){const s=xt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const u=s.Au.get(e),f=u&&u.key;if(f){let d=new Ae(gt.comparator);d=d.insert(f,mn.newNoDocument(f,Rt.min()));const y=Gt().add(f),v=new Rc(Rt.min(),new Map,new Ae(Ht),d,y);await A0(s,v),s.Ru=s.Ru.remove(f),s.Au.delete(e),kd(s)}else await rd(s.localStore,e,!1).then((()=>od(s,e,i))).catch(Gr)}async function R2(r,e){const i=xt(r),s=e.batch.batchId;try{const u=await VS(i.localStore,e);S0(i,s,null),b0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await vu(i,u)}catch(u){await Gr(u)}}async function C2(r,e,i){const s=xt(r);try{const u=await(function(d,y){const v=xt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return v.mutationQueue.lookupMutationBatch(_,y).next((w=>(te(w!==null,37113),A=w.keys(),v.mutationQueue.removeMutationBatch(_,w)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,y))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>v.localDocuments.getDocuments(_,A)))}))})(s.localStore,e);S0(s,e,i),b0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await vu(s,u)}catch(u){await Gr(u)}}function b0(r,e){(r.mu.get(e)||[]).forEach((i=>{i.resolve()})),r.mu.delete(e)}function S0(r,e,i){const s=xt(r);let u=s.du[s.currentUser.toKey()];if(u){const f=u.get(e);f&&(i?f.reject(i):f.resolve(),u=u.remove(e)),s.du[s.currentUser.toKey()]=u}}function od(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((s=>{r.Vu.containsKey(s)||w0(r,s)}))}function w0(r,e){r.Eu.delete(e.path.canonicalString());const i=r.Ru.get(e);i!==null&&(Vd(r.remoteStore,i),r.Ru=r.Ru.remove(e),r.Au.delete(i),kd(r))}function O_(r,e,i){for(const s of i)s instanceof v0?(r.Vu.addReference(s.key,e),D2(r,s)):s instanceof E0?(ut(Bd,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,e),r.Vu.containsKey(s.key)||w0(r,s.key)):At(19791,{wu:s})}function D2(r,e){const i=e.key,s=i.path.canonicalString();r.Ru.get(i)||r.Eu.has(s)||(ut(Bd,"New document in limbo: "+i),r.Eu.add(s),kd(r))}function kd(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const i=new gt(ce.fromString(e)),s=r.fu.next();r.Au.set(s,new y2(i)),r.Ru=r.Ru.insert(i,s),d0(r.remoteStore,new Ga(zi(Lv(i.path)),s,"TargetPurposeLimboResolution",vc.ce))}}async function vu(r,e,i){const s=xt(r),u=[],f=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((y,v)=>{d.push(s.pu(v,e,i).then((_=>{if((_||i)&&s.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;s.sharedClientState.updateQueryState(v.targetId,A?"current":"not-current")}if(_){u.push(_);const A=Nd.Es(v.targetId,_);f.push(A)}})))})),await Promise.all(d),s.Pu.J_(u),await(async function(v,_){const A=xt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(M=>J.forEach(M.Ts,(K=>A.persistence.referenceDelegate.addReference(w,M.targetId,K))).next((()=>J.forEach(M.Is,(K=>A.persistence.referenceDelegate.removeReference(w,M.targetId,K)))))))))}catch(w){if(!Fr(w))throw w;ut(Id,"Failed to update sequence numbers: "+w)}for(const w of _){const M=w.targetId;if(!w.fromCache){const K=A.vs.get(M),W=K.snapshotVersion,et=K.withLastLimboFreeSnapshotVersion(W);A.vs=A.vs.insert(M,et)}}})(s.localStore,f))}async function x2(r,e){const i=xt(r);if(!i.currentUser.isEqual(e)){ut(Bd,"User change. New user:",e.toKey());const s=await o0(i.localStore,e);i.currentUser=e,(function(f,d){f.mu.forEach((y=>{y.forEach((v=>{v.reject(new st(Z.CANCELLED,d))}))})),f.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(i,s.Ns)}}function N2(r,e){const i=xt(r),s=i.Au.get(e);if(s&&s.hu)return Gt().add(s.key);{let u=Gt();const f=i.Iu.get(e);if(!f)return u;for(const d of f){const y=i.Tu.get(d);u=u.unionWith(y.view.nu)}return u}}function R0(r){const e=xt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=A0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=N2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w2.bind(null,e),e.Pu.J_=h2.bind(null,e.eventManager),e.Pu.yu=d2.bind(null,e.eventManager),e}function I2(r){const e=xt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=R2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,e),e}class pc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,i){return null}Mu(e,i){return null}vu(e){return IS(this.persistence,new DS,e.initialUser,this.serializer)}Cu(e){return new u0(xd.Vi,this.serializer)}Du(e){return new jS}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pc.provider={build:()=>new pc};class V2 extends pc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,i){te(this.persistence.referenceDelegate instanceof mc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new dS(s,e.asyncQueue,i)}Cu(e){const i=this.cacheSizeBytes!==void 0?Dn.withCacheSize(this.cacheSizeBytes):Dn.DEFAULT;return new u0((s=>mc.Vi(s,i)),this.serializer)}}class cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>V_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2.bind(null,this.syncEngine),await l2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new o2})()}createDatastore(e){const i=Cc(e.databaseInfo.databaseId),s=HS(e.databaseInfo);return KS(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return(function(s,u,f,d,y){return new ZS(s,u,f,d,y)})(this.localStore,this.datastore,e.asyncQueue,(i=>V_(this.syncEngine,i,0)),(function(){return R_.v()?new R_:new BS})())}createSyncEngine(e,i){return(function(u,f,d,y,v,_,A){const w=new _2(u,f,d,y,v,_);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=xt(i);ut(Os,"RemoteStore shutting down."),s.Ea.add(5),await _u(s),s.Aa.shutdown(),s.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}cd.provider={build:()=>new cd};class O2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):oa("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,i){setTimeout((()=>{this.muted||e(i)}),0)}}const es="FirestoreClient";class M2{constructor(e,i,s,u,f){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this._databaseInfo=u,this.user=dn.UNAUTHENTICATED,this.clientId=_d.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=f,this.authCredentials.start(s,(async d=>{ut(es,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ut(es,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Ud(i,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function qh(r,e){r.asyncQueue.verifyOperationInProgress(),ut(es,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async u=>{s.isEqual(u)||(await o0(e.localStore,u),s=u)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function M_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await L2(r);ut(es,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener((s=>D_(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,u)=>D_(e.remoteStore,u))),r._onlineComponents=e}async function L2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ut(es,"Using user provided OfflineComponentProvider");try{await qh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!(function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;zr("Error using user provided cache. Falling back to memory cache: "+i),await qh(r,new pc)}}else ut(es,"Using default OfflineComponentProvider"),await qh(r,new V2(void 0));return r._offlineComponents}async function C0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ut(es,"Using user provided OnlineComponentProvider"),await M_(r,r._uninitializedComponentsProvider._online)):(ut(es,"Using default OnlineComponentProvider"),await M_(r,new cd))),r._onlineComponents}function z2(r){return C0(r).then((e=>e.syncEngine))}async function U2(r){const e=await C0(r),i=e.eventManager;return i.onListen=v2.bind(null,e.syncEngine),i.onUnlisten=A2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=E2.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=b2.bind(null,e.syncEngine),i}function j2(r,e,i={}){const s=new Ka;return r.asyncQueue.enqueueAndForget((async()=>(function(f,d,y,v,_){const A=new O2({next:M=>{A.Nu(),d.enqueueAndForget((()=>f2(f,w))),M.fromCache&&v.source==="server"?_.reject(new st(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),w=new m2(y,A,{includeMetadataChanges:!0,Ka:!0});return c2(f,w)})(await U2(r),r.asyncQueue,e,i,s))),s.promise}function B2(r,e){const i=new Ka;return r.asyncQueue.enqueueAndForget((async()=>S2(await z2(r),e,i))),i.promise}function D0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const k2="ComponentProvider",L_=new Map;function P2(r,e,i,s,u){return new nb(r,e,i,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,D0(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator,s)}const x0="firestore.googleapis.com",z_=!0;class U_{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new st(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=x0,this.ssl=z_}else this.host=e.host,this.ssl=e.ssl??z_;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fS)throw new st(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new st(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new st(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new st(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,u){return s.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nc{constructor(e,i,s,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new U_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new U_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new MA;switch(s.type){case"firstParty":return new jA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=L_.get(i);s&&(ut(k2,"Removing Datastore"),L_.delete(i),s.terminate())})(this),Promise.resolve()}}function q2(r,e,i,s={}){r=rc(r,Nc);const u=gd(e),f=r._getSettings(),d={...f,emulatorOptions:r._getEmulatorOptions()},y=`${e}:${i}`;u&&(r1(`https://${y}`),c1("Firestore",!0)),f.host!==x0&&f.host!==y&&zr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...f,host:y,ssl:u,emulatorOptions:s};if(!ic(v,d)&&(r._setSettings(v),s.mockUserToken)){let _,A;if(typeof s.mockUserToken=="string")_=s.mockUserToken,A=dn.MOCK_USER;else{_=l1(s.mockUserToken,r._app?.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new st(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new dn(w)}r._authCredentials=new LA(new pv(_,A))}}class ns{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ns(this.firestore,e,this._query)}}class Ye{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,i,s){if(gu(i,Ye._jsonSchema))return new Ye(e,s||null,new gt(ce.fromString(i.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:ke("string",Ye._jsonSchemaVersion),referencePath:ke("string")};class Xa extends ns{constructor(e,i,s){super(e,i,Lv(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new gt(e))}withConverter(e){return new Xa(this.firestore,e,this._path)}}function N0(r,e,...i){if(r=Lr(r),yv("collection","path",e),r instanceof Nc){const s=ce.fromString(e,...i);return Zy(s),new Xa(r,null,s)}{if(!(r instanceof Ye||r instanceof Xa))throw new st(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(e,...i));return Zy(s),new Xa(r.firestore,null,s)}}function H2(r,e,...i){if(r=Lr(r),arguments.length===1&&(e=_d.newId()),yv("doc","path",e),r instanceof Nc){const s=ce.fromString(e,...i);return Xy(s),new Ye(r,null,new gt(s))}{if(!(r instanceof Ye||r instanceof Xa))throw new st(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ce.fromString(e,...i));return Xy(s),new Ye(r.firestore,r instanceof Xa?r.converter:null,new gt(s))}}const j_="AsyncQueue";class B_{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f0(this,"async_queue_retry"),this._c=()=>{const s=Ph();s&&ut(j_,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const i=Ph();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const i=Ph();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Fr(e))throw e;ut(j_,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const i=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,oa("INTERNAL UNHANDLED ERROR: ",k_(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(e,i,s){this.uc(),this.oc.indexOf(e)>-1&&(i=0);const u=zd.createAndSchedule(this,e,i,s,(f=>this.hc(f)));return this.tc.push(u),u}uc(){this.nc&&At(47125,{Pc:k_(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const i of this.tc)if(i.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const i=this.tc.indexOf(e);this.tc.splice(i,1)}}function k_(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Pd extends Nc{constructor(e,i,s,u){super(e,i,s,u),this.type="firestore",this._queue=new B_,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new B_(e),this._firestoreClient=void 0,await e}}}function G2(r,e){const i=typeof r=="object"?r:EA(),s=typeof r=="string"?r:uc,u=gA(i,"firestore").getImmediate({identifier:s});if(!u._initialized){const f=a1("firestore");f&&q2(u,...f)}return u}function I0(r){if(r._terminated)throw new st(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||F2(r),r._firestoreClient}function F2(r){const e=r._freezeSettings(),i=P2(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new M2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(u){const f=u?._online.build();return{_offline:u?._offline.build(f),_online:f}})(r._componentsProvider))}class ti{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ti(rn.fromBase64String(e))}catch(i){throw new st(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ti(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,ti._jsonSchema))return ti.fromBase64String(e.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:ke("string",ti._jsonSchemaVersion),bytes:ke("string")};class V0{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qd{constructor(e){this._methodName=e}}class ji{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ht(this._lat,e._lat)||Ht(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(e){if(gu(e,ji._jsonSchema))return new ji(e.latitude,e.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:ke("string",ji._jsonSchemaVersion),latitude:ke("number"),longitude:ke("number")};class mi{constructor(e){this._values=(e||[]).map((i=>i))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0})(this._values,e._values)}toJSON(){return{type:mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,mi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((i=>typeof i=="number")))return new mi(e.vectorValues);throw new st(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mi._jsonSchemaVersion="firestore/vectorValue/1.0",mi._jsonSchema={type:ke("string",mi._jsonSchemaVersion),vectorValues:ke("object")};const Q2=/^__.*__$/;class Y2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new zs(e,this.data,this.fieldMask,i,this.fieldTransforms):new pu(e,this.data,i,this.fieldTransforms)}}function O0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{dataSource:r})}}class Hd{constructor(e,i,s,u,f,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,f===void 0&&this.validatePath(),this.fieldTransforms=f||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Hd({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePathSegment(e),s}childContextForFieldPath(e){const i=this.path?.child(e),s=this.contextWith({path:i,arrayElement:!1});return s.validatePath(),s}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return yc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((i=>e.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>e.isPrefixOf(i.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(O0(this.dataSource)&&Q2.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class K2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Cc(e)}createContext(e,i,s,u=!1){return new Hd({dataSource:e,methodName:i,targetDoc:s,path:sn.emptyPath(),arrayElement:!1,hasConverter:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function M0(r){const e=r._freezeSettings(),i=Cc(r._databaseId);return new K2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function X2(r,e,i,s,u,f={}){const d=r.createContext(f.merge||f.mergeFields?2:0,e,i,u);U0("Data must be an object, but it was:",d,s);const y=L0(s,d);let v,_;if(f.merge)v=new di(d.fieldMask),_=d.fieldTransforms;else if(f.mergeFields){const A=[];for(const w of f.mergeFields){const M=Eu(e,w,i);if(!d.contains(M))throw new st(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);W2(A,M)||A.push(M)}v=new di(A),_=d.fieldTransforms.filter((w=>v.covers(w.field)))}else v=null,_=d.fieldTransforms;return new Y2(new Wn(y),v,_)}class Gd extends qd{_toFieldTransform(e){return new Ib(e.path,new hu)}isEqual(e){return e instanceof Gd}}function Z2(r,e,i,s=!1){return Fd(i,r.createContext(s?4:3,e))}function Fd(r,e){if(z0(r=Lr(r)))return U0("Unsupported field value:",e,r),L0(r,e);if(r instanceof qd)return(function(s,u){if(!O0(u.dataSource))throw u.createError(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.createError(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(s,u){const f=[];let d=0;for(const y of s){let v=Fd(y,u.childContextForArray(d));v==null&&(v={nullValue:"NULL_VALUE"}),f.push(v),d++}return{arrayValue:{values:f}}})(r,e)}return(function(s,u){if((s=Lr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Db(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const f=me.fromDate(s);return{timestampValue:dc(u.serializer,f)}}if(s instanceof me){const f=new me(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dc(u.serializer,f)}}if(s instanceof ji)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ti)return{bytesValue:Wv(u.serializer,s._byteString)};if(s instanceof Ye){const f=u.databaseId,d=s.firestore._databaseId;if(!d.isEqual(f))throw u.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Cd(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof mi)return(function(d,y){const v=d instanceof mi?d.toArray():d;return{mapValue:{fields:{[Rv]:{stringValue:Cv},[oc]:{arrayValue:{values:v.map((A=>{if(typeof A!="number")throw y.createError("VectorValues must only contain numeric values.");return Sd(y.serializer,A)}))}}}}}})(s,u);if(r0(s))return s._toProto(u.serializer);throw u.createError(`Unsupported field value: ${_c(s)}`)})(r,e)}function L0(r,e){const i={};return Ev(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ms(r,((s,u)=>{const f=Fd(u,e.childContextForField(s));f!=null&&(i[s]=f)})),{mapValue:{fields:i}}}function z0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof me||r instanceof ji||r instanceof ti||r instanceof Ye||r instanceof qd||r instanceof mi||r0(r))}function U0(r,e,i){if(!z0(i)||!_v(i)){const s=_c(i);throw s==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+s)}}function Eu(r,e,i){if((e=Lr(e))instanceof V0)return e._internalPath;if(typeof e=="string")return $2(r,e);throw yc("Field path arguments must be of type string or ",r,!1,void 0,i)}const J2=new RegExp("[~\\*/\\[\\]]");function $2(r,e,i){if(e.search(J2)>=0)throw yc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new V0(...e.split("."))._internalPath}catch{throw yc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function yc(r,e,i,s,u){const f=s&&!s.isEmpty(),d=u!==void 0;let y=`Function ${e}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(f||d)&&(v+=" (found",f&&(v+=` in field ${s}`),d&&(v+=` in document ${u}`),v+=")"),new st(Z.INVALID_ARGUMENT,y+r+v)}function W2(r,e){return r.some((i=>i.isEqual(e)))}class tw{convertValue(e,i="none"){switch(Wa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ne(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes($a(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw At(62114,{value:e})}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Ms(e,((u,f)=>{s[u]=this.convertValue(f,i)})),s}convertVectorValue(e){const i=e.fields?.[oc].arrayValue?.values?.map((s=>Ne(s.doubleValue)));return new mi(i)}convertGeoPoint(e){return new ji(Ne(e.latitude),Ne(e.longitude))}convertArray(e,i){return(e.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Tc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const i=Ja(e);return new me(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=ce.fromString(e);te(s0(s),9688,{name:e});const u=new ou(s.get(1),s.get(3)),f=new gt(s.popFirst(5));return u.isEqual(i)||oa(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}class ew extends tw{constructor(e){super(),this.firestore=e}convertBytes(e){return new ti(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,i)}}function nw(){return new Gd("serverTimestamp")}const P_="@firebase/firestore",q_="4.10.0";class j0{constructor(e,i,s,u,f){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const i=this._document.data.field(Eu("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class iw extends j0{data(){return super.data()}}function aw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qd{}class Yd extends Qd{}function sw(r,e,...i){let s=[];e instanceof Qd&&s.push(e),s=s.concat(i),(function(f){const d=f.filter((v=>v instanceof Kd)).length,y=f.filter((v=>v instanceof Ic)).length;if(d>1||d>0&&y>0)throw new st(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const u of s)r=u._apply(r);return r}class Ic extends Yd{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Ic(e,i,s)}_apply(e){const i=this._parse(e);return B0(e._query,i),new ns(e.firestore,e.converter,ed(e._query,i))}_parse(e){const i=M0(e.firestore);return(function(f,d,y,v,_,A,w){let M;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new st(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){F_(w,A);const W=[];for(const et of w)W.push(G_(v,f,et));M={arrayValue:{values:W}}}else M=G_(v,f,w)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||F_(w,A),M=Z2(y,d,w,A==="in"||A==="not-in");return Be.create(_,A,M)})(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function rw(r,e,i){const s=e,u=Eu("where",r);return Ic._create(u,s,i)}class Kd extends Qd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Kd(e,i)}_parse(e){const i=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return i.length===1?i[0]:gi.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:((function(u,f){let d=u;const y=f.getFlattenedFilters();for(const v of y)B0(d,v),d=ed(d,v)})(e._query,i),new ns(e.firestore,e.converter,ed(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xd extends Yd{constructor(e,i){super(),this._field=e,this._direction=i,this.type="orderBy"}static _create(e,i){return new Xd(e,i)}_apply(e){const i=(function(u,f,d){if(u.startAt!==null)throw new st(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(u.endAt!==null)throw new st(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(f,d)})(e._query,this._field,this._direction);return new ns(e.firestore,e.converter,Eb(e._query,i))}}function H_(r,e="asc"){const i=e,s=Eu("orderBy",r);return Xd._create(s,i)}class Zd extends Yd{constructor(e,i,s){super(),this.type=e,this._limit=i,this._limitType=s}static _create(e,i,s){return new Zd(e,i,s)}_apply(e){return new ns(e.firestore,e.converter,fc(e._query,this._limit,this._limitType))}}function lw(r){return FA("limit",r),Zd._create("limit",r,"F")}function G_(r,e,i){if(typeof(i=Lr(i))=="string"){if(i==="")throw new st(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zv(e)&&i.indexOf("/")!==-1)throw new st(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(ce.fromString(i));if(!gt.isDocumentKey(s))throw new st(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return a_(r,new gt(s))}if(i instanceof Ye)return a_(r,i._key);throw new st(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_c(i)}.`)}function F_(r,e){if(!Array.isArray(r)||r.length===0)throw new st(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function B0(r,e){const i=(function(u,f){for(const d of u)for(const y of d.getFlattenedFilters())if(f.indexOf(y.op)>=0)return y.op;return null})(r.filters,(function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(i!==null)throw i===e.op?new st(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}function uw(r,e,i){let s;return s=r?r.toFirestore(e):e,s}class Xo{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Or extends j0{constructor(e,i,s,u,f,d){super(e,i,s,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ec(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(Eu("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,i={};return i.type=Or._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Or._jsonSchemaVersion="firestore/documentSnapshot/1.0",Or._jsonSchema={type:ke("string",Or._jsonSchemaVersion),bundleSource:ke("string","DocumentSnapshot"),bundleName:ke("string"),bundle:ke("string")};class ec extends Or{data(e={}){return super.data(e)}}class Mr{constructor(e,i,s,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Xo(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const e=[];return this.forEach((i=>e.push(i))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach((s=>{e.call(i,new ec(this._firestore,this._userDataWriter,s.key,s,new Xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,f){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map((y=>{const v=new ec(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Xo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((y=>f||y.type!==3)).map((y=>{const v=new ec(u._firestore,u._userDataWriter,y.doc.key,y.doc,new Xo(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return y.type!==0&&(_=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),A=d.indexOf(y.doc.key)),{type:ow(y.type),doc:v,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new st(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Mr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=_d.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],u=[];return this.docs.forEach((f=>{f._document!==null&&(i.push(f._document),s.push(this._userDataWriter.convertObjectMap(f._document.data.value.mapValue.fields,"previous")),u.push(f.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function ow(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}Mr._jsonSchemaVersion="firestore/querySnapshot/1.0",Mr._jsonSchema={type:ke("string",Mr._jsonSchemaVersion),bundleSource:ke("string","QuerySnapshot"),bundleName:ke("string"),bundle:ke("string")};function cw(r){r=rc(r,ns);const e=rc(r.firestore,Pd),i=I0(e),s=new ew(e);return aw(r._query),j2(i,r._query).then((u=>new Mr(e,s,r,u)))}function fw(r,e){const i=rc(r.firestore,Pd),s=H2(r),u=uw(r.converter,e),f=M0(r.firestore);return hw(i,[X2(f,"addDoc",s._key,u,r.converter!==null,{}).toMutation(s._key,la.exists(!1))]).then((()=>s))}function hw(r,e){const i=I0(r);return B2(i,e)}(function(e,i=!0){OA(vA),sc(new su("firestore",((s,{instanceIdentifier:u,options:f})=>{const d=s.getProvider("app").getImmediate(),y=new Pd(new zA(s.getProvider("auth-internal")),new BA(d,s.getProvider("app-check-internal")),ib(d,u),d);return f={useFetchStreams:i,...f},y._setSettings(f),y}),"PUBLIC").setMultipleInstances(!0)),Nr(P_,q_,e),Nr(P_,q_,"esm2020")})();const dw={apiKey:"AIzaSyA4FrCIHHSxOdifc31IJDXB5B2HUO9RPJQ",authDomain:"mygames-92045.firebaseapp.com",projectId:"mygames-92045",storageBucket:"mygames-92045.firebasestorage.app",messagingSenderId:"324788929289",appId:"1:324788929289:web:2dc12e0bc4a6b141adc9d8",measurementId:"G-7N7M0YHS5G"},mw=rv(dw),k0=G2(mw),P0="leaderboard",q0="my_games_001",gw=async(r,e)=>{try{return!r||r.length>7?{success:!1,error:"Invalid name"}:(await fw(N0(k0,P0),{gameId:q0,playerName:r,score:Number(e),timestamp:nw()}),{success:!0})}catch(i){return console.error("Error submitting score:",i),{success:!1,error:i.message}}},H0=async(r=5)=>{try{const e=sw(N0(k0,P0),rw("gameId","==",q0),H_("score","desc"),H_("timestamp","asc"),lw(r)),i=await cw(e),s=[];return i.forEach(u=>{const f=u.data();s.push({id:u.id,...f})}),s.sort((u,f)=>{if(f.score!==u.score)return f.score-u.score;const d=u.timestamp?u.timestamp.seconds:Date.now(),y=f.timestamp?f.timestamp.seconds:Date.now();return d-y})}catch(e){return console.error("Error fetching leaderboard:",e),[]}},pw=async r=>{try{const e=await H0(5);if(e.length===0)return 1;let i=1;for(const s of e)if(s.score>=r)i++;else break;return i}catch(e){return console.error("Check rank error:",e),999}},G0=({currentScore:r,onClose:e})=>{const[i,s]=Q.useState([]),[u,f]=Q.useState(!0);Q.useEffect(()=>{d()},[]);const d=async()=>{f(!0);const y=await H0(5);s(y),f(!1)};return k.jsxs("div",{className:"w-full max-w-[320px] bg-black/95 text-white p-5 rounded-xl border-2 border-yellow-500/50 backdrop-blur-md text-sm font-mono shadow-2xl relative",children:[k.jsx("div",{className:"flex justify-center items-center mb-2 border-b border-white/10 pb-2",children:k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx("span",{className:"text-2xl",children:""}),k.jsx("span",{className:"text-yellow-400 font-black tracking-wider text-xl",children:"RANKING"}),k.jsx("span",{className:"text-2xl",children:""})]})}),k.jsxs("div",{className:"flex justify-between items-center px-3 mb-2 text-xs text-gray-400 font-bold",children:[k.jsxs("div",{className:"flex items-center gap-6",children:[k.jsx("span",{className:"w-6 text-center",children:"RANK"}),k.jsx("span",{className:"pl-2",children:"NAME"})]}),k.jsx("span",{children:"SCORE"})]}),u&&k.jsx("div",{className:"text-center py-4 text-sm text-yellow-200",children:"Loading..."}),!u&&k.jsxs("div",{className:"space-y-2 mb-4",children:[i.map((y,v)=>k.jsxs("div",{className:`flex justify-between items-center py-2 px-3 rounded-lg border border-transparent ${y.score===r?"bg-yellow-900/40 border-yellow-500/50":"bg-white/5 even:bg-white/10"}`,children:[k.jsxs("div",{className:"flex items-center gap-6",children:[k.jsx("span",{className:`w-6 text-center font-black text-lg ${v===0?"text-yellow-400 drop-shadow":v===1?"text-gray-300":v===2?"text-amber-600":"text-gray-500"}`,children:v+1}),k.jsx("span",{className:`truncate max-w-[120px] font-bold ${v===0?"text-yellow-100":"text-white"}`,children:y.playerName})]}),k.jsx("span",{className:"text-yellow-300 font-bold text-lg font-sans",children:y.score})]},y.id||v)),i.length===0&&k.jsx("div",{className:"text-center text-gray-500 text-sm py-4",children:"No Records"})]}),e&&k.jsx("button",{onClick:e,className:"w-3/5 mx-auto block py-3 bg-white/10 hover:bg-white/20 text-white font-bold rounded-lg transition-colors border border-white/10",children:""})]})},yw=({score:r,rank:e,onSuccess:i})=>{const[s,u]=Q.useState(""),[f,d]=Q.useState(!1),[y,v]=Q.useState(""),_=w=>{const M=w.target.value,K=M.replace(/[^0-9a-zA-Z]/g,"");v(M!==K?"":""),K.length<=7&&u(K)},A=async()=>{if(!s)return;d(!0),(await gw(s,r)).success?i():(v(""),d(!1))};return k.jsxs("div",{className:"bg-black/90 p-4 rounded-xl border border-yellow-500 shadow-xl w-full mb-2 animate-slide-up",children:[k.jsxs("div",{className:"text-center mb-3",children:[k.jsxs("div",{className:"text-yellow-400 font-black text-xl mb-1 drop-shadow-md",children:[e,""]}),k.jsx("div",{className:"text-gray-300 text-xs font-bold",children:""})]}),k.jsxs("div",{className:"flex flex-col gap-3",children:[k.jsx("input",{type:"text",value:s,onChange:_,onKeyDown:w=>w.stopPropagation(),placeholder:"A-Z, 0-9 (Max 7)",disabled:f,className:"bg-white/10 border border-yellow-500/30 rounded-lg px-4 py-2 w-full text-center text-xl font-bold text-white placeholder-gray-500 tracking-wider focus:outline-none focus:border-yellow-400 transition-colors"}),k.jsx("button",{onClick:A,disabled:!s||f,className:`w-full py-2 rounded-lg font-bold text-base shadow-md transition-all active:scale-95 ${s&&!f?"bg-yellow-500 hover:bg-yellow-400 text-black":"bg-gray-700 text-gray-500 cursor-not-allowed"}`,children:f?"...":""})]}),y&&k.jsx("div",{className:"text-red-400 text-xs text-center mt-2 font-bold",children:y})]})},_w=({score:r,bestScore:e,maxCombo:i,isNewRecord:s,onRetry:u,onRetryReady:f})=>{const[d,y]=jn.useState(!1),[v,_]=Q.useState(!1),[A,w]=Q.useState(null),[M,K]=Q.useState(!1),[W,et]=Q.useState(!0),[nt,ht]=Q.useState(!1);Q.useEffect(()=>{const dt=setTimeout(()=>{ht(!0)},2e3);return r>0?pw(r).then(bt=>{bt<=5&&(_(!0),w(bt)),et(!1)}):et(!1),()=>clearTimeout(dt)},[r]),Q.useEffect(()=>{f(!W&&!v&&nt||M&&nt)},[W,v,M,nt,f]);const yt=()=>{K(!0),_(!1),y(!0)};return k.jsxs("div",{className:"absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-50 animate-fade-in text-center p-4 overflow-y-auto",children:[d&&k.jsx("div",{className:"absolute inset-0 z-[60] bg-black/90 flex flex-col items-center justify-center p-4 animate-fade-in",children:k.jsx(G0,{currentScore:r,onClose:()=>y(!1)})}),k.jsx("h2",{className:"text-4xl font-black text-white mb-2 drop-shadow-[0_0_10px_rgba(255,255,255,0.5)]",children:""}),k.jsxs("div",{className:"bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 w-11/12 max-w-sm mb-2",children:[k.jsx("h3",{className:"text-xl text-gray-300 font-bold mb-1 border-b border-gray-500 pb-1",children:""}),k.jsxs("div",{className:"mb-1",children:[k.jsx("div",{className:"text-xs text-gray-400",children:""}),s&&k.jsx("div",{className:"text-red-500 font-black text-lg animate-pulse drop-shadow-[0_1px_0_#fff]",children:"New Record!"}),k.jsx("div",{className:"text-4xl font-black text-yellow-400 tracking-wider",children:r})]}),k.jsxs("div",{className:"mb-1 flex justify-center items-baseline gap-2",children:[k.jsx("div",{className:"text-xs text-gray-400",children:""}),k.jsxs("div",{className:"text-2xl font-black text-cyan-400",children:[i," ",k.jsx("span",{className:"text-sm",children:"COMBO"})]})]}),k.jsxs("div",{className:"flex justify-center items-baseline gap-2",children:[k.jsx("div",{className:"text-xs text-gray-400",children:""}),k.jsx("div",{className:"text-lg font-bold text-white",children:e})]})]}),!W&&v&&!M&&A!==null?k.jsx("div",{className:"z-50 w-11/12 max-w-sm flex justify-center mb-2 animate-slide-up",children:k.jsx(yw,{score:r,rank:A,onSuccess:yt})}):!W&&!v&&nt||M&&nt?k.jsxs("div",{className:"flex flex-col gap-6 w-full max-w-xs items-center z-40 animate-fade-in",children:[k.jsxs("button",{onClick:()=>y(!0),className:"flex items-center justify-center gap-2 px-6 py-2 bg-indigo-900/80 hover:bg-indigo-800 text-white font-bold rounded-full border border-indigo-400 shadow-lg transition-transform hover:scale-105 w-full",children:[k.jsx("span",{className:"text-xl",children:""}),k.jsx("span",{children:""})]}),k.jsx("button",{onClick:u,className:"px-8 py-3 bg-red-600 hover:bg-red-500 text-white font-bold rounded-full text-xl transition-all transform hover:scale-105 shadow-xl w-full",children:""})]}):k.jsx("div",{className:"h-24 w-full flex items-center justify-center",children:!W&&!v&&k.jsx("div",{className:"text-white/50 text-sm animate-pulse",children:"Wait a moment..."})})]})},fd="/games/my_games_001/assets/ui_combo1-CbBZsOWX.png",vw=jn.memo(({combo:r})=>{if(r<=0)return null;const e=r%2===0?"animate-pop-a":"animate-pop-b",i=u=>{const f=parseInt(u,10),d=f%5,y=f<5?0:1,v=d*72,_=y*97;return{backgroundImage:`url(${fd})`,backgroundPosition:`-${v}px -${_}px`,backgroundSize:"384px 384px",width:"72px",height:"97px",display:"block"}},s=()=>({backgroundImage:`url(${fd})`,backgroundPosition:"0px -194px",backgroundSize:"384px 384px",width:"362px",height:"96px",display:"block"});return k.jsxs("div",{className:"fixed top-[15%] left-1/2 transform -translate-x-1/2 z-30 flex flex-col items-center pointer-events-none",style:{filter:"hue-rotate(180deg) saturate(1.5) brightness(1.2) contrast(1.1)"},children:[k.jsx("div",{className:`flex justify-center -mb-2 ${e}`,children:r.toString().split("").map((u,f)=>k.jsx("div",{style:{width:"72px",height:"97px"},className:"relative -mx-2",children:k.jsx("div",{style:i(u),className:"absolute top-0 left-0 drop-shadow-md"})},f))}),k.jsx("div",{style:{width:"362px",height:"96px"},className:"relative",children:k.jsx("div",{style:s(),className:"absolute top-0 left-0 drop-shadow-md"})})]})}),F0="/games/my_games_001/assets/dummy1_broken-CjQF3bYn.png",Q0="/games/my_games_001/assets/dummy2_broken-DL7swLJo.png",hd="/games/my_games_001/assets/effect_slash1-C4i9XoTw.png",Ew=jn.memo(({trigger:r})=>{if(!r)return null;const e=r.type==="rock"?Q0:F0;return k.jsx("div",{className:"absolute inset-0 pointer-events-none z-60 overflow-hidden",children:k.jsxs("div",{className:"absolute inset-0 flex justify-between px-10 pointer-events-none",children:[k.jsx("div",{className:"w-1/3 h-full relative",children:r.dir==="LEFT"&&k.jsxs(jn.Fragment,{children:[k.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 bottom-[calc(18%-5px)] md:bottom-[165px] w-40 h-40 md:w-48 md:h-48 z-30 pointer-events-none",children:k.jsx("img",{src:hd,alt:"Hit Spark",className:"absolute top-1/2 left-1/2 w-full h-full object-contain animate-hit-pop-a"})}),k.jsx("div",{className:"absolute left-1/2 bottom-[150px] md:bottom-[216px]",style:{transform:"translateX(-50%)"},children:k.jsx("img",{src:e,alt:"Broken Dummy",className:"h-40 w-40 object-contain max-w-none animate-fly-left-a"})})]},r.id)}),k.jsx("div",{className:"w-1/3 h-full relative",children:r.dir==="RIGHT"&&k.jsxs(jn.Fragment,{children:[k.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 bottom-[calc(18%-5px)] md:bottom-[165px] w-40 h-40 md:w-48 md:h-48 z-30 pointer-events-none scale-x-[-1]",children:k.jsx("img",{src:hd,alt:"Hit Spark",className:"absolute top-1/2 left-1/2 w-full h-full object-contain animate-hit-pop-a"})}),k.jsx("div",{className:"absolute left-1/2 bottom-[150px] md:bottom-[216px]",style:{transform:"translateX(-50%) scaleX(-1)"},children:k.jsx("img",{src:e,alt:"Broken Dummy",className:"h-40 w-40 object-contain max-w-none animate-fly-left-a"})})]},r.id)})]})})}),Tw=jn.memo(({trigger:r})=>{const[e,i]=Q.useState(!1),[s,u]=Q.useState(0);return Q.useEffect(()=>{if(r>0){i(!0),u(d=>d+1);const f=setTimeout(()=>i(!1),1300);return()=>clearTimeout(f)}},[r]),e?k.jsx("div",{className:"absolute bottom-[35%] left-1/2 transform -translate-x-1/2 z-50 pointer-events-none",children:k.jsx("div",{className:"text-4xl font-black text-yellow-200 drop-shadow-[0_6px_6px_rgba(0,0,0,1)] animate-slide-up-fade whitespace-nowrap border-text-black",children:"+2 SEC"})},s):null}),Y0="/games/my_games_001/assets/bg_main-QFTEbMeR.jpg",K0="/games/my_games_001/assets/title_logo-BgzvRy2s.png",Hh=[X_,Z_,J_,$_,Q_,Y_,F0,Q0,K_,hd,fd,K0,Y0],Aw=()=>{const[r,e]=Q.useState(0),[i,s]=Q.useState(!1);return Q.useEffect(()=>{let u=0;const f=Hh.length;Hh.forEach(d=>{const y=new Image;y.src=d,y.onload=()=>{u++,e(u),u===f&&s(!0)},y.onerror=()=>{u++,e(u),u===f&&s(!0)}})},[]),{loadedCount:r,total:Hh.length,isComplete:i}},bw=()=>{qT(),Aw();const[r,e]=jn.useState(!1),[i,s]=jn.useState(!1),{gameState:u,score:f,combo:d,maxCombo:y,isNewRecord:v,bestScore:_,globalTimeLeft:A,laneQueue:w,isStunned:M,attackDir:K,attackId:W,attackVariant:et,missDir:nt,isShaking:ht,destructionTrigger:yt,timeBonusTrigger:dt,isMobileAudio:bt,sfxReady:Ot,sfxPreparing:Ct,prepareMobileSfx:R,ensureTitleBgm:b,countdownValue:C,isMuted:V,toggleMute:x,startGame:O,handleInput:S}=kT(),[Ut,Wt]=jn.useState(!1),H=()=>{Wt(!1),O()},{handleTouch:tt}=PT({onInput:S,enabled:u==="PLAYING"&&!M});return jn.useEffect(()=>{const rt=wt=>{if(u==="PLAYING"&&!M&&(wt.key==="ArrowLeft"&&S("LEFT"),wt.key==="ArrowRight"&&S("RIGHT")),(u==="TITLE"||u==="GAME_OVER"||u==="RESULT")&&(wt.key==="ArrowDown"||wt.key===" "||wt.key==="Enter")){if((u==="RESULT"||u==="GAME_OVER")&&!Ut)return;if(wt.preventDefault(),u==="TITLE"&&bt&&!Ot){s(!0),R();return}H()}};return window.addEventListener("keydown",rt),()=>window.removeEventListener("keydown",rt)},[u,M,S,O,bt,Ot,Ut]),k.jsxs("div",{className:`relative w-full h-full overflow-hidden select-none font-sans touch-none ${ht?"animate-shake-cam":""}`,children:[k.jsx("img",{src:Y0,alt:"BG",className:"absolute inset-0 w-full h-full object-cover object-bottom z-0"}),k.jsxs("div",{className:"relative w-full h-full z-10 max-w-lg mx-auto bg-black/10 box-border",children:[k.jsx(HT,{queue:w}),k.jsx(Ew,{trigger:yt}),k.jsx(Tw,{trigger:dt}),k.jsx(GT,{isStunned:M,attackDir:K,missDir:nt,attackId:W,attackVariant:et}),u==="PLAYING"&&k.jsxs("div",{className:"absolute inset-0 flex z-30",children:[k.jsx("div",{className:"w-1/2 h-full active:bg-white/10 transition-colors",onPointerDown:()=>tt("LEFT")}),k.jsx("div",{className:"w-1/2 h-full active:bg-white/10 transition-colors",onPointerDown:()=>tt("RIGHT")})]}),u==="COUNTDOWN"&&k.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/40",children:k.jsx("div",{className:"text-9xl font-black text-white drop-shadow-2xl animate-ping-once",children:C})}),u==="TITLE"&&k.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-start pt-[15vh] md:pt-[20vh] z-50",onPointerDown:()=>{r||(s(!0),b(),bt&&!Ot&&R())},children:[r&&k.jsx("div",{className:"absolute inset-0 z-[60] bg-black/80 flex items-center justify-center animate-fade-in px-4",onPointerDown:rt=>rt.stopPropagation(),children:k.jsx(G0,{currentScore:0,onClose:()=>e(!1)})}),k.jsx("img",{src:K0,alt:"Title Logo",className:"w-[90%] max-w-md object-contain mb-2 animate-pop"}),k.jsx("div",{className:"absolute top-4 right-20 z-[100]",children:k.jsx("button",{onClick:rt=>{rt.stopPropagation(),e(!0)},className:"w-10 h-10 bg-black/50 hover:bg-black/70 border border-white/20 rounded-full flex items-center justify-center text-white transition-all shadow-lg active:scale-95","aria-label":"Ranking",children:k.jsx("span",{className:"text-xl",children:""})})}),k.jsxs("p",{className:"text-gray-300 mb-6 text-center px-4 text-sm font-bold shadow-black",children:["",k.jsx("br",{}),"",k.jsx("br",{}),""]}),bt&&!Ot?k.jsx("div",{className:"text-center text-gray-100 font-bold px-6 py-4 animate-pulse",children:i?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"text-lg",children:"..."}),k.jsx("div",{className:"text-sm text-gray-400 mt-1",children:""}),Ct&&k.jsx("div",{className:"mt-2 text-xs text-gray-500 font-normal",children:""})]}):k.jsx("div",{className:"text-xl",children:""})}):k.jsxs("button",{onClick:H,className:"group relative w-64 py-3 pl-[0.6em] text-white font-bold rounded-xl text-2xl transition-all transform hover:scale-105 active:scale-95 tracking-[0.25em]",children:[k.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-blue-700 via-cyan-500 to-blue-700 group-hover:from-blue-600 group-hover:via-cyan-400 group-hover:to-blue-600 shadow-[0_0_20px_rgba(6,182,212,0.5)] group-hover:shadow-[0_0_35px_rgba(6,182,212,0.8)] border-2 border-cyan-300 animate-pulse transition-all"}),k.jsx("span",{className:"relative z-10 drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",children:""})]})]}),(u==="GAME_OVER"||u==="RESULT")&&k.jsx("div",{className:"absolute inset-0 z-50",children:k.jsx(_w,{score:f,bestScore:_,maxCombo:y,isNewRecord:v,onRetry:H,onRetryReady:rt=>Wt(rt)})}),u==="PLAYING"&&k.jsxs(k.Fragment,{children:[k.jsx(YT,{score:f,time:A,bestScore:_}),k.jsx(vw,{combo:d})]}),k.jsx("button",{onClick:x,className:"absolute top-4 right-4 z-[100] p-3 bg-black/50 hover:bg-black/70 rounded-full text-white transition-colors border border-white/20 cursor-pointer","aria-label":V?"Unmute":"Mute",children:V?k.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",clipRule:"evenodd"}),k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2"})]}):k.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:k.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z"})})})]})]})};function Sw(){return k.jsx("div",{className:"w-full h-screen bg-black text-white overflow-hidden",children:k.jsx(bw,{})})}LT.createRoot(document.getElementById("root")).render(k.jsx(Q.StrictMode,{children:k.jsx(Sw,{})}));
